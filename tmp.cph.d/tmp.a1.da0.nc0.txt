[08:38:56] Working directory changed to /mnt/common/github/TypeScript-cph
[08:38:56] Using gulpfile /mnt/common/github/TypeScript-cph/Gulpfile.js
[08:38:56] Starting 'runtests'...
[08:38:56] Starting 'generateLibs'...
[08:38:56] Starting 'buildScripts'...
[08:38:56] Finished 'generateLibs' after 285 ms
[08:38:57] Finished 'buildScripts' after 399 ms
[08:38:57] Starting 'generateDiagnostics'...
[08:38:57] Finished 'generateDiagnostics' after 582 Î¼s
[08:38:57] Starting 'buildShims'...
[08:38:57] Starting 'buildDebugTools'...
[08:38:57] Finished 'buildShims' after 274 ms
[08:38:57] Finished 'buildDebugTools' after 274 ms
[08:38:57] Starting 'buildTsc'...
[08:38:57] Starting 'buildTests'...
[08:38:57] Starting 'buildTypescriptServicesOut'...
[08:38:57] Starting 'buildServerLibraryOut'...
[08:38:57] Finished 'buildTsc' after 289 ms
[08:38:57] Finished 'buildTests' after 289 ms
[08:38:57] Finished 'buildTypescriptServicesOut' after 289 ms
[08:38:57] Starting 'createTypescriptServicesJs'...
[08:38:57] Finished 'buildServerLibraryOut' after 289 ms
[08:38:57] Starting 'createServerLibraryJs'...
[08:38:57] Finished 'createTypescriptServicesJs' after 15 ms
[08:38:57] Starting 'createTypescriptServicesDts'...
[08:38:57] Finished 'createServerLibraryJs' after 18 ms
[08:38:57] Starting 'createServerLibraryDts'...
[08:38:57] Finished 'createTypescriptServicesDts' after 8.77 ms
[08:38:57] Starting 'createTypescriptJs'...
[08:38:57] Finished 'createServerLibraryDts' after 7.86 ms
[08:38:57] Finished 'createTypescriptJs' after 7.89 ms
[08:38:57] Starting 'createTypescriptDts'...
[08:38:57] Finished 'createTypescriptDts' after 2.47 ms
[08:38:57] Starting 'createTypescriptStandaloneDts'...
[08:38:57] Finished 'createTypescriptStandaloneDts' after 4.18 ms
[08:38:57] Starting 'runTests'...
[08:38:57] Running tests with config: {"test":["_cax-a1"],"light":true,"noColor":false,"timeout":40000,"keepFailed":false}
[08:38:57] > /home/craig/.nvm/versions/node/v16.14.2/bin/node /mnt/common/github/TypeScript-cph/node_modules/mocha/bin/_mocha -R /mnt/common/github/TypeScript-cph/scripts/failed-tests.js -O "reporter=mocha-fivemat-progress-reporter" -g "_cax-a1" --colors -t 40000 built/local/run.js

    [0mcompiler tests[0m
myDebug=true, myNoCache=false, myDisable=false
checkSourceElement
  declare type X1Foo = Readonly<{ kind: "foo", foo: string, bug: () => number[] }> ;
  checkSourceElement
    Readonly<{ kind: "foo", foo: string, bug: () => number[] }>
    checkSourceElement
      { kind: "foo", foo: string, bug: () => number[] }
      checkSourceElement
        kind: "foo",
        checkSourceElement
          "foo"
        checkExpressionWorker
          node: "foo", [37,43]
          checkExpressionWorker return: "foo", [37,43] -> "foo"
      checkSourceElement
        foo: string,
        checkSourceElement
          string
      checkSourceElement
        bug: () => number[]
        checkSourceElement
          () => number[]
          checkSourceElement
            number[]
            checkSourceElement
              number
checkSourceElement
  declare type X1Bar = Readonly<{ kind: "bar", bar: number, bug: () => number[] }> ;
  checkSourceElement
    Readonly<{ kind: "bar", bar: number, bug: () => number[] }>
    checkSourceElement
      { kind: "bar", bar: number, bug: () => number[] }
      checkSourceElement
        kind: "bar",
        checkSourceElement
          "bar"
        checkExpressionWorker
          node: "bar", [120,126]
          checkExpressionWorker return: "bar", [120,126] -> "bar"
      checkSourceElement
        bar: number,
        checkSourceElement
          number
      checkSourceElement
        bug: () => number[]
        checkSourceElement
          () => number[]
          checkSourceElement
            number[]
            checkSourceElement
              number
checkSourceElement
  declare type X1Baz = Readonly<{ kind: "baz", baz: boolean, bug: () => number[] }>;
  checkSourceElement
    Readonly<{ kind: "baz", baz: boolean, bug: () => number[] }>
    checkSourceElement
      { kind: "baz", baz: boolean, bug: () => number[] }
      checkSourceElement
        kind: "baz",
        checkSourceElement
          "baz"
        checkExpressionWorker
          node: "baz", [204,210]
          checkExpressionWorker return: "baz", [204,210] -> "baz"
      checkSourceElement
        baz: boolean,
        checkSourceElement
          boolean
      checkSourceElement
        bug: () => number[]
        checkSourceElement
          () => number[]
          checkSourceElement
            number[]
            checkSourceElement
              number
checkSourceElement
  declare type X1 = | X1Foo | X1Bar | X1Baz ;
  checkSourceElement
    | X1Foo | X1Bar | X1Baz
    checkSourceElement
      X1Foo
    checkSourceElement
      X1Bar
    checkSourceElement
      X1Baz
checkSourceElement
  declare const obj: undefined | X1;
  checkSourceElement
    obj: undefined | X1
    checkSourceElement
      undefined | X1
      checkSourceElement
        undefined
      checkSourceElement
        X1
checkSourceElement
  declare const ubool:()=>boolean;
  checkSourceElement
    ubool:()=>boolean
    checkSourceElement
      ()=>boolean
      checkSourceElement
        boolean
checkSourceElement
  {
      const isBug = obj?.bug();
      while (ubool()) { 
          if (!obj || obj.kind!=="foo") {
              if (isBug) {
                  const t = obj.bug;  // `t` and `obj.bug` are correctly typed, but `obj` is "possibly unedfined"
              }
          }        
      }
  }
  checkSourceElement
    const isBug = obj?.bug();
    checkSourceElement
      isBug = obj?.bug()
      checkExpressionWorker
        node: obj?.bug, [383,392]
        checkExpressionWorker
          node: obj, [383,387]
          getFlowTypeOfReference
            reference: obj
            declaredType: X1 | undefined
            Start|Referenced|Shared
            sharedFlowStart(cache): 0
            getTypeAtFlowNode
              (in) , Start|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
              pushFlow(Start|Referenced|Shared)
              0: , Start|Referenced|Shared
              (dbgiter:0) , Start|Referenced|Shared, flowDepth: 1
              popFlow()->Start|Referenced|Shared
              (out) , Start|Referenced|Shared, flowDepth: 0, ret: X1 | undefined
            sharedFlowCount: 1, typeAtFlowNode: X1 | undefined
            sharedFlowCount: 1, evolvedType: X1 | undefined
            return resultType: X1 | undefined
          In getIdentifier(), getFlowTypeOfReference returned X1 | undefined
          checkExpressionWorker return: obj, [383,387] -> X1 | undefined
        getFlowTypeOfReference
          reference: obj?.bug
          declaredType: (() => number[]) | (() => number[]) | (() => number[])
          Start|Referenced|Shared
          sharedFlowStart(cache): 0
          getTypeAtFlowNode
            (in) , Start|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
            pushFlow(Start|Referenced|Shared)
            0: , Start|Referenced|Shared
            (dbgiter:0) , Start|Referenced|Shared, flowDepth: 1
            popFlow()->Start|Referenced|Shared
            (out) , Start|Referenced|Shared, flowDepth: 0, ret: (() => number[]) | (() => number[]) | (() => number[])
          sharedFlowCount: 1, typeAtFlowNode: (() => number[]) | (() => number[]) | (() => number[])
          sharedFlowCount: 1, evolvedType: (() => number[]) | (() => number[]) | (() => number[])
          return resultType: (() => number[]) | (() => number[]) | (() => number[])
        checkExpressionWorker return: obj?.bug, [383,392] -> (() => number[]) | (() => number[]) | (() => number[]) | undefined
      checkExpressionWorker
        node: obj?.bug(), [383,394]
        checkExpressionWorker
          node: obj?.bug, [383,392]
          checkExpressionWorker
            node: obj, [383,387]
            getFlowTypeOfReference
              reference: obj
              declaredType: X1 | undefined
              Start|Referenced|Shared
              sharedFlowStart(cache): 0
              getTypeAtFlowNode
                (in) , Start|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
                pushFlow(Start|Referenced|Shared)
                0: , Start|Referenced|Shared
                (dbgiter:0) , Start|Referenced|Shared, flowDepth: 1
                popFlow()->Start|Referenced|Shared
                (out) , Start|Referenced|Shared, flowDepth: 0, ret: X1 | undefined
              sharedFlowCount: 1, typeAtFlowNode: X1 | undefined
              sharedFlowCount: 1, evolvedType: X1 | undefined
              return resultType: X1 | undefined
            In getIdentifier(), getFlowTypeOfReference returned X1 | undefined
            checkExpressionWorker return: obj, [383,387] -> X1 | undefined
          getFlowTypeOfReference
            reference: obj?.bug
            declaredType: (() => number[]) | (() => number[]) | (() => number[])
            Start|Referenced|Shared
            sharedFlowStart(cache): 0
            getTypeAtFlowNode
              (in) , Start|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
              pushFlow(Start|Referenced|Shared)
              0: , Start|Referenced|Shared
              (dbgiter:0) , Start|Referenced|Shared, flowDepth: 1
              popFlow()->Start|Referenced|Shared
              (out) , Start|Referenced|Shared, flowDepth: 0, ret: (() => number[]) | (() => number[]) | (() => number[])
            sharedFlowCount: 1, typeAtFlowNode: (() => number[]) | (() => number[]) | (() => number[])
            sharedFlowCount: 1, evolvedType: (() => number[]) | (() => number[]) | (() => number[])
            return resultType: (() => number[]) | (() => number[]) | (() => number[])
          checkExpressionWorker return: obj?.bug, [383,392] -> (() => number[]) | (() => number[]) | (() => number[]) | undefined
        checkExpressionWorker return: obj?.bug(), [383,394] -> number[] | undefined
  checkSourceElement
    while (ubool()) { 
            if (!obj || obj.kind!=="foo") {
                if (isBug) {
                    const t = obj.bug;  // `t` and `obj.bug` are correctly typed, but `obj` is "possibly unedfined"
                }
            }        
        }
    checkExpressionWorker
      node: ubool(), [407,414]
      checkExpressionWorker
        node: ubool, [407,412]
        getFlowTypeOfReference
          reference: ubool
          declaredType: () => boolean
          LoopLabel|Label|Referenced|Shared
          sharedFlowStart(cache): 0
          getTypeAtFlowNode
            (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
            pushFlow(LoopLabel|Label|Referenced|Shared)
            0: , LoopLabel|Label|Referenced|Shared
            (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 1
            getTypeAtFlowLoopLabel
              , LoopLabel|Label|Referenced|Shared
              getTypeAtFlowLoopLabel, (flowNode)id: 2, key:11|105|105|48: ubool,[407,412]
              getTypeAtFlowLoopLabel, The first antecedent of a loop junction is always the non-looping control
              getTypeAtFlowNode
                (in) [isBug = obj?.bug(), (375,394)], Assignment|Referenced, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                pushFlow(Assignment|Referenced)
                0: , LoopLabel|Label|Referenced|Shared
                1: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                (dbgiter:0) [isBug = obj?.bug(), (375,394)], Assignment|Referenced, flowDepth: 2
                (dbgiter:1) , BranchLabel|Label|Referenced, flowDepth: 2
                getTypeAtFlowBranchLabel
                  (in) , BranchLabel|Label|Referenced, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                  flowStack
                    0: , LoopLabel|Label|Referenced|Shared
                    1: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                  briter:0, ante:[obj, (383,387)], FalseCondition|Condition|Referenced
                  getTypeAtFlowNode
                    (in) [obj, (383,387)], FalseCondition|Condition|Referenced, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                    pushFlow(FalseCondition|Condition|Referenced)
                    0: , LoopLabel|Label|Referenced|Shared
                    1: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                    2: [obj, (383,387)], FalseCondition|Condition|Referenced
                    (dbgiter:0) [obj, (383,387)], FalseCondition|Condition|Referenced, flowDepth: 3
                    getTypeAtFlowCondition
                      (fc  in) [obj, (383,387)], FalseCondition|Condition|Referenced, flowDepth: 3
                      getTypeAtFlowNode
                        (in) , Start|Referenced|Shared, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                        pushFlow(Start|Referenced|Shared)
                        0: , LoopLabel|Label|Referenced|Shared
                        1: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                        2: [obj, (383,387)], FalseCondition|Condition|Referenced
                        3: , Start|Referenced|Shared
                        (dbgiter:0) , Start|Referenced|Shared, flowDepth: 4
                        popFlow()->Start|Referenced|Shared
                        (out) , Start|Referenced|Shared, flowDepth: 3, ret: () => boolean
                      (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: () => boolean, narrowedType: () => boolean
                      (fc out) [obj, (383,387)], FalseCondition|Condition|Referenced, flowDepth: 3, ret: () => boolean
                    popFlow()->FalseCondition|Condition|Referenced
                    (out) [obj, (383,387)], FalseCondition|Condition|Referenced, flowDepth: 2, ret: () => boolean
                  briter:0, flowType: () => boolean, type: () => boolean
                  (out) , BranchLabel|Label|Referenced, flowDepth: 2, ret: () => boolean
                popFlow()->Assignment|Referenced
                (out) [isBug = obj?.bug(), (375,394)], Assignment|Referenced, flowDepth: 1, ret: () => boolean
              getTypeAtFlowLoopLabel, cache.set(11|105|105|48: ubool,[407,412], () => boolean
              getTypeAtFlowLoopLabel, flow: , LoopLabel|Label|Referenced|Shared, return: () => boolean
            popFlow()->LoopLabel|Label|Referenced|Shared
            (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 0, ret: () => boolean
          sharedFlowCount: 2, typeAtFlowNode: () => boolean
          sharedFlowCount: 2, evolvedType: () => boolean
          return resultType: () => boolean
        In getIdentifier(), getFlowTypeOfReference returned () => boolean
        checkExpressionWorker return: ubool, [407,412] -> () => boolean
      checkExpressionWorker return: ubool(), [407,414] -> boolean
    checkSourceElement
      { 
              if (!obj || obj.kind!=="foo") {
                  if (isBug) {
                      const t = obj.bug;  // `t` and `obj.bug` are correctly typed, but `obj` is "possibly unedfined"
                  }
              }        
          }
      checkSourceElement
        if (!obj || obj.kind!=="foo") {
                    if (isBug) {
                        const t = obj.bug;  // `t` and `obj.bug` are correctly typed, but `obj` is "possibly unedfined"
                    }
                }
        checkExpressionWorker
          node: !obj || obj.kind!=="foo", [431,455]
          checkExpressionWorker
            node: !obj, [431,435]
            checkExpressionWorker
              node: obj, [432,435]
              getFlowTypeOfReference
                reference: obj
                declaredType: X1 | undefined
                LoopLabel|Label|Referenced|Shared
                sharedFlowStart(cache): 0
                getTypeAtFlowNode
                  (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
                  pushFlow(LoopLabel|Label|Referenced|Shared)
                  0: , LoopLabel|Label|Referenced|Shared
                  (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 1
                  getTypeAtFlowLoopLabel
                    , LoopLabel|Label|Referenced|Shared
                    getTypeAtFlowLoopLabel, (flowNode)id: 2, key:11|104|104|49: obj,[432,435]
                    getTypeAtFlowLoopLabel, The first antecedent of a loop junction is always the non-looping control
                    getTypeAtFlowNode
                      (in) [isBug = obj?.bug(), (375,394)], Assignment|Referenced, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                      pushFlow(Assignment|Referenced)
                      0: , LoopLabel|Label|Referenced|Shared
                      1: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                      (dbgiter:0) [isBug = obj?.bug(), (375,394)], Assignment|Referenced, flowDepth: 2
                      (dbgiter:1) , BranchLabel|Label|Referenced, flowDepth: 2
                      getTypeAtFlowBranchLabel
                        (in) , BranchLabel|Label|Referenced, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                        flowStack
                          0: , LoopLabel|Label|Referenced|Shared
                          1: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                        briter:0, ante:[obj, (383,387)], FalseCondition|Condition|Referenced
                        getTypeAtFlowNode
                          (in) [obj, (383,387)], FalseCondition|Condition|Referenced, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                          pushFlow(FalseCondition|Condition|Referenced)
                          0: , LoopLabel|Label|Referenced|Shared
                          1: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                          2: [obj, (383,387)], FalseCondition|Condition|Referenced
                          (dbgiter:0) [obj, (383,387)], FalseCondition|Condition|Referenced, flowDepth: 3
                          getTypeAtFlowCondition
                            (fc  in) [obj, (383,387)], FalseCondition|Condition|Referenced, flowDepth: 3
                            getTypeAtFlowNode
                              (in) , Start|Referenced|Shared, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                              pushFlow(Start|Referenced|Shared)
                              0: , LoopLabel|Label|Referenced|Shared
                              1: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                              2: [obj, (383,387)], FalseCondition|Condition|Referenced
                              3: , Start|Referenced|Shared
                              (dbgiter:0) , Start|Referenced|Shared, flowDepth: 4
                              popFlow()->Start|Referenced|Shared
                              (out) , Start|Referenced|Shared, flowDepth: 3, ret: X1 | undefined
                            (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: X1 | undefined, narrowedType: undefined
                            (fc out) [obj, (383,387)], FalseCondition|Condition|Referenced, flowDepth: 3, ret: undefined
                          popFlow()->FalseCondition|Condition|Referenced
                          (out) [obj, (383,387)], FalseCondition|Condition|Referenced, flowDepth: 2, ret: undefined
                        briter:0, flowType: undefined, type: undefined
                        briter:1, ante:[obj?.bug(), (383,394)], TrueCondition|Condition|Referenced
                        getTypeAtFlowNode
                          (in) [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                          pushFlow(TrueCondition|Condition|Referenced)
                          0: , LoopLabel|Label|Referenced|Shared
                          1: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                          2: [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced
                          (dbgiter:0) [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced, flowDepth: 3
                          getTypeAtFlowCondition
                            (fc  in) [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced, flowDepth: 3
                            getTypeAtFlowNode
                              (in) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                              pushFlow(TrueCondition|Condition|Referenced|Shared)
                              0: , LoopLabel|Label|Referenced|Shared
                              1: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                              2: [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced
                              3: [obj, (383,387)], TrueCondition|Condition|Referenced|Shared
                              (dbgiter:0) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 4
                              getTypeAtFlowCondition
                                (fc  in) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 4
                                getTypeAtFlowNode
                                  (in) , Start|Referenced|Shared, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                                  pushFlow(Start|Referenced|Shared)
                                  0: , LoopLabel|Label|Referenced|Shared
                                  1: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                                  2: [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced
                                  3: [obj, (383,387)], TrueCondition|Condition|Referenced|Shared
                                  4: , Start|Referenced|Shared
                                  (dbgiter:0) , Start|Referenced|Shared, flowDepth: 5
                                  popFlow()->Start|Referenced|Shared
                                  (out) , Start|Referenced|Shared, flowDepth: 4, ret: X1 | undefined
                                (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: X1 | undefined, narrowedType: X1
                                (fc out) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 4, ret: X1
                              popFlow()->TrueCondition|Condition|Referenced|Shared
                              (out) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 3, ret: X1
                            checkExpressionWorker
                              node: obj?.bug, [383,392]
                              checkExpressionWorker
                                node: obj, [383,387]
                                getFlowTypeOfReference
                                  reference: obj
                                  declaredType: X1 | undefined
                                  Start|Referenced|Shared
                                  sharedFlowStart(cache): 2
                                  getTypeAtFlowNode
                                    (in) , Start|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): 2
                                    pushFlow(Start|Referenced|Shared)
                                    0: , LoopLabel|Label|Referenced|Shared
                                    1: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                                    2: [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced
                                    3: , Start|Referenced|Shared
                                    (dbgiter:0) , Start|Referenced|Shared, flowDepth: 1
                                    popFlow()->Start|Referenced|Shared
                                    (out) , Start|Referenced|Shared, flowDepth: 0, ret: X1 | undefined
                                  sharedFlowCount: 3, typeAtFlowNode: X1 | undefined
                                  sharedFlowCount: 3, evolvedType: X1 | undefined
                                  return resultType: X1 | undefined
                                In getIdentifier(), getFlowTypeOfReference returned X1 | undefined
                                checkExpressionWorker return: obj, [383,387] -> X1 | undefined
                              getFlowTypeOfReference
                                reference: obj?.bug
                                declaredType: (() => number[]) | (() => number[]) | (() => number[])
                                Start|Referenced|Shared
                                sharedFlowStart(cache): 2
                                getTypeAtFlowNode
                                  (in) , Start|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): 2
                                  pushFlow(Start|Referenced|Shared)
                                  0: , LoopLabel|Label|Referenced|Shared
                                  1: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                                  2: [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced
                                  3: , Start|Referenced|Shared
                                  (dbgiter:0) , Start|Referenced|Shared, flowDepth: 1
                                  popFlow()->Start|Referenced|Shared
                                  (out) , Start|Referenced|Shared, flowDepth: 0, ret: (() => number[]) | (() => number[]) | (() => number[])
                                sharedFlowCount: 3, typeAtFlowNode: (() => number[]) | (() => number[]) | (() => number[])
                                sharedFlowCount: 3, evolvedType: (() => number[]) | (() => number[]) | (() => number[])
                                return resultType: (() => number[]) | (() => number[]) | (() => number[])
                              checkExpressionWorker return: obj?.bug, [383,392] -> (() => number[]) | (() => number[]) | (() => number[]) | undefined
                            (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: X1, narrowedType: X1
                            (fc out) [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced, flowDepth: 3, ret: X1
                          popFlow()->TrueCondition|Condition|Referenced
                          (out) [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced, flowDepth: 2, ret: X1
                        briter:1, flowType: X1, type: X1
                        briter:2, ante:[obj?.bug(), (383,394)], FalseCondition|Condition|Referenced
                        getTypeAtFlowNode
                          (in) [obj?.bug(), (383,394)], FalseCondition|Condition|Referenced, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                          pushFlow(FalseCondition|Condition|Referenced)
                          0: , LoopLabel|Label|Referenced|Shared
                          1: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                          2: [obj?.bug(), (383,394)], FalseCondition|Condition|Referenced
                          (dbgiter:0) [obj?.bug(), (383,394)], FalseCondition|Condition|Referenced, flowDepth: 3
                          getTypeAtFlowCondition
                            (fc  in) [obj?.bug(), (383,394)], FalseCondition|Condition|Referenced, flowDepth: 3
                            getTypeAtFlowNode
                              (in) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                              pushFlow(TrueCondition|Condition|Referenced|Shared)
                              0: , LoopLabel|Label|Referenced|Shared
                              1: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                              2: [obj?.bug(), (383,394)], FalseCondition|Condition|Referenced
                              3: [obj, (383,387)], TrueCondition|Condition|Referenced|Shared
                              (dbgiter:0) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 4
                              popFlow()->TrueCondition|Condition|Referenced|Shared
                              (out) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 3, ret: X1
                            (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: X1, narrowedType: X1
                            (fc out) [obj?.bug(), (383,394)], FalseCondition|Condition|Referenced, flowDepth: 3, ret: X1
                          popFlow()->FalseCondition|Condition|Referenced
                          (out) [obj?.bug(), (383,394)], FalseCondition|Condition|Referenced, flowDepth: 2, ret: X1
                        briter:2, flowType: X1, type: X1
                        br/antecedentTypes[0]: undefined
                        br/antecedentTypes[1]: X1
                        brTmpType: X1 | undefined
                        (out) , BranchLabel|Label|Referenced, flowDepth: 2, ret: X1 | undefined
                      popFlow()->Assignment|Referenced
                      (out) [isBug = obj?.bug(), (375,394)], Assignment|Referenced, flowDepth: 1, ret: X1 | undefined
                    getTypeAtFlowLoopLabel, cache.set(11|104|104|49: obj,[432,435], X1 | undefined
                    getTypeAtFlowLoopLabel, flow: , LoopLabel|Label|Referenced|Shared, return: X1 | undefined
                  popFlow()->LoopLabel|Label|Referenced|Shared
                  (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 0, ret: X1 | undefined
                sharedFlowCount: 3, typeAtFlowNode: X1 | undefined
                sharedFlowCount: 3, evolvedType: X1 | undefined
                return resultType: X1 | undefined
              In getIdentifier(), getFlowTypeOfReference returned X1 | undefined
              checkExpressionWorker return: obj, [432,435] -> X1 | undefined
            checkExpressionWorker
              node: obj, [432,435]
              getFlowTypeOfReference
                reference: obj
                declaredType: X1 | undefined
                LoopLabel|Label|Referenced|Shared
                sharedFlowStart(cache): 0
                getTypeAtFlowNode
                  (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
                  pushFlow(LoopLabel|Label|Referenced|Shared)
                  0: , LoopLabel|Label|Referenced|Shared
                  (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 1
                  getTypeAtFlowLoopLabel
                    , LoopLabel|Label|Referenced|Shared
                    getTypeAtFlowLoopLabel, (flowNode)id: 2, key:11|104|104|49: obj,[432,435]
                    getTypeAtFlowLoopLabel, cached
                    getTypeAtFlowLoopLabel, flow: , LoopLabel|Label|Referenced|Shared, return: X1 | undefined
                  popFlow()->LoopLabel|Label|Referenced|Shared
                  (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 0, ret: X1 | undefined
                sharedFlowCount: 1, typeAtFlowNode: X1 | undefined
                sharedFlowCount: 1, evolvedType: X1 | undefined
                return resultType: X1 | undefined
              In getIdentifier(), getFlowTypeOfReference returned X1 | undefined
              checkExpressionWorker return: obj, [432,435] -> X1 | undefined
            checkExpressionWorker return: !obj, [431,435] -> boolean
          checkExpressionWorker
            node: obj.kind, [438,447]
            checkExpressionWorker
              node: obj, [438,442]
              getFlowTypeOfReference
                reference: obj
                declaredType: X1 | undefined
                FalseCondition|Condition|Referenced|Shared
                sharedFlowStart(cache): 0
                getTypeAtFlowNode
                  (in) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
                  pushFlow(FalseCondition|Condition|Referenced|Shared)
                  0: [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared
                  (dbgiter:0) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 1
                  getTypeAtFlowCondition
                    (fc  in) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 1
                    getTypeAtFlowNode
                      (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                      pushFlow(LoopLabel|Label|Referenced|Shared)
                      0: [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared
                      1: , LoopLabel|Label|Referenced|Shared
                      (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 2
                      getTypeAtFlowLoopLabel
                        , LoopLabel|Label|Referenced|Shared
                        getTypeAtFlowLoopLabel, (flowNode)id: 2, key:11|104|104|50: obj,[438,442]
                        getTypeAtFlowLoopLabel, The first antecedent of a loop junction is always the non-looping control
                        getTypeAtFlowNode
                          (in) [isBug = obj?.bug(), (375,394)], Assignment|Referenced, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                          pushFlow(Assignment|Referenced)
                          0: [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared
                          1: , LoopLabel|Label|Referenced|Shared
                          2: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                          (dbgiter:0) [isBug = obj?.bug(), (375,394)], Assignment|Referenced, flowDepth: 3
                          (dbgiter:1) , BranchLabel|Label|Referenced, flowDepth: 3
                          getTypeAtFlowBranchLabel
                            (in) , BranchLabel|Label|Referenced, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                            flowStack
                              0: [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared
                              1: , LoopLabel|Label|Referenced|Shared
                              2: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                            briter:0, ante:[obj, (383,387)], FalseCondition|Condition|Referenced
                            getTypeAtFlowNode
                              (in) [obj, (383,387)], FalseCondition|Condition|Referenced, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                              pushFlow(FalseCondition|Condition|Referenced)
                              0: [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared
                              1: , LoopLabel|Label|Referenced|Shared
                              2: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                              3: [obj, (383,387)], FalseCondition|Condition|Referenced
                              (dbgiter:0) [obj, (383,387)], FalseCondition|Condition|Referenced, flowDepth: 4
                              getTypeAtFlowCondition
                                (fc  in) [obj, (383,387)], FalseCondition|Condition|Referenced, flowDepth: 4
                                getTypeAtFlowNode
                                  (in) , Start|Referenced|Shared, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                                  pushFlow(Start|Referenced|Shared)
                                  0: [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared
                                  1: , LoopLabel|Label|Referenced|Shared
                                  2: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                                  3: [obj, (383,387)], FalseCondition|Condition|Referenced
                                  4: , Start|Referenced|Shared
                                  (dbgiter:0) , Start|Referenced|Shared, flowDepth: 5
                                  popFlow()->Start|Referenced|Shared
                                  (out) , Start|Referenced|Shared, flowDepth: 4, ret: X1 | undefined
                                (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: X1 | undefined, narrowedType: undefined
                                (fc out) [obj, (383,387)], FalseCondition|Condition|Referenced, flowDepth: 4, ret: undefined
                              popFlow()->FalseCondition|Condition|Referenced
                              (out) [obj, (383,387)], FalseCondition|Condition|Referenced, flowDepth: 3, ret: undefined
                            briter:0, flowType: undefined, type: undefined
                            briter:1, ante:[obj?.bug(), (383,394)], TrueCondition|Condition|Referenced
                            getTypeAtFlowNode
                              (in) [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                              pushFlow(TrueCondition|Condition|Referenced)
                              0: [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared
                              1: , LoopLabel|Label|Referenced|Shared
                              2: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                              3: [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced
                              (dbgiter:0) [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced, flowDepth: 4
                              getTypeAtFlowCondition
                                (fc  in) [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced, flowDepth: 4
                                getTypeAtFlowNode
                                  (in) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                                  pushFlow(TrueCondition|Condition|Referenced|Shared)
                                  0: [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared
                                  1: , LoopLabel|Label|Referenced|Shared
                                  2: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                                  3: [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced
                                  4: [obj, (383,387)], TrueCondition|Condition|Referenced|Shared
                                  (dbgiter:0) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 5
                                  getTypeAtFlowCondition
                                    (fc  in) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 5
                                    getTypeAtFlowNode
                                      (in) , Start|Referenced|Shared, flowDepth: 5, flowTypeQueryState.getFlowStackIndex(): 4
                                      pushFlow(Start|Referenced|Shared)
                                      0: [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared
                                      1: , LoopLabel|Label|Referenced|Shared
                                      2: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                                      3: [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced
                                      4: [obj, (383,387)], TrueCondition|Condition|Referenced|Shared
                                      5: , Start|Referenced|Shared
                                      (dbgiter:0) , Start|Referenced|Shared, flowDepth: 6
                                      popFlow()->Start|Referenced|Shared
                                      (out) , Start|Referenced|Shared, flowDepth: 5, ret: X1 | undefined
                                    (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: X1 | undefined, narrowedType: X1
                                    (fc out) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 5, ret: X1
                                  popFlow()->TrueCondition|Condition|Referenced|Shared
                                  (out) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 4, ret: X1
                                (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: X1, narrowedType: X1
                                (fc out) [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced, flowDepth: 4, ret: X1
                              popFlow()->TrueCondition|Condition|Referenced
                              (out) [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced, flowDepth: 3, ret: X1
                            briter:1, flowType: X1, type: X1
                            briter:2, ante:[obj?.bug(), (383,394)], FalseCondition|Condition|Referenced
                            getTypeAtFlowNode
                              (in) [obj?.bug(), (383,394)], FalseCondition|Condition|Referenced, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                              pushFlow(FalseCondition|Condition|Referenced)
                              0: [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared
                              1: , LoopLabel|Label|Referenced|Shared
                              2: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                              3: [obj?.bug(), (383,394)], FalseCondition|Condition|Referenced
                              (dbgiter:0) [obj?.bug(), (383,394)], FalseCondition|Condition|Referenced, flowDepth: 4
                              getTypeAtFlowCondition
                                (fc  in) [obj?.bug(), (383,394)], FalseCondition|Condition|Referenced, flowDepth: 4
                                getTypeAtFlowNode
                                  (in) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                                  pushFlow(TrueCondition|Condition|Referenced|Shared)
                                  0: [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared
                                  1: , LoopLabel|Label|Referenced|Shared
                                  2: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                                  3: [obj?.bug(), (383,394)], FalseCondition|Condition|Referenced
                                  4: [obj, (383,387)], TrueCondition|Condition|Referenced|Shared
                                  (dbgiter:0) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 5
                                  popFlow()->TrueCondition|Condition|Referenced|Shared
                                  (out) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 4, ret: X1
                                (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: X1, narrowedType: X1
                                (fc out) [obj?.bug(), (383,394)], FalseCondition|Condition|Referenced, flowDepth: 4, ret: X1
                              popFlow()->FalseCondition|Condition|Referenced
                              (out) [obj?.bug(), (383,394)], FalseCondition|Condition|Referenced, flowDepth: 3, ret: X1
                            briter:2, flowType: X1, type: X1
                            br/antecedentTypes[0]: undefined
                            br/antecedentTypes[1]: X1
                            brTmpType: X1 | undefined
                            (out) , BranchLabel|Label|Referenced, flowDepth: 3, ret: X1 | undefined
                          popFlow()->Assignment|Referenced
                          (out) [isBug = obj?.bug(), (375,394)], Assignment|Referenced, flowDepth: 2, ret: X1 | undefined
                        getTypeAtFlowLoopLabel, cache.set(11|104|104|50: obj,[438,442], X1 | undefined
                        getTypeAtFlowLoopLabel, flow: , LoopLabel|Label|Referenced|Shared, return: X1 | undefined
                      popFlow()->LoopLabel|Label|Referenced|Shared
                      (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 1, ret: X1 | undefined
                    (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: X1 | undefined, narrowedType: X1
                    (fc out) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 1, ret: X1
                  popFlow()->FalseCondition|Condition|Referenced|Shared
                  (out) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 0, ret: X1
                sharedFlowCount: 4, typeAtFlowNode: X1
                sharedFlowCount: 4, evolvedType: X1
                return resultType: X1
              In getIdentifier(), getFlowTypeOfReference returned X1
              checkExpressionWorker return: obj, [438,442] -> X1
            getFlowTypeOfReference
              reference: obj.kind
              declaredType: "foo" | "bar" | "baz"
              FalseCondition|Condition|Referenced|Shared
              sharedFlowStart(cache): 0
              getTypeAtFlowNode
                (in) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
                pushFlow(FalseCondition|Condition|Referenced|Shared)
                0: [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared
                (dbgiter:0) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 1
                getTypeAtFlowCondition
                  (fc  in) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 1
                  getTypeAtFlowNode
                    (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                    pushFlow(LoopLabel|Label|Referenced|Shared)
                    0: [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared
                    1: , LoopLabel|Label|Referenced|Shared
                    (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 2
                    getTypeAtFlowLoopLabel
                      , LoopLabel|Label|Referenced|Shared
                      getTypeAtFlowLoopLabel, (flowNode)id: 2, key:-1|125|125|50: obj,[438,442].kind
                      getTypeAtFlowLoopLabel, The first antecedent of a loop junction is always the non-looping control
                      getTypeAtFlowNode
                        (in) [isBug = obj?.bug(), (375,394)], Assignment|Referenced, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                        pushFlow(Assignment|Referenced)
                        0: [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared
                        1: , LoopLabel|Label|Referenced|Shared
                        2: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                        (dbgiter:0) [isBug = obj?.bug(), (375,394)], Assignment|Referenced, flowDepth: 3
                        (dbgiter:1) , BranchLabel|Label|Referenced, flowDepth: 3
                        getTypeAtFlowBranchLabel
                          (in) , BranchLabel|Label|Referenced, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                          flowStack
                            0: [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared
                            1: , LoopLabel|Label|Referenced|Shared
                            2: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                          briter:0, ante:[obj, (383,387)], FalseCondition|Condition|Referenced
                          getTypeAtFlowNode
                            (in) [obj, (383,387)], FalseCondition|Condition|Referenced, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                            pushFlow(FalseCondition|Condition|Referenced)
                            0: [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared
                            1: , LoopLabel|Label|Referenced|Shared
                            2: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                            3: [obj, (383,387)], FalseCondition|Condition|Referenced
                            (dbgiter:0) [obj, (383,387)], FalseCondition|Condition|Referenced, flowDepth: 4
                            getTypeAtFlowCondition
                              (fc  in) [obj, (383,387)], FalseCondition|Condition|Referenced, flowDepth: 4
                              getTypeAtFlowNode
                                (in) , Start|Referenced|Shared, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                                pushFlow(Start|Referenced|Shared)
                                0: [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared
                                1: , LoopLabel|Label|Referenced|Shared
                                2: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                                3: [obj, (383,387)], FalseCondition|Condition|Referenced
                                4: , Start|Referenced|Shared
                                (dbgiter:0) , Start|Referenced|Shared, flowDepth: 5
                                popFlow()->Start|Referenced|Shared
                                (out) , Start|Referenced|Shared, flowDepth: 4, ret: "foo" | "bar" | "baz"
                              (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: "foo" | "bar" | "baz", narrowedType: "foo" | "bar" | "baz"
                              (fc out) [obj, (383,387)], FalseCondition|Condition|Referenced, flowDepth: 4, ret: "foo" | "bar" | "baz"
                            popFlow()->FalseCondition|Condition|Referenced
                            (out) [obj, (383,387)], FalseCondition|Condition|Referenced, flowDepth: 3, ret: "foo" | "bar" | "baz"
                          briter:0, flowType: "foo" | "bar" | "baz", type: "foo" | "bar" | "baz"
                          (out) , BranchLabel|Label|Referenced, flowDepth: 3, ret: "foo" | "bar" | "baz"
                        popFlow()->Assignment|Referenced
                        (out) [isBug = obj?.bug(), (375,394)], Assignment|Referenced, flowDepth: 2, ret: "foo" | "bar" | "baz"
                      getTypeAtFlowLoopLabel, cache.set(-1|125|125|50: obj,[438,442].kind, "foo" | "bar" | "baz"
                      getTypeAtFlowLoopLabel, flow: , LoopLabel|Label|Referenced|Shared, return: "foo" | "bar" | "baz"
                    popFlow()->LoopLabel|Label|Referenced|Shared
                    (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 1, ret: "foo" | "bar" | "baz"
                  (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: "foo" | "bar" | "baz", narrowedType: "foo" | "bar" | "baz"
                  (fc out) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 1, ret: "foo" | "bar" | "baz"
                popFlow()->FalseCondition|Condition|Referenced|Shared
                (out) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 0, ret: "foo" | "bar" | "baz"
              sharedFlowCount: 3, typeAtFlowNode: "foo" | "bar" | "baz"
              sharedFlowCount: 3, evolvedType: "foo" | "bar" | "baz"
              return resultType: "foo" | "bar" | "baz"
            checkExpressionWorker return: obj.kind, [438,447] -> "foo" | "bar" | "baz"
          checkExpressionWorker
            node: "foo", [450,455]
            checkExpressionWorker return: "foo", [450,455] -> "foo"
          checkExpressionWorker return: !obj || obj.kind!=="foo", [431,455] -> boolean
        checkExpressionWorker
          node: obj.kind!=="foo", [438,455]
          checkExpressionWorker
            node: obj.kind, [438,447]
            checkExpressionWorker
              node: obj, [438,442]
              getFlowTypeOfReference
                reference: obj
                declaredType: X1 | undefined
                FalseCondition|Condition|Referenced|Shared
                sharedFlowStart(cache): 0
                getTypeAtFlowNode
                  (in) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
                  pushFlow(FalseCondition|Condition|Referenced|Shared)
                  0: [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared
                  (dbgiter:0) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 1
                  getTypeAtFlowCondition
                    (fc  in) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 1
                    getTypeAtFlowNode
                      (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                      pushFlow(LoopLabel|Label|Referenced|Shared)
                      0: [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared
                      1: , LoopLabel|Label|Referenced|Shared
                      (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 2
                      getTypeAtFlowLoopLabel
                        , LoopLabel|Label|Referenced|Shared
                        getTypeAtFlowLoopLabel, (flowNode)id: 2, key:11|104|104|50: obj,[438,442]
                        getTypeAtFlowLoopLabel, cached
                        getTypeAtFlowLoopLabel, flow: , LoopLabel|Label|Referenced|Shared, return: X1 | undefined
                      popFlow()->LoopLabel|Label|Referenced|Shared
                      (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 1, ret: X1 | undefined
                    (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: X1 | undefined, narrowedType: X1
                    (fc out) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 1, ret: X1
                  popFlow()->FalseCondition|Condition|Referenced|Shared
                  (out) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 0, ret: X1
                sharedFlowCount: 2, typeAtFlowNode: X1
                sharedFlowCount: 2, evolvedType: X1
                return resultType: X1
              In getIdentifier(), getFlowTypeOfReference returned X1
              checkExpressionWorker return: obj, [438,442] -> X1
            getFlowTypeOfReference
              reference: obj.kind
              declaredType: "foo" | "bar" | "baz"
              FalseCondition|Condition|Referenced|Shared
              sharedFlowStart(cache): 0
              getTypeAtFlowNode
                (in) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
                pushFlow(FalseCondition|Condition|Referenced|Shared)
                0: [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared
                (dbgiter:0) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 1
                getTypeAtFlowCondition
                  (fc  in) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 1
                  getTypeAtFlowNode
                    (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                    pushFlow(LoopLabel|Label|Referenced|Shared)
                    0: [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared
                    1: , LoopLabel|Label|Referenced|Shared
                    (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 2
                    getTypeAtFlowLoopLabel
                      , LoopLabel|Label|Referenced|Shared
                      getTypeAtFlowLoopLabel, (flowNode)id: 2, key:-1|125|125|50: obj,[438,442].kind
                      getTypeAtFlowLoopLabel, cached
                      getTypeAtFlowLoopLabel, flow: , LoopLabel|Label|Referenced|Shared, return: "foo" | "bar" | "baz"
                    popFlow()->LoopLabel|Label|Referenced|Shared
                    (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 1, ret: "foo" | "bar" | "baz"
                  (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: "foo" | "bar" | "baz", narrowedType: "foo" | "bar" | "baz"
                  (fc out) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 1, ret: "foo" | "bar" | "baz"
                popFlow()->FalseCondition|Condition|Referenced|Shared
                (out) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 0, ret: "foo" | "bar" | "baz"
              sharedFlowCount: 2, typeAtFlowNode: "foo" | "bar" | "baz"
              sharedFlowCount: 2, evolvedType: "foo" | "bar" | "baz"
              return resultType: "foo" | "bar" | "baz"
            checkExpressionWorker return: obj.kind, [438,447] -> "foo" | "bar" | "baz"
          checkExpressionWorker
            node: "foo", [450,455]
            checkExpressionWorker return: "foo", [450,455] -> "foo"
          checkExpressionWorker return: obj.kind!=="foo", [438,455] -> boolean
        checkExpressionWorker
          node: !obj, [431,435]
          checkExpressionWorker
            node: obj, [432,435]
            getFlowTypeOfReference
              reference: obj
              declaredType: X1 | undefined
              LoopLabel|Label|Referenced|Shared
              sharedFlowStart(cache): 0
              getTypeAtFlowNode
                (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
                pushFlow(LoopLabel|Label|Referenced|Shared)
                0: , LoopLabel|Label|Referenced|Shared
                (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 1
                getTypeAtFlowLoopLabel
                  , LoopLabel|Label|Referenced|Shared
                  getTypeAtFlowLoopLabel, (flowNode)id: 2, key:11|104|104|49: obj,[432,435]
                  getTypeAtFlowLoopLabel, cached
                  getTypeAtFlowLoopLabel, flow: , LoopLabel|Label|Referenced|Shared, return: X1 | undefined
                popFlow()->LoopLabel|Label|Referenced|Shared
                (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 0, ret: X1 | undefined
              sharedFlowCount: 1, typeAtFlowNode: X1 | undefined
              sharedFlowCount: 1, evolvedType: X1 | undefined
              return resultType: X1 | undefined
            In getIdentifier(), getFlowTypeOfReference returned X1 | undefined
            checkExpressionWorker return: obj, [432,435] -> X1 | undefined
          checkExpressionWorker
            node: obj, [432,435]
            getFlowTypeOfReference
              reference: obj
              declaredType: X1 | undefined
              LoopLabel|Label|Referenced|Shared
              sharedFlowStart(cache): 0
              getTypeAtFlowNode
                (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
                pushFlow(LoopLabel|Label|Referenced|Shared)
                0: , LoopLabel|Label|Referenced|Shared
                (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 1
                getTypeAtFlowLoopLabel
                  , LoopLabel|Label|Referenced|Shared
                  getTypeAtFlowLoopLabel, (flowNode)id: 2, key:11|104|104|49: obj,[432,435]
                  getTypeAtFlowLoopLabel, cached
                  getTypeAtFlowLoopLabel, flow: , LoopLabel|Label|Referenced|Shared, return: X1 | undefined
                popFlow()->LoopLabel|Label|Referenced|Shared
                (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 0, ret: X1 | undefined
              sharedFlowCount: 1, typeAtFlowNode: X1 | undefined
              sharedFlowCount: 1, evolvedType: X1 | undefined
              return resultType: X1 | undefined
            In getIdentifier(), getFlowTypeOfReference returned X1 | undefined
            checkExpressionWorker return: obj, [432,435] -> X1 | undefined
          checkExpressionWorker return: !obj, [431,435] -> boolean
        checkSourceElement
          {
                      if (isBug) {
                          const t = obj.bug;  // `t` and `obj.bug` are correctly typed, but `obj` is "possibly unedfined"
                      }
                  }
          checkSourceElement
            if (isBug) {
                            const t = obj.bug;  // `t` and `obj.bug` are correctly typed, but `obj` is "possibly unedfined"
                        }
            checkExpressionWorker
              node: isBug, [475,480]
              getFlowTypeOfReference
                reference: isBug
                declaredType: number[] | undefined
                BranchLabel|Label|Referenced|Shared
                sharedFlowStart(cache): 0
                getTypeAtFlowNode
                  (in) , BranchLabel|Label|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
                  pushFlow(BranchLabel|Label|Referenced|Shared)
                  0: , BranchLabel|Label|Referenced|Shared
                  (dbgiter:0) , BranchLabel|Label|Referenced|Shared, flowDepth: 1
                  getTypeAtFlowBranchLabel
                    (in) , BranchLabel|Label|Referenced|Shared, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                    flowStack
                      0: , BranchLabel|Label|Referenced|Shared
                    briter:0, ante:[!obj, (431,435)], TrueCondition|Condition|Referenced
                    getTypeAtFlowNode
                      (in) [!obj, (431,435)], TrueCondition|Condition|Referenced, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                      pushFlow(TrueCondition|Condition|Referenced)
                      0: , BranchLabel|Label|Referenced|Shared
                      1: [!obj, (431,435)], TrueCondition|Condition|Referenced
                      (dbgiter:0) [!obj, (431,435)], TrueCondition|Condition|Referenced, flowDepth: 2
                      getTypeAtFlowCondition
                        (fc  in) [!obj, (431,435)], TrueCondition|Condition|Referenced, flowDepth: 2
                        getTypeAtFlowNode
                          (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                          pushFlow(LoopLabel|Label|Referenced|Shared)
                          0: , BranchLabel|Label|Referenced|Shared
                          1: [!obj, (431,435)], TrueCondition|Condition|Referenced
                          2: , LoopLabel|Label|Referenced|Shared
                          (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 3
                          getTypeAtFlowLoopLabel
                            , LoopLabel|Label|Referenced|Shared
                            getTypeAtFlowLoopLabel, (flowNode)id: 2, key:11|124|124|52: isBug,[475,480]
                            getTypeAtFlowLoopLabel, The first antecedent of a loop junction is always the non-looping control
                            getTypeAtFlowNode
                              (in) [isBug = obj?.bug(), (375,394)], Assignment|Referenced, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                              pushFlow(Assignment|Referenced)
                              0: , BranchLabel|Label|Referenced|Shared
                              1: [!obj, (431,435)], TrueCondition|Condition|Referenced
                              2: , LoopLabel|Label|Referenced|Shared
                              3: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                              (dbgiter:0) [isBug = obj?.bug(), (375,394)], Assignment|Referenced, flowDepth: 4
                              popFlow()->Assignment|Referenced
                              (out) [isBug = obj?.bug(), (375,394)], Assignment|Referenced, flowDepth: 3, ret: number[] | undefined
                            getTypeAtFlowLoopLabel, cache.set(11|124|124|52: isBug,[475,480], number[] | undefined
                            getTypeAtFlowLoopLabel, flow: , LoopLabel|Label|Referenced|Shared, return: number[] | undefined
                          popFlow()->LoopLabel|Label|Referenced|Shared
                          (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 2, ret: number[] | undefined
                        (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: number[] | undefined, narrowedType: number[] | undefined
                        (fc out) [!obj, (431,435)], TrueCondition|Condition|Referenced, flowDepth: 2, ret: number[] | undefined
                      popFlow()->TrueCondition|Condition|Referenced
                      (out) [!obj, (431,435)], TrueCondition|Condition|Referenced, flowDepth: 1, ret: number[] | undefined
                    briter:0, flowType: number[] | undefined, type: number[] | undefined
                    (out) , BranchLabel|Label|Referenced|Shared, flowDepth: 1, ret: number[] | undefined
                  popFlow()->BranchLabel|Label|Referenced|Shared
                  (out) , BranchLabel|Label|Referenced|Shared, flowDepth: 0, ret: number[] | undefined
                sharedFlowCount: 2, typeAtFlowNode: number[] | undefined
                sharedFlowCount: 2, evolvedType: number[] | undefined
                return resultType: number[] | undefined
              In getIdentifier(), getFlowTypeOfReference returned number[] | undefined
              checkExpressionWorker return: isBug, [475,480] -> number[] | undefined
            checkExpressionWorker
              node: isBug, [475,480]
              getFlowTypeOfReference
                reference: isBug
                declaredType: number[] | undefined
                BranchLabel|Label|Referenced|Shared
                sharedFlowStart(cache): 0
                getTypeAtFlowNode
                  (in) , BranchLabel|Label|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
                  pushFlow(BranchLabel|Label|Referenced|Shared)
                  0: , BranchLabel|Label|Referenced|Shared
                  (dbgiter:0) , BranchLabel|Label|Referenced|Shared, flowDepth: 1
                  getTypeAtFlowBranchLabel
                    (in) , BranchLabel|Label|Referenced|Shared, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                    flowStack
                      0: , BranchLabel|Label|Referenced|Shared
                    briter:0, ante:[!obj, (431,435)], TrueCondition|Condition|Referenced
                    getTypeAtFlowNode
                      (in) [!obj, (431,435)], TrueCondition|Condition|Referenced, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                      pushFlow(TrueCondition|Condition|Referenced)
                      0: , BranchLabel|Label|Referenced|Shared
                      1: [!obj, (431,435)], TrueCondition|Condition|Referenced
                      (dbgiter:0) [!obj, (431,435)], TrueCondition|Condition|Referenced, flowDepth: 2
                      getTypeAtFlowCondition
                        (fc  in) [!obj, (431,435)], TrueCondition|Condition|Referenced, flowDepth: 2
                        getTypeAtFlowNode
                          (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                          pushFlow(LoopLabel|Label|Referenced|Shared)
                          0: , BranchLabel|Label|Referenced|Shared
                          1: [!obj, (431,435)], TrueCondition|Condition|Referenced
                          2: , LoopLabel|Label|Referenced|Shared
                          (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 3
                          getTypeAtFlowLoopLabel
                            , LoopLabel|Label|Referenced|Shared
                            getTypeAtFlowLoopLabel, (flowNode)id: 2, key:11|124|124|52: isBug,[475,480]
                            getTypeAtFlowLoopLabel, cached
                            getTypeAtFlowLoopLabel, flow: , LoopLabel|Label|Referenced|Shared, return: number[] | undefined
                          popFlow()->LoopLabel|Label|Referenced|Shared
                          (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 2, ret: number[] | undefined
                        (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: number[] | undefined, narrowedType: number[] | undefined
                        (fc out) [!obj, (431,435)], TrueCondition|Condition|Referenced, flowDepth: 2, ret: number[] | undefined
                      popFlow()->TrueCondition|Condition|Referenced
                      (out) [!obj, (431,435)], TrueCondition|Condition|Referenced, flowDepth: 1, ret: number[] | undefined
                    briter:0, flowType: number[] | undefined, type: number[] | undefined
                    (out) , BranchLabel|Label|Referenced|Shared, flowDepth: 1, ret: number[] | undefined
                  popFlow()->BranchLabel|Label|Referenced|Shared
                  (out) , BranchLabel|Label|Referenced|Shared, flowDepth: 0, ret: number[] | undefined
                sharedFlowCount: 2, typeAtFlowNode: number[] | undefined
                sharedFlowCount: 2, evolvedType: number[] | undefined
                return resultType: number[] | undefined
              In getIdentifier(), getFlowTypeOfReference returned number[] | undefined
              checkExpressionWorker return: isBug, [475,480] -> number[] | undefined
            checkSourceElement
              {
                              const t = obj.bug;  // `t` and `obj.bug` are correctly typed, but `obj` is "possibly unedfined"
                          }
              checkSourceElement
                const t = obj.bug;
                checkSourceElement
                  t = obj.bug
                  checkExpressionWorker
                    node: obj.bug, [509,517]
                    checkExpressionWorker
                      node: obj, [509,513]
                      getFlowTypeOfReference
                        reference: obj
                        declaredType: X1 | undefined
                        TrueCondition|Condition|Referenced|Shared
                        sharedFlowStart(cache): 0
                        getTypeAtFlowNode
                          (in) [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
                          pushFlow(TrueCondition|Condition|Referenced|Shared)
                          0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                          (dbgiter:0) [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1
                          getTypeAtFlowCondition
                            (fc  in) [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1
                            getTypeAtFlowNode
                              (in) , BranchLabel|Label|Referenced|Shared, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                              pushFlow(BranchLabel|Label|Referenced|Shared)
                              0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                              1: , BranchLabel|Label|Referenced|Shared
                              (dbgiter:0) , BranchLabel|Label|Referenced|Shared, flowDepth: 2
                              getTypeAtFlowBranchLabel
                                (in) , BranchLabel|Label|Referenced|Shared, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                                flowStack
                                  0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                  1: , BranchLabel|Label|Referenced|Shared
                                briter:0, ante:[!obj, (431,435)], TrueCondition|Condition|Referenced
                                getTypeAtFlowNode
                                  (in) [!obj, (431,435)], TrueCondition|Condition|Referenced, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                                  pushFlow(TrueCondition|Condition|Referenced)
                                  0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                  1: , BranchLabel|Label|Referenced|Shared
                                  2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                  (dbgiter:0) [!obj, (431,435)], TrueCondition|Condition|Referenced, flowDepth: 3
                                  getTypeAtFlowCondition
                                    (fc  in) [!obj, (431,435)], TrueCondition|Condition|Referenced, flowDepth: 3
                                    getTypeAtFlowNode
                                      (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                                      pushFlow(LoopLabel|Label|Referenced|Shared)
                                      0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                      1: , BranchLabel|Label|Referenced|Shared
                                      2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                      3: , LoopLabel|Label|Referenced|Shared
                                      (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 4
                                      getTypeAtFlowLoopLabel
                                        , LoopLabel|Label|Referenced|Shared
                                        getTypeAtFlowLoopLabel, (flowNode)id: 2, key:11|104|104|54: obj,[509,513]
                                        getTypeAtFlowLoopLabel, The first antecedent of a loop junction is always the non-looping control
                                        getTypeAtFlowNode
                                          (in) [isBug = obj?.bug(), (375,394)], Assignment|Referenced, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                                          pushFlow(Assignment|Referenced)
                                          0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                          1: , BranchLabel|Label|Referenced|Shared
                                          2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                          3: , LoopLabel|Label|Referenced|Shared
                                          4: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                                          (dbgiter:0) [isBug = obj?.bug(), (375,394)], Assignment|Referenced, flowDepth: 5
                                          (dbgiter:1) , BranchLabel|Label|Referenced, flowDepth: 5
                                          getTypeAtFlowBranchLabel
                                            (in) , BranchLabel|Label|Referenced, flowDepth: 5, flowTypeQueryState.getFlowStackIndex(): 4
                                            flowStack
                                              0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                              1: , BranchLabel|Label|Referenced|Shared
                                              2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                              3: , LoopLabel|Label|Referenced|Shared
                                              4: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                                            adding alias: isBug = obj?.bug(), condition: TrueCondition|Condition|Referenced|Shared
                                            briter:0, ante:[obj, (383,387)], FalseCondition|Condition|Referenced
                                            skipping because aliasFlowTF is true but anteTF is false
                                            briter:1, ante:[obj?.bug(), (383,394)], TrueCondition|Condition|Referenced
                                            getTypeAtFlowNode
                                              (in) [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced, flowDepth: 5, flowTypeQueryState.getFlowStackIndex(): 4
                                              pushFlow(TrueCondition|Condition|Referenced)
                                              0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                              1: , BranchLabel|Label|Referenced|Shared
                                              2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                              3: , LoopLabel|Label|Referenced|Shared
                                              4: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                                              5: [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced
                                              (dbgiter:0) [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced, flowDepth: 6
                                              getTypeAtFlowCondition
                                                (fc  in) [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced, flowDepth: 6
                                                getTypeAtFlowNode
                                                  (in) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 6, flowTypeQueryState.getFlowStackIndex(): 5
                                                  pushFlow(TrueCondition|Condition|Referenced|Shared)
                                                  0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                                  1: , BranchLabel|Label|Referenced|Shared
                                                  2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                                  3: , LoopLabel|Label|Referenced|Shared
                                                  4: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                                                  5: [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced
                                                  6: [obj, (383,387)], TrueCondition|Condition|Referenced|Shared
                                                  (dbgiter:0) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 7
                                                  getTypeAtFlowCondition
                                                    (fc  in) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 7
                                                    getTypeAtFlowNode
                                                      (in) , Start|Referenced|Shared, flowDepth: 7, flowTypeQueryState.getFlowStackIndex(): 6
                                                      pushFlow(Start|Referenced|Shared)
                                                      0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                                      1: , BranchLabel|Label|Referenced|Shared
                                                      2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                                      3: , LoopLabel|Label|Referenced|Shared
                                                      4: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                                                      5: [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced
                                                      6: [obj, (383,387)], TrueCondition|Condition|Referenced|Shared
                                                      7: , Start|Referenced|Shared
                                                      (dbgiter:0) , Start|Referenced|Shared, flowDepth: 8
                                                      popFlow()->Start|Referenced|Shared
                                                      (out) , Start|Referenced|Shared, flowDepth: 7, ret: X1 | undefined
                                                    (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: X1 | undefined, narrowedType: X1
                                                    (fc out) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 7, ret: X1
                                                  popFlow()->TrueCondition|Condition|Referenced|Shared
                                                  (out) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 6, ret: X1
                                                (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: X1, narrowedType: X1
                                                (fc out) [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced, flowDepth: 6, ret: X1
                                              popFlow()->TrueCondition|Condition|Referenced
                                              (out) [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced, flowDepth: 5, ret: X1
                                            briter:1, flowType: X1, type: X1
                                            briter:2, ante:[obj?.bug(), (383,394)], FalseCondition|Condition|Referenced
                                            skipping because aliasFlowTF is true but anteTF is false
                                            br/antecedentTypes[0]: X1
                                            brTmpType: X1
                                            (out) , BranchLabel|Label|Referenced, flowDepth: 5, ret: X1
                                          popFlow()->Assignment|Referenced
                                          (out) [isBug = obj?.bug(), (375,394)], Assignment|Referenced, flowDepth: 4, ret: X1
                                        getTypeAtFlowLoopLabel, All but the first antecedent
                                        getTypeAtFlowNode
                                          (in) , BranchLabel|Label|Referenced, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                                          pushFlow(BranchLabel|Label|Referenced)
                                          0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                          1: , BranchLabel|Label|Referenced|Shared
                                          2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                          3: , LoopLabel|Label|Referenced|Shared
                                          4: , BranchLabel|Label|Referenced
                                          (dbgiter:0) , BranchLabel|Label|Referenced, flowDepth: 5
                                          getTypeAtFlowBranchLabel
                                            (in) , BranchLabel|Label|Referenced, flowDepth: 5, flowTypeQueryState.getFlowStackIndex(): 4
                                            flowStack
                                              0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                              1: , BranchLabel|Label|Referenced|Shared
                                              2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                              3: , LoopLabel|Label|Referenced|Shared
                                              4: , BranchLabel|Label|Referenced
                                            briter:0, ante:, BranchLabel|Label|Referenced
                                            getTypeAtFlowNode
                                              (in) , BranchLabel|Label|Referenced, flowDepth: 5, flowTypeQueryState.getFlowStackIndex(): 4
                                              pushFlow(BranchLabel|Label|Referenced)
                                              0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                              1: , BranchLabel|Label|Referenced|Shared
                                              2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                              3: , LoopLabel|Label|Referenced|Shared
                                              4: , BranchLabel|Label|Referenced
                                              5: , BranchLabel|Label|Referenced
                                              (dbgiter:0) , BranchLabel|Label|Referenced, flowDepth: 6
                                              getTypeAtFlowBranchLabel
                                                (in) , BranchLabel|Label|Referenced, flowDepth: 6, flowTypeQueryState.getFlowStackIndex(): 5
                                                flowStack
                                                  0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                                  1: , BranchLabel|Label|Referenced|Shared
                                                  2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                                  3: , LoopLabel|Label|Referenced|Shared
                                                  4: , BranchLabel|Label|Referenced
                                                  5: , BranchLabel|Label|Referenced
                                                briter:0, ante:[t = obj.bug, (505,517)], Assignment|Referenced
                                                getTypeAtFlowNode
                                                  (in) [t = obj.bug, (505,517)], Assignment|Referenced, flowDepth: 6, flowTypeQueryState.getFlowStackIndex(): 5
                                                  pushFlow(Assignment|Referenced)
                                                  0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                                  1: , BranchLabel|Label|Referenced|Shared
                                                  2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                                  3: , LoopLabel|Label|Referenced|Shared
                                                  4: , BranchLabel|Label|Referenced
                                                  5: , BranchLabel|Label|Referenced
                                                  6: [t = obj.bug, (505,517)], Assignment|Referenced
                                                  (dbgiter:0) [t = obj.bug, (505,517)], Assignment|Referenced, flowDepth: 7
                                                  (dbgiter:1) [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared, flowDepth: 7
                                                  getTypeAtFlowCondition
                                                    (fc  in) [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared, flowDepth: 7
                                                    getTypeAtFlowNode
                                                      (in) , BranchLabel|Label|Referenced|Shared, flowDepth: 7, flowTypeQueryState.getFlowStackIndex(): 6
                                                      pushFlow(BranchLabel|Label|Referenced|Shared)
                                                      0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                                      1: , BranchLabel|Label|Referenced|Shared
                                                      2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                                      3: , LoopLabel|Label|Referenced|Shared
                                                      4: , BranchLabel|Label|Referenced
                                                      5: , BranchLabel|Label|Referenced
                                                      6: [t = obj.bug, (505,517)], Assignment|Referenced
                                                      7: , BranchLabel|Label|Referenced|Shared
                                                      (dbgiter:0) , BranchLabel|Label|Referenced|Shared, flowDepth: 8
                                                      getTypeAtFlowBranchLabel
                                                        (in) , BranchLabel|Label|Referenced|Shared, flowDepth: 8, flowTypeQueryState.getFlowStackIndex(): 7
                                                        flowStack
                                                          0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                                          1: , BranchLabel|Label|Referenced|Shared
                                                          2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                                          3: , LoopLabel|Label|Referenced|Shared
                                                          4: , BranchLabel|Label|Referenced
                                                          5: , BranchLabel|Label|Referenced
                                                          6: [t = obj.bug, (505,517)], Assignment|Referenced
                                                          7: , BranchLabel|Label|Referenced|Shared
                                                        briter:0, ante:[!obj, (431,435)], TrueCondition|Condition|Referenced
                                                        getTypeAtFlowNode
                                                          (in) [!obj, (431,435)], TrueCondition|Condition|Referenced, flowDepth: 8, flowTypeQueryState.getFlowStackIndex(): 7
                                                          pushFlow(TrueCondition|Condition|Referenced)
                                                          0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                                          1: , BranchLabel|Label|Referenced|Shared
                                                          2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                                          3: , LoopLabel|Label|Referenced|Shared
                                                          4: , BranchLabel|Label|Referenced
                                                          5: , BranchLabel|Label|Referenced
                                                          6: [t = obj.bug, (505,517)], Assignment|Referenced
                                                          7: , BranchLabel|Label|Referenced|Shared
                                                          8: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                                          (dbgiter:0) [!obj, (431,435)], TrueCondition|Condition|Referenced, flowDepth: 9
                                                          getTypeAtFlowCondition
                                                            (fc  in) [!obj, (431,435)], TrueCondition|Condition|Referenced, flowDepth: 9
                                                            getTypeAtFlowNode
                                                              (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 9, flowTypeQueryState.getFlowStackIndex(): 8
                                                              pushFlow(LoopLabel|Label|Referenced|Shared)
                                                              0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                                              1: , BranchLabel|Label|Referenced|Shared
                                                              2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                                              3: , LoopLabel|Label|Referenced|Shared
                                                              4: , BranchLabel|Label|Referenced
                                                              5: , BranchLabel|Label|Referenced
                                                              6: [t = obj.bug, (505,517)], Assignment|Referenced
                                                              7: , BranchLabel|Label|Referenced|Shared
                                                              8: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                                              9: , LoopLabel|Label|Referenced|Shared
                                                              (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 10
                                                              getTypeAtFlowLoopLabel
                                                                , LoopLabel|Label|Referenced|Shared
                                                                getTypeAtFlowLoopLabel, (flowNode)id: 2, key:11|104|104|54: obj,[509,513]
                                                                getTypeAtFlowLoopLabel, this flow loop junction and reference are already being processed, incomplete
                                                                getTypeAtFlowLoopLabel, flow: , LoopLabel|Label|Referenced|Shared, return: IncompleteType
                                                              popFlow()->LoopLabel|Label|Referenced|Shared
                                                              (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 9, ret: IncompleteType
                                                            (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: X1, narrowedType: never
                                                            (fc out) [!obj, (431,435)], TrueCondition|Condition|Referenced, flowDepth: 9, ret: IncompleteType
                                                          popFlow()->TrueCondition|Condition|Referenced
                                                          (out) [!obj, (431,435)], TrueCondition|Condition|Referenced, flowDepth: 8, ret: IncompleteType
                                                        briter:0, flowType: IncompleteType, type: never
                                                        briter:1, ante:[obj.kind!=="foo", (438,455)], TrueCondition|Condition|Referenced
                                                        getTypeAtFlowNode
                                                          (in) [obj.kind!=="foo", (438,455)], TrueCondition|Condition|Referenced, flowDepth: 8, flowTypeQueryState.getFlowStackIndex(): 7
                                                          pushFlow(TrueCondition|Condition|Referenced)
                                                          0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                                          1: , BranchLabel|Label|Referenced|Shared
                                                          2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                                          3: , LoopLabel|Label|Referenced|Shared
                                                          4: , BranchLabel|Label|Referenced
                                                          5: , BranchLabel|Label|Referenced
                                                          6: [t = obj.bug, (505,517)], Assignment|Referenced
                                                          7: , BranchLabel|Label|Referenced|Shared
                                                          8: [obj.kind!=="foo", (438,455)], TrueCondition|Condition|Referenced
                                                          (dbgiter:0) [obj.kind!=="foo", (438,455)], TrueCondition|Condition|Referenced, flowDepth: 9
                                                          getTypeAtFlowCondition
                                                            (fc  in) [obj.kind!=="foo", (438,455)], TrueCondition|Condition|Referenced, flowDepth: 9
                                                            getTypeAtFlowNode
                                                              (in) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 9, flowTypeQueryState.getFlowStackIndex(): 8
                                                              pushFlow(FalseCondition|Condition|Referenced|Shared)
                                                              0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                                              1: , BranchLabel|Label|Referenced|Shared
                                                              2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                                              3: , LoopLabel|Label|Referenced|Shared
                                                              4: , BranchLabel|Label|Referenced
                                                              5: , BranchLabel|Label|Referenced
                                                              6: [t = obj.bug, (505,517)], Assignment|Referenced
                                                              7: , BranchLabel|Label|Referenced|Shared
                                                              8: [obj.kind!=="foo", (438,455)], TrueCondition|Condition|Referenced
                                                              9: [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared
                                                              (dbgiter:0) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 10
                                                              getTypeAtFlowCondition
                                                                (fc  in) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 10
                                                                getTypeAtFlowNode
                                                                  (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 10, flowTypeQueryState.getFlowStackIndex(): 9
                                                                  pushFlow(LoopLabel|Label|Referenced|Shared)
                                                                  0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                                                  1: , BranchLabel|Label|Referenced|Shared
                                                                  2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                                                  3: , LoopLabel|Label|Referenced|Shared
                                                                  4: , BranchLabel|Label|Referenced
                                                                  5: , BranchLabel|Label|Referenced
                                                                  6: [t = obj.bug, (505,517)], Assignment|Referenced
                                                                  7: , BranchLabel|Label|Referenced|Shared
                                                                  8: [obj.kind!=="foo", (438,455)], TrueCondition|Condition|Referenced
                                                                  9: [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared
                                                                  10: , LoopLabel|Label|Referenced|Shared
                                                                  (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 11
                                                                  popFlow()->LoopLabel|Label|Referenced|Shared
                                                                  (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 10, ret: IncompleteType
                                                                (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: X1, narrowedType: X1
                                                                (fc out) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 10, ret: IncompleteType
                                                              popFlow()->FalseCondition|Condition|Referenced|Shared
                                                              (out) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 9, ret: IncompleteType
                                                            checkExpressionWorker
                                                              node: "foo", [450,455]
                                                              checkExpressionWorker return: "foo", [450,455] -> "foo"
                                                            (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: X1, narrowedType: Readonly<{ kind: "bar"; bar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; baz: boolean; bug: () => number[]; }>
                                                            (fc out) [obj.kind!=="foo", (438,455)], TrueCondition|Condition|Referenced, flowDepth: 9, ret: IncompleteType
                                                          popFlow()->TrueCondition|Condition|Referenced
                                                          (out) [obj.kind!=="foo", (438,455)], TrueCondition|Condition|Referenced, flowDepth: 8, ret: IncompleteType
                                                        briter:1, flowType: IncompleteType, type: Readonly<{ kind: "bar"; bar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; baz: boolean; bug: () => number[]; }>
                                                        br/antecedentTypes[0]: never
                                                        br/antecedentTypes[1]: Readonly<{ kind: "bar"; bar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; baz: boolean; bug: () => number[]; }>
                                                        brTmpType: Readonly<{ kind: "bar"; bar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; baz: boolean; bug: () => number[]; }>
                                                        (out) , BranchLabel|Label|Referenced|Shared, flowDepth: 8, ret: IncompleteType
                                                      popFlow()->BranchLabel|Label|Referenced|Shared
                                                      (out) , BranchLabel|Label|Referenced|Shared, flowDepth: 7, ret: IncompleteType
                                                    (fc ) flow.id: 4, asumeTrue:true, nonEvolvingType: Readonly<{ kind: "bar"; bar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; baz: boolean; bug: () => number[]; }>, narrowedType: Readonly<{ kind: "bar"; bar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; baz: boolean; bug: () => number[]; }>
                                                    (fc out) [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared, flowDepth: 7, ret: IncompleteType
                                                  popFlow()->Assignment|Referenced
                                                  (out) [t = obj.bug, (505,517)], Assignment|Referenced, flowDepth: 6, ret: IncompleteType
                                                briter:0, flowType: IncompleteType, type: Readonly<{ kind: "bar"; bar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; baz: boolean; bug: () => number[]; }>
                                                briter:1, ante:[isBug, (475,480)], FalseCondition|Condition|Referenced|Shared
                                                getTypeAtFlowNode
                                                  (in) [isBug, (475,480)], FalseCondition|Condition|Referenced|Shared, flowDepth: 6, flowTypeQueryState.getFlowStackIndex(): 5
                                                  pushFlow(FalseCondition|Condition|Referenced|Shared)
                                                  0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                                  1: , BranchLabel|Label|Referenced|Shared
                                                  2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                                  3: , LoopLabel|Label|Referenced|Shared
                                                  4: , BranchLabel|Label|Referenced
                                                  5: , BranchLabel|Label|Referenced
                                                  6: [isBug, (475,480)], FalseCondition|Condition|Referenced|Shared
                                                  (dbgiter:0) [isBug, (475,480)], FalseCondition|Condition|Referenced|Shared, flowDepth: 7
                                                  getTypeAtFlowCondition
                                                    (fc  in) [isBug, (475,480)], FalseCondition|Condition|Referenced|Shared, flowDepth: 7
                                                    getTypeAtFlowNode
                                                      (in) , BranchLabel|Label|Referenced|Shared, flowDepth: 7, flowTypeQueryState.getFlowStackIndex(): 6
                                                      pushFlow(BranchLabel|Label|Referenced|Shared)
                                                      0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                                      1: , BranchLabel|Label|Referenced|Shared
                                                      2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                                      3: , LoopLabel|Label|Referenced|Shared
                                                      4: , BranchLabel|Label|Referenced
                                                      5: , BranchLabel|Label|Referenced
                                                      6: [isBug, (475,480)], FalseCondition|Condition|Referenced|Shared
                                                      7: , BranchLabel|Label|Referenced|Shared
                                                      (dbgiter:0) , BranchLabel|Label|Referenced|Shared, flowDepth: 8
                                                      popFlow()->BranchLabel|Label|Referenced|Shared
                                                      (out) , BranchLabel|Label|Referenced|Shared, flowDepth: 7, ret: IncompleteType
                                                    (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: Readonly<{ kind: "bar"; bar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; baz: boolean; bug: () => number[]; }>, narrowedType: Readonly<{ kind: "bar"; bar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; baz: boolean; bug: () => number[]; }>
                                                    (fc out) [isBug, (475,480)], FalseCondition|Condition|Referenced|Shared, flowDepth: 7, ret: IncompleteType
                                                  popFlow()->FalseCondition|Condition|Referenced|Shared
                                                  (out) [isBug, (475,480)], FalseCondition|Condition|Referenced|Shared, flowDepth: 6, ret: IncompleteType
                                                briter:1, flowType: IncompleteType, type: Readonly<{ kind: "bar"; bar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; baz: boolean; bug: () => number[]; }>
                                                br/antecedentTypes[0]: Readonly<{ kind: "bar"; bar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; baz: boolean; bug: () => number[]; }>
                                                brTmpType: Readonly<{ kind: "bar"; bar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; baz: boolean; bug: () => number[]; }>
                                                (out) , BranchLabel|Label|Referenced, flowDepth: 6, ret: IncompleteType
                                              popFlow()->BranchLabel|Label|Referenced
                                              (out) , BranchLabel|Label|Referenced, flowDepth: 5, ret: IncompleteType
                                            briter:0, flowType: IncompleteType, type: Readonly<{ kind: "bar"; bar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; baz: boolean; bug: () => number[]; }>
                                            briter:1, ante:[obj.kind!=="foo", (438,455)], FalseCondition|Condition|Referenced|Shared
                                            getTypeAtFlowNode
                                              (in) [obj.kind!=="foo", (438,455)], FalseCondition|Condition|Referenced|Shared, flowDepth: 5, flowTypeQueryState.getFlowStackIndex(): 4
                                              pushFlow(FalseCondition|Condition|Referenced|Shared)
                                              0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                              1: , BranchLabel|Label|Referenced|Shared
                                              2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                              3: , LoopLabel|Label|Referenced|Shared
                                              4: , BranchLabel|Label|Referenced
                                              5: [obj.kind!=="foo", (438,455)], FalseCondition|Condition|Referenced|Shared
                                              (dbgiter:0) [obj.kind!=="foo", (438,455)], FalseCondition|Condition|Referenced|Shared, flowDepth: 6
                                              getTypeAtFlowCondition
                                                (fc  in) [obj.kind!=="foo", (438,455)], FalseCondition|Condition|Referenced|Shared, flowDepth: 6
                                                getTypeAtFlowNode
                                                  (in) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 6, flowTypeQueryState.getFlowStackIndex(): 5
                                                  pushFlow(FalseCondition|Condition|Referenced|Shared)
                                                  0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                                  1: , BranchLabel|Label|Referenced|Shared
                                                  2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                                  3: , LoopLabel|Label|Referenced|Shared
                                                  4: , BranchLabel|Label|Referenced
                                                  5: [obj.kind!=="foo", (438,455)], FalseCondition|Condition|Referenced|Shared
                                                  6: [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared
                                                  (dbgiter:0) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 7
                                                  popFlow()->FalseCondition|Condition|Referenced|Shared
                                                  (out) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 6, ret: IncompleteType
                                                checkExpressionWorker
                                                  node: "foo", [450,455]
                                                  checkExpressionWorker return: "foo", [450,455] -> "foo"
                                                (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: X1, narrowedType: Readonly<{ kind: "foo"; foo: string; bug: () => number[]; }>
                                                (fc out) [obj.kind!=="foo", (438,455)], FalseCondition|Condition|Referenced|Shared, flowDepth: 6, ret: IncompleteType
                                              popFlow()->FalseCondition|Condition|Referenced|Shared
                                              (out) [obj.kind!=="foo", (438,455)], FalseCondition|Condition|Referenced|Shared, flowDepth: 5, ret: IncompleteType
                                            briter:1, flowType: IncompleteType, type: Readonly<{ kind: "foo"; foo: string; bug: () => number[]; }>
                                            br/antecedentTypes[0]: Readonly<{ kind: "bar"; bar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; baz: boolean; bug: () => number[]; }>
                                            br/antecedentTypes[1]: Readonly<{ kind: "foo"; foo: string; bug: () => number[]; }>
                                            brTmpType: Readonly<{ kind: "foo"; foo: string; bug: () => number[]; }> | Readonly<{ kind: "bar"; bar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; baz: boolean; bug: () => number[]; }>
                                            (out) , BranchLabel|Label|Referenced, flowDepth: 5, ret: IncompleteType
                                          popFlow()->BranchLabel|Label|Referenced
                                          (out) , BranchLabel|Label|Referenced, flowDepth: 4, ret: IncompleteType
                                        getTypeAtFlowLoopLabel, cache.set(11|104|104|54: obj,[509,513], X1
                                        getTypeAtFlowLoopLabel, flow: , LoopLabel|Label|Referenced|Shared, return: X1
                                      popFlow()->LoopLabel|Label|Referenced|Shared
                                      (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 3, ret: X1
                                    (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: X1, narrowedType: never
                                    (fc out) [!obj, (431,435)], TrueCondition|Condition|Referenced, flowDepth: 3, ret: never
                                  popFlow()->TrueCondition|Condition|Referenced
                                  (out) [!obj, (431,435)], TrueCondition|Condition|Referenced, flowDepth: 2, ret: never
                                briter:0, flowType: never, type: never
                                briter:1, ante:[obj.kind!=="foo", (438,455)], TrueCondition|Condition|Referenced
                                getTypeAtFlowNode
                                  (in) [obj.kind!=="foo", (438,455)], TrueCondition|Condition|Referenced, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                                  pushFlow(TrueCondition|Condition|Referenced)
                                  0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                  1: , BranchLabel|Label|Referenced|Shared
                                  2: [obj.kind!=="foo", (438,455)], TrueCondition|Condition|Referenced
                                  (dbgiter:0) [obj.kind!=="foo", (438,455)], TrueCondition|Condition|Referenced, flowDepth: 3
                                  getTypeAtFlowCondition
                                    (fc  in) [obj.kind!=="foo", (438,455)], TrueCondition|Condition|Referenced, flowDepth: 3
                                    getTypeAtFlowNode
                                      (in) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                                      pushFlow(FalseCondition|Condition|Referenced|Shared)
                                      0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                      1: , BranchLabel|Label|Referenced|Shared
                                      2: [obj.kind!=="foo", (438,455)], TrueCondition|Condition|Referenced
                                      3: [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared
                                      (dbgiter:0) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 4
                                      popFlow()->FalseCondition|Condition|Referenced|Shared
                                      (out) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 3, ret: IncompleteType
                                    checkExpressionWorker
                                      node: "foo", [450,455]
                                      checkExpressionWorker return: "foo", [450,455] -> "foo"
                                    (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: X1, narrowedType: Readonly<{ kind: "bar"; bar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; baz: boolean; bug: () => number[]; }>
                                    (fc out) [obj.kind!=="foo", (438,455)], TrueCondition|Condition|Referenced, flowDepth: 3, ret: IncompleteType
                                  popFlow()->TrueCondition|Condition|Referenced
                                  (out) [obj.kind!=="foo", (438,455)], TrueCondition|Condition|Referenced, flowDepth: 2, ret: IncompleteType
                                briter:1, flowType: IncompleteType, type: Readonly<{ kind: "bar"; bar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; baz: boolean; bug: () => number[]; }>
                                br/antecedentTypes[0]: never
                                br/antecedentTypes[1]: Readonly<{ kind: "bar"; bar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; baz: boolean; bug: () => number[]; }>
                                brTmpType: Readonly<{ kind: "bar"; bar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; baz: boolean; bug: () => number[]; }>
                                (out) , BranchLabel|Label|Referenced|Shared, flowDepth: 2, ret: IncompleteType
                              popFlow()->BranchLabel|Label|Referenced|Shared
                              (out) , BranchLabel|Label|Referenced|Shared, flowDepth: 1, ret: IncompleteType
                            (fc ) flow.id: 4, asumeTrue:true, nonEvolvingType: Readonly<{ kind: "bar"; bar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; baz: boolean; bug: () => number[]; }>, narrowedType: Readonly<{ kind: "bar"; bar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; baz: boolean; bug: () => number[]; }>
                            (fc out) [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1, ret: IncompleteType
                          popFlow()->TrueCondition|Condition|Referenced|Shared
                          (out) [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared, flowDepth: 0, ret: IncompleteType
                        sharedFlowCount: 11, typeAtFlowNode: <IncompleteType>
                        sharedFlowCount: 11, evolvedType: Readonly<{ kind: "bar"; bar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; baz: boolean; bug: () => number[]; }>
                        return resultType: Readonly<{ kind: "bar"; bar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; baz: boolean; bug: () => number[]; }>
                      In getIdentifier(), getFlowTypeOfReference returned Readonly<{ kind: "bar"; bar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; baz: boolean; bug: () => number[]; }>
                      checkExpressionWorker return: obj, [509,513] -> Readonly<{ kind: "bar"; bar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; baz: boolean; bug: () => number[]; }>
                    getFlowTypeOfReference
                      reference: obj.bug
                      declaredType: (() => number[]) | (() => number[])
                      TrueCondition|Condition|Referenced|Shared
                      sharedFlowStart(cache): 0
                      getTypeAtFlowNode
                        (in) [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
                        pushFlow(TrueCondition|Condition|Referenced|Shared)
                        0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                        (dbgiter:0) [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1
                        getTypeAtFlowCondition
                          (fc  in) [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1
                          getTypeAtFlowNode
                            (in) , BranchLabel|Label|Referenced|Shared, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                            pushFlow(BranchLabel|Label|Referenced|Shared)
                            0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                            1: , BranchLabel|Label|Referenced|Shared
                            (dbgiter:0) , BranchLabel|Label|Referenced|Shared, flowDepth: 2
                            getTypeAtFlowBranchLabel
                              (in) , BranchLabel|Label|Referenced|Shared, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                              flowStack
                                0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                1: , BranchLabel|Label|Referenced|Shared
                              briter:0, ante:[!obj, (431,435)], TrueCondition|Condition|Referenced
                              getTypeAtFlowNode
                                (in) [!obj, (431,435)], TrueCondition|Condition|Referenced, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                                pushFlow(TrueCondition|Condition|Referenced)
                                0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                1: , BranchLabel|Label|Referenced|Shared
                                2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                (dbgiter:0) [!obj, (431,435)], TrueCondition|Condition|Referenced, flowDepth: 3
                                getTypeAtFlowCondition
                                  (fc  in) [!obj, (431,435)], TrueCondition|Condition|Referenced, flowDepth: 3
                                  getTypeAtFlowNode
                                    (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                                    pushFlow(LoopLabel|Label|Referenced|Shared)
                                    0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                    1: , BranchLabel|Label|Referenced|Shared
                                    2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                    3: , LoopLabel|Label|Referenced|Shared
                                    (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 4
                                    getTypeAtFlowLoopLabel
                                      , LoopLabel|Label|Referenced|Shared
                                      getTypeAtFlowLoopLabel, (flowNode)id: 2, key:-1|129|129|54: obj,[509,513].bug
                                      getTypeAtFlowLoopLabel, The first antecedent of a loop junction is always the non-looping control
                                      getTypeAtFlowNode
                                        (in) [isBug = obj?.bug(), (375,394)], Assignment|Referenced, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                                        pushFlow(Assignment|Referenced)
                                        0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                        1: , BranchLabel|Label|Referenced|Shared
                                        2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                        3: , LoopLabel|Label|Referenced|Shared
                                        4: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                                        (dbgiter:0) [isBug = obj?.bug(), (375,394)], Assignment|Referenced, flowDepth: 5
                                        (dbgiter:1) , BranchLabel|Label|Referenced, flowDepth: 5
                                        getTypeAtFlowBranchLabel
                                          (in) , BranchLabel|Label|Referenced, flowDepth: 5, flowTypeQueryState.getFlowStackIndex(): 4
                                          flowStack
                                            0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                            1: , BranchLabel|Label|Referenced|Shared
                                            2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                            3: , LoopLabel|Label|Referenced|Shared
                                            4: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                                          adding alias: isBug = obj?.bug(), condition: TrueCondition|Condition|Referenced|Shared
                                          briter:0, ante:[obj, (383,387)], FalseCondition|Condition|Referenced
                                          skipping because aliasFlowTF is true but anteTF is false
                                          briter:1, ante:[obj?.bug(), (383,394)], TrueCondition|Condition|Referenced
                                          getTypeAtFlowNode
                                            (in) [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced, flowDepth: 5, flowTypeQueryState.getFlowStackIndex(): 4
                                            pushFlow(TrueCondition|Condition|Referenced)
                                            0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                            1: , BranchLabel|Label|Referenced|Shared
                                            2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                            3: , LoopLabel|Label|Referenced|Shared
                                            4: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                                            5: [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced
                                            (dbgiter:0) [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced, flowDepth: 6
                                            getTypeAtFlowCondition
                                              (fc  in) [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced, flowDepth: 6
                                              getTypeAtFlowNode
                                                (in) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 6, flowTypeQueryState.getFlowStackIndex(): 5
                                                pushFlow(TrueCondition|Condition|Referenced|Shared)
                                                0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                                1: , BranchLabel|Label|Referenced|Shared
                                                2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                                3: , LoopLabel|Label|Referenced|Shared
                                                4: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                                                5: [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced
                                                6: [obj, (383,387)], TrueCondition|Condition|Referenced|Shared
                                                (dbgiter:0) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 7
                                                getTypeAtFlowCondition
                                                  (fc  in) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 7
                                                  getTypeAtFlowNode
                                                    (in) , Start|Referenced|Shared, flowDepth: 7, flowTypeQueryState.getFlowStackIndex(): 6
                                                    pushFlow(Start|Referenced|Shared)
                                                    0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                                    1: , BranchLabel|Label|Referenced|Shared
                                                    2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                                    3: , LoopLabel|Label|Referenced|Shared
                                                    4: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                                                    5: [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced
                                                    6: [obj, (383,387)], TrueCondition|Condition|Referenced|Shared
                                                    7: , Start|Referenced|Shared
                                                    (dbgiter:0) , Start|Referenced|Shared, flowDepth: 8
                                                    popFlow()->Start|Referenced|Shared
                                                    (out) , Start|Referenced|Shared, flowDepth: 7, ret: (() => number[]) | (() => number[])
                                                  (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: (() => number[]) | (() => number[]), narrowedType: (() => number[]) | (() => number[])
                                                  (fc out) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 7, ret: (() => number[]) | (() => number[])
                                                popFlow()->TrueCondition|Condition|Referenced|Shared
                                                (out) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 6, ret: (() => number[]) | (() => number[])
                                              (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: (() => number[]) | (() => number[]), narrowedType: (() => number[]) | (() => number[])
                                              (fc out) [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced, flowDepth: 6, ret: (() => number[]) | (() => number[])
                                            popFlow()->TrueCondition|Condition|Referenced
                                            (out) [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced, flowDepth: 5, ret: (() => number[]) | (() => number[])
                                          briter:1, flowType: (() => number[]) | (() => number[]), type: (() => number[]) | (() => number[])
                                          (out) , BranchLabel|Label|Referenced, flowDepth: 5, ret: (() => number[]) | (() => number[])
                                        popFlow()->Assignment|Referenced
                                        (out) [isBug = obj?.bug(), (375,394)], Assignment|Referenced, flowDepth: 4, ret: (() => number[]) | (() => number[])
                                      getTypeAtFlowLoopLabel, cache.set(-1|129|129|54: obj,[509,513].bug, (() => number[]) | (() => number[])
                                      getTypeAtFlowLoopLabel, flow: , LoopLabel|Label|Referenced|Shared, return: (() => number[]) | (() => number[])
                                    popFlow()->LoopLabel|Label|Referenced|Shared
                                    (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 3, ret: (() => number[]) | (() => number[])
                                  (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: (() => number[]) | (() => number[]), narrowedType: (() => number[]) | (() => number[])
                                  (fc out) [!obj, (431,435)], TrueCondition|Condition|Referenced, flowDepth: 3, ret: (() => number[]) | (() => number[])
                                popFlow()->TrueCondition|Condition|Referenced
                                (out) [!obj, (431,435)], TrueCondition|Condition|Referenced, flowDepth: 2, ret: (() => number[]) | (() => number[])
                              briter:0, flowType: (() => number[]) | (() => number[]), type: (() => number[]) | (() => number[])
                              (out) , BranchLabel|Label|Referenced|Shared, flowDepth: 2, ret: (() => number[]) | (() => number[])
                            popFlow()->BranchLabel|Label|Referenced|Shared
                            (out) , BranchLabel|Label|Referenced|Shared, flowDepth: 1, ret: (() => number[]) | (() => number[])
                          (fc ) flow.id: 4, asumeTrue:true, nonEvolvingType: (() => number[]) | (() => number[]), narrowedType: (() => number[]) | (() => number[])
                          (fc out) [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1, ret: (() => number[]) | (() => number[])
                        popFlow()->TrueCondition|Condition|Referenced|Shared
                        (out) [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared, flowDepth: 0, ret: (() => number[]) | (() => number[])
                      sharedFlowCount: 5, typeAtFlowNode: (() => number[]) | (() => number[])
                      sharedFlowCount: 5, evolvedType: (() => number[]) | (() => number[])
                      return resultType: (() => number[]) | (() => number[])
                    checkExpressionWorker return: obj.bug, [509,517] -> (() => number[]) | (() => number[])
checkSourceElement
  
myDebug=true, myNoCache=false, myDisable=false
myDebug=true, myNoCache=false, myDisable=false
checkSourceElement
  declare type X1Foo = Readonly<{ kind: "foo", foo: string, bug: () => number[] }> ;
  checkSourceElement
    Readonly<{ kind: "foo", foo: string, bug: () => number[] }>
    checkSourceElement
      { kind: "foo", foo: string, bug: () => number[] }
      checkSourceElement
        kind: "foo",
        checkSourceElement
          "foo"
        checkExpressionWorker
          node: "foo", [37,43]
          checkExpressionWorker return: "foo", [37,43] -> "foo"
      checkSourceElement
        foo: string,
        checkSourceElement
          string
      checkSourceElement
        bug: () => number[]
        checkSourceElement
          () => number[]
          checkSourceElement
            number[]
            checkSourceElement
              number
checkSourceElement
  declare type X1Bar = Readonly<{ kind: "bar", bar: number, bug: () => number[] }> ;
  checkSourceElement
    Readonly<{ kind: "bar", bar: number, bug: () => number[] }>
    checkSourceElement
      { kind: "bar", bar: number, bug: () => number[] }
      checkSourceElement
        kind: "bar",
        checkSourceElement
          "bar"
        checkExpressionWorker
          node: "bar", [120,126]
          checkExpressionWorker return: "bar", [120,126] -> "bar"
      checkSourceElement
        bar: number,
        checkSourceElement
          number
      checkSourceElement
        bug: () => number[]
        checkSourceElement
          () => number[]
          checkSourceElement
            number[]
            checkSourceElement
              number
checkSourceElement
  declare type X1Baz = Readonly<{ kind: "baz", baz: boolean, bug: () => number[] }>;
  checkSourceElement
    Readonly<{ kind: "baz", baz: boolean, bug: () => number[] }>
    checkSourceElement
      { kind: "baz", baz: boolean, bug: () => number[] }
      checkSourceElement
        kind: "baz",
        checkSourceElement
          "baz"
        checkExpressionWorker
          node: "baz", [204,210]
          checkExpressionWorker return: "baz", [204,210] -> "baz"
      checkSourceElement
        baz: boolean,
        checkSourceElement
          boolean
      checkSourceElement
        bug: () => number[]
        checkSourceElement
          () => number[]
          checkSourceElement
            number[]
            checkSourceElement
              number
checkSourceElement
  declare type X1 = | X1Foo | X1Bar | X1Baz ;
  checkSourceElement
    | X1Foo | X1Bar | X1Baz
    checkSourceElement
      X1Foo
    checkSourceElement
      X1Bar
    checkSourceElement
      X1Baz
checkSourceElement
  declare const obj: undefined | X1;
  checkSourceElement
    obj: undefined | X1
    checkSourceElement
      undefined | X1
      checkSourceElement
        undefined
      checkSourceElement
        X1
checkSourceElement
  declare const ubool:()=>boolean;
  checkSourceElement
    ubool:()=>boolean
    checkSourceElement
      ()=>boolean
      checkSourceElement
        boolean
checkSourceElement
  {
      const isBug = obj?.bug();
      while (ubool()) { 
          if (!obj || obj.kind!=="foo") {
              if (isBug) {
                  const t = obj.bug;  // `t` and `obj.bug` are correctly typed, but `obj` is "possibly unedfined"
              }
          }        
      }
  }
  checkSourceElement
    const isBug = obj?.bug();
    checkSourceElement
      isBug = obj?.bug()
      checkExpressionWorker
        node: obj?.bug, [383,392]
        checkExpressionWorker
          node: obj, [383,387]
          getFlowTypeOfReference
            reference: obj
            declaredType: X1 | undefined
            Start|Referenced|Shared
            sharedFlowStart(cache): 0
            getTypeAtFlowNode
              (in) , Start|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
              pushFlow(Start|Referenced|Shared)
              0: , Start|Referenced|Shared
              (dbgiter:0) , Start|Referenced|Shared, flowDepth: 1
              popFlow()->Start|Referenced|Shared
              (out) , Start|Referenced|Shared, flowDepth: 0, ret: X1 | undefined
            sharedFlowCount: 1, typeAtFlowNode: X1 | undefined
            sharedFlowCount: 1, evolvedType: X1 | undefined
            return resultType: X1 | undefined
          In getIdentifier(), getFlowTypeOfReference returned X1 | undefined
          checkExpressionWorker return: obj, [383,387] -> X1 | undefined
        getFlowTypeOfReference
          reference: obj?.bug
          declaredType: (() => number[]) | (() => number[]) | (() => number[])
          Start|Referenced|Shared
          sharedFlowStart(cache): 0
          getTypeAtFlowNode
            (in) , Start|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
            pushFlow(Start|Referenced|Shared)
            0: , Start|Referenced|Shared
            (dbgiter:0) , Start|Referenced|Shared, flowDepth: 1
            popFlow()->Start|Referenced|Shared
            (out) , Start|Referenced|Shared, flowDepth: 0, ret: (() => number[]) | (() => number[]) | (() => number[])
          sharedFlowCount: 1, typeAtFlowNode: (() => number[]) | (() => number[]) | (() => number[])
          sharedFlowCount: 1, evolvedType: (() => number[]) | (() => number[]) | (() => number[])
          return resultType: (() => number[]) | (() => number[]) | (() => number[])
        checkExpressionWorker return: obj?.bug, [383,392] -> (() => number[]) | (() => number[]) | (() => number[]) | undefined
      checkExpressionWorker
        node: obj?.bug(), [383,394]
        checkExpressionWorker
          node: obj?.bug, [383,392]
          checkExpressionWorker
            node: obj, [383,387]
            getFlowTypeOfReference
              reference: obj
              declaredType: X1 | undefined
              Start|Referenced|Shared
              sharedFlowStart(cache): 0
              getTypeAtFlowNode
                (in) , Start|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
                pushFlow(Start|Referenced|Shared)
                0: , Start|Referenced|Shared
                (dbgiter:0) , Start|Referenced|Shared, flowDepth: 1
                popFlow()->Start|Referenced|Shared
                (out) , Start|Referenced|Shared, flowDepth: 0, ret: X1 | undefined
              sharedFlowCount: 1, typeAtFlowNode: X1 | undefined
              sharedFlowCount: 1, evolvedType: X1 | undefined
              return resultType: X1 | undefined
            In getIdentifier(), getFlowTypeOfReference returned X1 | undefined
            checkExpressionWorker return: obj, [383,387] -> X1 | undefined
          getFlowTypeOfReference
            reference: obj?.bug
            declaredType: (() => number[]) | (() => number[]) | (() => number[])
            Start|Referenced|Shared
            sharedFlowStart(cache): 0
            getTypeAtFlowNode
              (in) , Start|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
              pushFlow(Start|Referenced|Shared)
              0: , Start|Referenced|Shared
              (dbgiter:0) , Start|Referenced|Shared, flowDepth: 1
              popFlow()->Start|Referenced|Shared
              (out) , Start|Referenced|Shared, flowDepth: 0, ret: (() => number[]) | (() => number[]) | (() => number[])
            sharedFlowCount: 1, typeAtFlowNode: (() => number[]) | (() => number[]) | (() => number[])
            sharedFlowCount: 1, evolvedType: (() => number[]) | (() => number[]) | (() => number[])
            return resultType: (() => number[]) | (() => number[]) | (() => number[])
          checkExpressionWorker return: obj?.bug, [383,392] -> (() => number[]) | (() => number[]) | (() => number[]) | undefined
        checkExpressionWorker return: obj?.bug(), [383,394] -> number[] | undefined
  checkSourceElement
    while (ubool()) { 
            if (!obj || obj.kind!=="foo") {
                if (isBug) {
                    const t = obj.bug;  // `t` and `obj.bug` are correctly typed, but `obj` is "possibly unedfined"
                }
            }        
        }
    checkExpressionWorker
      node: ubool(), [407,414]
      checkExpressionWorker
        node: ubool, [407,412]
        getFlowTypeOfReference
          reference: ubool
          declaredType: () => boolean
          LoopLabel|Label|Referenced|Shared
          sharedFlowStart(cache): 0
          getTypeAtFlowNode
            (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
            pushFlow(LoopLabel|Label|Referenced|Shared)
            0: , LoopLabel|Label|Referenced|Shared
            (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 1
            getTypeAtFlowLoopLabel
              , LoopLabel|Label|Referenced|Shared
              getTypeAtFlowLoopLabel, (flowNode)id: 2, key:11|105|105|48: ubool,[407,412]
              getTypeAtFlowLoopLabel, The first antecedent of a loop junction is always the non-looping control
              getTypeAtFlowNode
                (in) [isBug = obj?.bug(), (375,394)], Assignment|Referenced, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                pushFlow(Assignment|Referenced)
                0: , LoopLabel|Label|Referenced|Shared
                1: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                (dbgiter:0) [isBug = obj?.bug(), (375,394)], Assignment|Referenced, flowDepth: 2
                (dbgiter:1) , BranchLabel|Label|Referenced, flowDepth: 2
                getTypeAtFlowBranchLabel
                  (in) , BranchLabel|Label|Referenced, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                  flowStack
                    0: , LoopLabel|Label|Referenced|Shared
                    1: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                  briter:0, ante:[obj, (383,387)], FalseCondition|Condition|Referenced
                  getTypeAtFlowNode
                    (in) [obj, (383,387)], FalseCondition|Condition|Referenced, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                    pushFlow(FalseCondition|Condition|Referenced)
                    0: , LoopLabel|Label|Referenced|Shared
                    1: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                    2: [obj, (383,387)], FalseCondition|Condition|Referenced
                    (dbgiter:0) [obj, (383,387)], FalseCondition|Condition|Referenced, flowDepth: 3
                    getTypeAtFlowCondition
                      (fc  in) [obj, (383,387)], FalseCondition|Condition|Referenced, flowDepth: 3
                      getTypeAtFlowNode
                        (in) , Start|Referenced|Shared, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                        pushFlow(Start|Referenced|Shared)
                        0: , LoopLabel|Label|Referenced|Shared
                        1: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                        2: [obj, (383,387)], FalseCondition|Condition|Referenced
                        3: , Start|Referenced|Shared
                        (dbgiter:0) , Start|Referenced|Shared, flowDepth: 4
                        popFlow()->Start|Referenced|Shared
                        (out) , Start|Referenced|Shared, flowDepth: 3, ret: () => boolean
                      (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: () => boolean, narrowedType: () => boolean
                      (fc out) [obj, (383,387)], FalseCondition|Condition|Referenced, flowDepth: 3, ret: () => boolean
                    popFlow()->FalseCondition|Condition|Referenced
                    (out) [obj, (383,387)], FalseCondition|Condition|Referenced, flowDepth: 2, ret: () => boolean
                  briter:0, flowType: () => boolean, type: () => boolean
                  (out) , BranchLabel|Label|Referenced, flowDepth: 2, ret: () => boolean
                popFlow()->Assignment|Referenced
                (out) [isBug = obj?.bug(), (375,394)], Assignment|Referenced, flowDepth: 1, ret: () => boolean
              getTypeAtFlowLoopLabel, cache.set(11|105|105|48: ubool,[407,412], () => boolean
              getTypeAtFlowLoopLabel, flow: , LoopLabel|Label|Referenced|Shared, return: () => boolean
            popFlow()->LoopLabel|Label|Referenced|Shared
            (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 0, ret: () => boolean
          sharedFlowCount: 2, typeAtFlowNode: () => boolean
          sharedFlowCount: 2, evolvedType: () => boolean
          return resultType: () => boolean
        In getIdentifier(), getFlowTypeOfReference returned () => boolean
        checkExpressionWorker return: ubool, [407,412] -> () => boolean
      checkExpressionWorker return: ubool(), [407,414] -> boolean
    checkSourceElement
      { 
              if (!obj || obj.kind!=="foo") {
                  if (isBug) {
                      const t = obj.bug;  // `t` and `obj.bug` are correctly typed, but `obj` is "possibly unedfined"
                  }
              }        
          }
      checkSourceElement
        if (!obj || obj.kind!=="foo") {
                    if (isBug) {
                        const t = obj.bug;  // `t` and `obj.bug` are correctly typed, but `obj` is "possibly unedfined"
                    }
                }
        checkExpressionWorker
          node: !obj || obj.kind!=="foo", [431,455]
          checkExpressionWorker
            node: !obj, [431,435]
            checkExpressionWorker
              node: obj, [432,435]
              getFlowTypeOfReference
                reference: obj
                declaredType: X1 | undefined
                LoopLabel|Label|Referenced|Shared
                sharedFlowStart(cache): 0
                getTypeAtFlowNode
                  (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
                  pushFlow(LoopLabel|Label|Referenced|Shared)
                  0: , LoopLabel|Label|Referenced|Shared
                  (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 1
                  getTypeAtFlowLoopLabel
                    , LoopLabel|Label|Referenced|Shared
                    getTypeAtFlowLoopLabel, (flowNode)id: 2, key:11|104|104|49: obj,[432,435]
                    getTypeAtFlowLoopLabel, The first antecedent of a loop junction is always the non-looping control
                    getTypeAtFlowNode
                      (in) [isBug = obj?.bug(), (375,394)], Assignment|Referenced, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                      pushFlow(Assignment|Referenced)
                      0: , LoopLabel|Label|Referenced|Shared
                      1: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                      (dbgiter:0) [isBug = obj?.bug(), (375,394)], Assignment|Referenced, flowDepth: 2
                      (dbgiter:1) , BranchLabel|Label|Referenced, flowDepth: 2
                      getTypeAtFlowBranchLabel
                        (in) , BranchLabel|Label|Referenced, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                        flowStack
                          0: , LoopLabel|Label|Referenced|Shared
                          1: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                        briter:0, ante:[obj, (383,387)], FalseCondition|Condition|Referenced
                        getTypeAtFlowNode
                          (in) [obj, (383,387)], FalseCondition|Condition|Referenced, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                          pushFlow(FalseCondition|Condition|Referenced)
                          0: , LoopLabel|Label|Referenced|Shared
                          1: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                          2: [obj, (383,387)], FalseCondition|Condition|Referenced
                          (dbgiter:0) [obj, (383,387)], FalseCondition|Condition|Referenced, flowDepth: 3
                          getTypeAtFlowCondition
                            (fc  in) [obj, (383,387)], FalseCondition|Condition|Referenced, flowDepth: 3
                            getTypeAtFlowNode
                              (in) , Start|Referenced|Shared, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                              pushFlow(Start|Referenced|Shared)
                              0: , LoopLabel|Label|Referenced|Shared
                              1: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                              2: [obj, (383,387)], FalseCondition|Condition|Referenced
                              3: , Start|Referenced|Shared
                              (dbgiter:0) , Start|Referenced|Shared, flowDepth: 4
                              popFlow()->Start|Referenced|Shared
                              (out) , Start|Referenced|Shared, flowDepth: 3, ret: X1 | undefined
                            (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: X1 | undefined, narrowedType: undefined
                            (fc out) [obj, (383,387)], FalseCondition|Condition|Referenced, flowDepth: 3, ret: undefined
                          popFlow()->FalseCondition|Condition|Referenced
                          (out) [obj, (383,387)], FalseCondition|Condition|Referenced, flowDepth: 2, ret: undefined
                        briter:0, flowType: undefined, type: undefined
                        briter:1, ante:[obj?.bug(), (383,394)], TrueCondition|Condition|Referenced
                        getTypeAtFlowNode
                          (in) [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                          pushFlow(TrueCondition|Condition|Referenced)
                          0: , LoopLabel|Label|Referenced|Shared
                          1: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                          2: [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced
                          (dbgiter:0) [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced, flowDepth: 3
                          getTypeAtFlowCondition
                            (fc  in) [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced, flowDepth: 3
                            getTypeAtFlowNode
                              (in) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                              pushFlow(TrueCondition|Condition|Referenced|Shared)
                              0: , LoopLabel|Label|Referenced|Shared
                              1: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                              2: [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced
                              3: [obj, (383,387)], TrueCondition|Condition|Referenced|Shared
                              (dbgiter:0) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 4
                              getTypeAtFlowCondition
                                (fc  in) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 4
                                getTypeAtFlowNode
                                  (in) , Start|Referenced|Shared, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                                  pushFlow(Start|Referenced|Shared)
                                  0: , LoopLabel|Label|Referenced|Shared
                                  1: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                                  2: [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced
                                  3: [obj, (383,387)], TrueCondition|Condition|Referenced|Shared
                                  4: , Start|Referenced|Shared
                                  (dbgiter:0) , Start|Referenced|Shared, flowDepth: 5
                                  popFlow()->Start|Referenced|Shared
                                  (out) , Start|Referenced|Shared, flowDepth: 4, ret: X1 | undefined
                                (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: X1 | undefined, narrowedType: X1
                                (fc out) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 4, ret: X1
                              popFlow()->TrueCondition|Condition|Referenced|Shared
                              (out) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 3, ret: X1
                            checkExpressionWorker
                              node: obj?.bug, [383,392]
                              checkExpressionWorker
                                node: obj, [383,387]
                                getFlowTypeOfReference
                                  reference: obj
                                  declaredType: X1 | undefined
                                  Start|Referenced|Shared
                                  sharedFlowStart(cache): 2
                                  getTypeAtFlowNode
                                    (in) , Start|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): 2
                                    pushFlow(Start|Referenced|Shared)
                                    0: , LoopLabel|Label|Referenced|Shared
                                    1: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                                    2: [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced
                                    3: , Start|Referenced|Shared
                                    (dbgiter:0) , Start|Referenced|Shared, flowDepth: 1
                                    popFlow()->Start|Referenced|Shared
                                    (out) , Start|Referenced|Shared, flowDepth: 0, ret: X1 | undefined
                                  sharedFlowCount: 3, typeAtFlowNode: X1 | undefined
                                  sharedFlowCount: 3, evolvedType: X1 | undefined
                                  return resultType: X1 | undefined
                                In getIdentifier(), getFlowTypeOfReference returned X1 | undefined
                                checkExpressionWorker return: obj, [383,387] -> X1 | undefined
                              getFlowTypeOfReference
                                reference: obj?.bug
                                declaredType: (() => number[]) | (() => number[]) | (() => number[])
                                Start|Referenced|Shared
                                sharedFlowStart(cache): 2
                                getTypeAtFlowNode
                                  (in) , Start|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): 2
                                  pushFlow(Start|Referenced|Shared)
                                  0: , LoopLabel|Label|Referenced|Shared
                                  1: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                                  2: [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced
                                  3: , Start|Referenced|Shared
                                  (dbgiter:0) , Start|Referenced|Shared, flowDepth: 1
                                  popFlow()->Start|Referenced|Shared
                                  (out) , Start|Referenced|Shared, flowDepth: 0, ret: (() => number[]) | (() => number[]) | (() => number[])
                                sharedFlowCount: 3, typeAtFlowNode: (() => number[]) | (() => number[]) | (() => number[])
                                sharedFlowCount: 3, evolvedType: (() => number[]) | (() => number[]) | (() => number[])
                                return resultType: (() => number[]) | (() => number[]) | (() => number[])
                              checkExpressionWorker return: obj?.bug, [383,392] -> (() => number[]) | (() => number[]) | (() => number[]) | undefined
                            (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: X1, narrowedType: X1
                            (fc out) [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced, flowDepth: 3, ret: X1
                          popFlow()->TrueCondition|Condition|Referenced
                          (out) [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced, flowDepth: 2, ret: X1
                        briter:1, flowType: X1, type: X1
                        briter:2, ante:[obj?.bug(), (383,394)], FalseCondition|Condition|Referenced
                        getTypeAtFlowNode
                          (in) [obj?.bug(), (383,394)], FalseCondition|Condition|Referenced, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                          pushFlow(FalseCondition|Condition|Referenced)
                          0: , LoopLabel|Label|Referenced|Shared
                          1: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                          2: [obj?.bug(), (383,394)], FalseCondition|Condition|Referenced
                          (dbgiter:0) [obj?.bug(), (383,394)], FalseCondition|Condition|Referenced, flowDepth: 3
                          getTypeAtFlowCondition
                            (fc  in) [obj?.bug(), (383,394)], FalseCondition|Condition|Referenced, flowDepth: 3
                            getTypeAtFlowNode
                              (in) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                              pushFlow(TrueCondition|Condition|Referenced|Shared)
                              0: , LoopLabel|Label|Referenced|Shared
                              1: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                              2: [obj?.bug(), (383,394)], FalseCondition|Condition|Referenced
                              3: [obj, (383,387)], TrueCondition|Condition|Referenced|Shared
                              (dbgiter:0) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 4
                              popFlow()->TrueCondition|Condition|Referenced|Shared
                              (out) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 3, ret: X1
                            (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: X1, narrowedType: X1
                            (fc out) [obj?.bug(), (383,394)], FalseCondition|Condition|Referenced, flowDepth: 3, ret: X1
                          popFlow()->FalseCondition|Condition|Referenced
                          (out) [obj?.bug(), (383,394)], FalseCondition|Condition|Referenced, flowDepth: 2, ret: X1
                        briter:2, flowType: X1, type: X1
                        br/antecedentTypes[0]: undefined
                        br/antecedentTypes[1]: X1
                        brTmpType: X1 | undefined
                        (out) , BranchLabel|Label|Referenced, flowDepth: 2, ret: X1 | undefined
                      popFlow()->Assignment|Referenced
                      (out) [isBug = obj?.bug(), (375,394)], Assignment|Referenced, flowDepth: 1, ret: X1 | undefined
                    getTypeAtFlowLoopLabel, cache.set(11|104|104|49: obj,[432,435], X1 | undefined
                    getTypeAtFlowLoopLabel, flow: , LoopLabel|Label|Referenced|Shared, return: X1 | undefined
                  popFlow()->LoopLabel|Label|Referenced|Shared
                  (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 0, ret: X1 | undefined
                sharedFlowCount: 3, typeAtFlowNode: X1 | undefined
                sharedFlowCount: 3, evolvedType: X1 | undefined
                return resultType: X1 | undefined
              In getIdentifier(), getFlowTypeOfReference returned X1 | undefined
              checkExpressionWorker return: obj, [432,435] -> X1 | undefined
            checkExpressionWorker
              node: obj, [432,435]
              getFlowTypeOfReference
                reference: obj
                declaredType: X1 | undefined
                LoopLabel|Label|Referenced|Shared
                sharedFlowStart(cache): 0
                getTypeAtFlowNode
                  (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
                  pushFlow(LoopLabel|Label|Referenced|Shared)
                  0: , LoopLabel|Label|Referenced|Shared
                  (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 1
                  getTypeAtFlowLoopLabel
                    , LoopLabel|Label|Referenced|Shared
                    getTypeAtFlowLoopLabel, (flowNode)id: 2, key:11|104|104|49: obj,[432,435]
                    getTypeAtFlowLoopLabel, cached
                    getTypeAtFlowLoopLabel, flow: , LoopLabel|Label|Referenced|Shared, return: X1 | undefined
                  popFlow()->LoopLabel|Label|Referenced|Shared
                  (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 0, ret: X1 | undefined
                sharedFlowCount: 1, typeAtFlowNode: X1 | undefined
                sharedFlowCount: 1, evolvedType: X1 | undefined
                return resultType: X1 | undefined
              In getIdentifier(), getFlowTypeOfReference returned X1 | undefined
              checkExpressionWorker return: obj, [432,435] -> X1 | undefined
            checkExpressionWorker return: !obj, [431,435] -> boolean
          checkExpressionWorker
            node: obj.kind, [438,447]
            checkExpressionWorker
              node: obj, [438,442]
              getFlowTypeOfReference
                reference: obj
                declaredType: X1 | undefined
                FalseCondition|Condition|Referenced|Shared
                sharedFlowStart(cache): 0
                getTypeAtFlowNode
                  (in) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
                  pushFlow(FalseCondition|Condition|Referenced|Shared)
                  0: [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared
                  (dbgiter:0) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 1
                  getTypeAtFlowCondition
                    (fc  in) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 1
                    getTypeAtFlowNode
                      (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                      pushFlow(LoopLabel|Label|Referenced|Shared)
                      0: [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared
                      1: , LoopLabel|Label|Referenced|Shared
                      (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 2
                      getTypeAtFlowLoopLabel
                        , LoopLabel|Label|Referenced|Shared
                        getTypeAtFlowLoopLabel, (flowNode)id: 2, key:11|104|104|50: obj,[438,442]
                        getTypeAtFlowLoopLabel, The first antecedent of a loop junction is always the non-looping control
                        getTypeAtFlowNode
                          (in) [isBug = obj?.bug(), (375,394)], Assignment|Referenced, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                          pushFlow(Assignment|Referenced)
                          0: [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared
                          1: , LoopLabel|Label|Referenced|Shared
                          2: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                          (dbgiter:0) [isBug = obj?.bug(), (375,394)], Assignment|Referenced, flowDepth: 3
                          (dbgiter:1) , BranchLabel|Label|Referenced, flowDepth: 3
                          getTypeAtFlowBranchLabel
                            (in) , BranchLabel|Label|Referenced, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                            flowStack
                              0: [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared
                              1: , LoopLabel|Label|Referenced|Shared
                              2: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                            briter:0, ante:[obj, (383,387)], FalseCondition|Condition|Referenced
                            getTypeAtFlowNode
                              (in) [obj, (383,387)], FalseCondition|Condition|Referenced, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                              pushFlow(FalseCondition|Condition|Referenced)
                              0: [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared
                              1: , LoopLabel|Label|Referenced|Shared
                              2: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                              3: [obj, (383,387)], FalseCondition|Condition|Referenced
                              (dbgiter:0) [obj, (383,387)], FalseCondition|Condition|Referenced, flowDepth: 4
                              getTypeAtFlowCondition
                                (fc  in) [obj, (383,387)], FalseCondition|Condition|Referenced, flowDepth: 4
                                getTypeAtFlowNode
                                  (in) , Start|Referenced|Shared, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                                  pushFlow(Start|Referenced|Shared)
                                  0: [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared
                                  1: , LoopLabel|Label|Referenced|Shared
                                  2: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                                  3: [obj, (383,387)], FalseCondition|Condition|Referenced
                                  4: , Start|Referenced|Shared
                                  (dbgiter:0) , Start|Referenced|Shared, flowDepth: 5
                                  popFlow()->Start|Referenced|Shared
                                  (out) , Start|Referenced|Shared, flowDepth: 4, ret: X1 | undefined
                                (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: X1 | undefined, narrowedType: undefined
                                (fc out) [obj, (383,387)], FalseCondition|Condition|Referenced, flowDepth: 4, ret: undefined
                              popFlow()->FalseCondition|Condition|Referenced
                              (out) [obj, (383,387)], FalseCondition|Condition|Referenced, flowDepth: 3, ret: undefined
                            briter:0, flowType: undefined, type: undefined
                            briter:1, ante:[obj?.bug(), (383,394)], TrueCondition|Condition|Referenced
                            getTypeAtFlowNode
                              (in) [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                              pushFlow(TrueCondition|Condition|Referenced)
                              0: [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared
                              1: , LoopLabel|Label|Referenced|Shared
                              2: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                              3: [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced
                              (dbgiter:0) [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced, flowDepth: 4
                              getTypeAtFlowCondition
                                (fc  in) [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced, flowDepth: 4
                                getTypeAtFlowNode
                                  (in) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                                  pushFlow(TrueCondition|Condition|Referenced|Shared)
                                  0: [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared
                                  1: , LoopLabel|Label|Referenced|Shared
                                  2: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                                  3: [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced
                                  4: [obj, (383,387)], TrueCondition|Condition|Referenced|Shared
                                  (dbgiter:0) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 5
                                  getTypeAtFlowCondition
                                    (fc  in) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 5
                                    getTypeAtFlowNode
                                      (in) , Start|Referenced|Shared, flowDepth: 5, flowTypeQueryState.getFlowStackIndex(): 4
                                      pushFlow(Start|Referenced|Shared)
                                      0: [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared
                                      1: , LoopLabel|Label|Referenced|Shared
                                      2: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                                      3: [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced
                                      4: [obj, (383,387)], TrueCondition|Condition|Referenced|Shared
                                      5: , Start|Referenced|Shared
                                      (dbgiter:0) , Start|Referenced|Shared, flowDepth: 6
                                      popFlow()->Start|Referenced|Shared
                                      (out) , Start|Referenced|Shared, flowDepth: 5, ret: X1 | undefined
                                    (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: X1 | undefined, narrowedType: X1
                                    (fc out) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 5, ret: X1
                                  popFlow()->TrueCondition|Condition|Referenced|Shared
                                  (out) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 4, ret: X1
                                (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: X1, narrowedType: X1
                                (fc out) [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced, flowDepth: 4, ret: X1
                              popFlow()->TrueCondition|Condition|Referenced
                              (out) [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced, flowDepth: 3, ret: X1
                            briter:1, flowType: X1, type: X1
                            briter:2, ante:[obj?.bug(), (383,394)], FalseCondition|Condition|Referenced
                            getTypeAtFlowNode
                              (in) [obj?.bug(), (383,394)], FalseCondition|Condition|Referenced, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                              pushFlow(FalseCondition|Condition|Referenced)
                              0: [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared
                              1: , LoopLabel|Label|Referenced|Shared
                              2: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                              3: [obj?.bug(), (383,394)], FalseCondition|Condition|Referenced
                              (dbgiter:0) [obj?.bug(), (383,394)], FalseCondition|Condition|Referenced, flowDepth: 4
                              getTypeAtFlowCondition
                                (fc  in) [obj?.bug(), (383,394)], FalseCondition|Condition|Referenced, flowDepth: 4
                                getTypeAtFlowNode
                                  (in) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                                  pushFlow(TrueCondition|Condition|Referenced|Shared)
                                  0: [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared
                                  1: , LoopLabel|Label|Referenced|Shared
                                  2: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                                  3: [obj?.bug(), (383,394)], FalseCondition|Condition|Referenced
                                  4: [obj, (383,387)], TrueCondition|Condition|Referenced|Shared
                                  (dbgiter:0) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 5
                                  popFlow()->TrueCondition|Condition|Referenced|Shared
                                  (out) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 4, ret: X1
                                (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: X1, narrowedType: X1
                                (fc out) [obj?.bug(), (383,394)], FalseCondition|Condition|Referenced, flowDepth: 4, ret: X1
                              popFlow()->FalseCondition|Condition|Referenced
                              (out) [obj?.bug(), (383,394)], FalseCondition|Condition|Referenced, flowDepth: 3, ret: X1
                            briter:2, flowType: X1, type: X1
                            br/antecedentTypes[0]: undefined
                            br/antecedentTypes[1]: X1
                            brTmpType: X1 | undefined
                            (out) , BranchLabel|Label|Referenced, flowDepth: 3, ret: X1 | undefined
                          popFlow()->Assignment|Referenced
                          (out) [isBug = obj?.bug(), (375,394)], Assignment|Referenced, flowDepth: 2, ret: X1 | undefined
                        getTypeAtFlowLoopLabel, cache.set(11|104|104|50: obj,[438,442], X1 | undefined
                        getTypeAtFlowLoopLabel, flow: , LoopLabel|Label|Referenced|Shared, return: X1 | undefined
                      popFlow()->LoopLabel|Label|Referenced|Shared
                      (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 1, ret: X1 | undefined
                    (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: X1 | undefined, narrowedType: X1
                    (fc out) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 1, ret: X1
                  popFlow()->FalseCondition|Condition|Referenced|Shared
                  (out) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 0, ret: X1
                sharedFlowCount: 4, typeAtFlowNode: X1
                sharedFlowCount: 4, evolvedType: X1
                return resultType: X1
              In getIdentifier(), getFlowTypeOfReference returned X1
              checkExpressionWorker return: obj, [438,442] -> X1
            getFlowTypeOfReference
              reference: obj.kind
              declaredType: "foo" | "bar" | "baz"
              FalseCondition|Condition|Referenced|Shared
              sharedFlowStart(cache): 0
              getTypeAtFlowNode
                (in) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
                pushFlow(FalseCondition|Condition|Referenced|Shared)
                0: [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared
                (dbgiter:0) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 1
                getTypeAtFlowCondition
                  (fc  in) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 1
                  getTypeAtFlowNode
                    (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                    pushFlow(LoopLabel|Label|Referenced|Shared)
                    0: [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared
                    1: , LoopLabel|Label|Referenced|Shared
                    (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 2
                    getTypeAtFlowLoopLabel
                      , LoopLabel|Label|Referenced|Shared
                      getTypeAtFlowLoopLabel, (flowNode)id: 2, key:-1|125|125|50: obj,[438,442].kind
                      getTypeAtFlowLoopLabel, The first antecedent of a loop junction is always the non-looping control
                      getTypeAtFlowNode
                        (in) [isBug = obj?.bug(), (375,394)], Assignment|Referenced, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                        pushFlow(Assignment|Referenced)
                        0: [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared
                        1: , LoopLabel|Label|Referenced|Shared
                        2: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                        (dbgiter:0) [isBug = obj?.bug(), (375,394)], Assignment|Referenced, flowDepth: 3
                        (dbgiter:1) , BranchLabel|Label|Referenced, flowDepth: 3
                        getTypeAtFlowBranchLabel
                          (in) , BranchLabel|Label|Referenced, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                          flowStack
                            0: [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared
                            1: , LoopLabel|Label|Referenced|Shared
                            2: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                          briter:0, ante:[obj, (383,387)], FalseCondition|Condition|Referenced
                          getTypeAtFlowNode
                            (in) [obj, (383,387)], FalseCondition|Condition|Referenced, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                            pushFlow(FalseCondition|Condition|Referenced)
                            0: [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared
                            1: , LoopLabel|Label|Referenced|Shared
                            2: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                            3: [obj, (383,387)], FalseCondition|Condition|Referenced
                            (dbgiter:0) [obj, (383,387)], FalseCondition|Condition|Referenced, flowDepth: 4
                            getTypeAtFlowCondition
                              (fc  in) [obj, (383,387)], FalseCondition|Condition|Referenced, flowDepth: 4
                              getTypeAtFlowNode
                                (in) , Start|Referenced|Shared, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                                pushFlow(Start|Referenced|Shared)
                                0: [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared
                                1: , LoopLabel|Label|Referenced|Shared
                                2: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                                3: [obj, (383,387)], FalseCondition|Condition|Referenced
                                4: , Start|Referenced|Shared
                                (dbgiter:0) , Start|Referenced|Shared, flowDepth: 5
                                popFlow()->Start|Referenced|Shared
                                (out) , Start|Referenced|Shared, flowDepth: 4, ret: "foo" | "bar" | "baz"
                              (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: "foo" | "bar" | "baz", narrowedType: "foo" | "bar" | "baz"
                              (fc out) [obj, (383,387)], FalseCondition|Condition|Referenced, flowDepth: 4, ret: "foo" | "bar" | "baz"
                            popFlow()->FalseCondition|Condition|Referenced
                            (out) [obj, (383,387)], FalseCondition|Condition|Referenced, flowDepth: 3, ret: "foo" | "bar" | "baz"
                          briter:0, flowType: "foo" | "bar" | "baz", type: "foo" | "bar" | "baz"
                          (out) , BranchLabel|Label|Referenced, flowDepth: 3, ret: "foo" | "bar" | "baz"
                        popFlow()->Assignment|Referenced
                        (out) [isBug = obj?.bug(), (375,394)], Assignment|Referenced, flowDepth: 2, ret: "foo" | "bar" | "baz"
                      getTypeAtFlowLoopLabel, cache.set(-1|125|125|50: obj,[438,442].kind, "foo" | "bar" | "baz"
                      getTypeAtFlowLoopLabel, flow: , LoopLabel|Label|Referenced|Shared, return: "foo" | "bar" | "baz"
                    popFlow()->LoopLabel|Label|Referenced|Shared
                    (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 1, ret: "foo" | "bar" | "baz"
                  (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: "foo" | "bar" | "baz", narrowedType: "foo" | "bar" | "baz"
                  (fc out) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 1, ret: "foo" | "bar" | "baz"
                popFlow()->FalseCondition|Condition|Referenced|Shared
                (out) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 0, ret: "foo" | "bar" | "baz"
              sharedFlowCount: 3, typeAtFlowNode: "foo" | "bar" | "baz"
              sharedFlowCount: 3, evolvedType: "foo" | "bar" | "baz"
              return resultType: "foo" | "bar" | "baz"
            checkExpressionWorker return: obj.kind, [438,447] -> "foo" | "bar" | "baz"
          checkExpressionWorker
            node: "foo", [450,455]
            checkExpressionWorker return: "foo", [450,455] -> "foo"
          checkExpressionWorker return: !obj || obj.kind!=="foo", [431,455] -> boolean
        checkExpressionWorker
          node: obj.kind!=="foo", [438,455]
          checkExpressionWorker
            node: obj.kind, [438,447]
            checkExpressionWorker
              node: obj, [438,442]
              getFlowTypeOfReference
                reference: obj
                declaredType: X1 | undefined
                FalseCondition|Condition|Referenced|Shared
                sharedFlowStart(cache): 0
                getTypeAtFlowNode
                  (in) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
                  pushFlow(FalseCondition|Condition|Referenced|Shared)
                  0: [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared
                  (dbgiter:0) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 1
                  getTypeAtFlowCondition
                    (fc  in) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 1
                    getTypeAtFlowNode
                      (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                      pushFlow(LoopLabel|Label|Referenced|Shared)
                      0: [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared
                      1: , LoopLabel|Label|Referenced|Shared
                      (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 2
                      getTypeAtFlowLoopLabel
                        , LoopLabel|Label|Referenced|Shared
                        getTypeAtFlowLoopLabel, (flowNode)id: 2, key:11|104|104|50: obj,[438,442]
                        getTypeAtFlowLoopLabel, cached
                        getTypeAtFlowLoopLabel, flow: , LoopLabel|Label|Referenced|Shared, return: X1 | undefined
                      popFlow()->LoopLabel|Label|Referenced|Shared
                      (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 1, ret: X1 | undefined
                    (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: X1 | undefined, narrowedType: X1
                    (fc out) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 1, ret: X1
                  popFlow()->FalseCondition|Condition|Referenced|Shared
                  (out) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 0, ret: X1
                sharedFlowCount: 2, typeAtFlowNode: X1
                sharedFlowCount: 2, evolvedType: X1
                return resultType: X1
              In getIdentifier(), getFlowTypeOfReference returned X1
              checkExpressionWorker return: obj, [438,442] -> X1
            getFlowTypeOfReference
              reference: obj.kind
              declaredType: "foo" | "bar" | "baz"
              FalseCondition|Condition|Referenced|Shared
              sharedFlowStart(cache): 0
              getTypeAtFlowNode
                (in) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
                pushFlow(FalseCondition|Condition|Referenced|Shared)
                0: [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared
                (dbgiter:0) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 1
                getTypeAtFlowCondition
                  (fc  in) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 1
                  getTypeAtFlowNode
                    (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                    pushFlow(LoopLabel|Label|Referenced|Shared)
                    0: [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared
                    1: , LoopLabel|Label|Referenced|Shared
                    (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 2
                    getTypeAtFlowLoopLabel
                      , LoopLabel|Label|Referenced|Shared
                      getTypeAtFlowLoopLabel, (flowNode)id: 2, key:-1|125|125|50: obj,[438,442].kind
                      getTypeAtFlowLoopLabel, cached
                      getTypeAtFlowLoopLabel, flow: , LoopLabel|Label|Referenced|Shared, return: "foo" | "bar" | "baz"
                    popFlow()->LoopLabel|Label|Referenced|Shared
                    (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 1, ret: "foo" | "bar" | "baz"
                  (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: "foo" | "bar" | "baz", narrowedType: "foo" | "bar" | "baz"
                  (fc out) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 1, ret: "foo" | "bar" | "baz"
                popFlow()->FalseCondition|Condition|Referenced|Shared
                (out) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 0, ret: "foo" | "bar" | "baz"
              sharedFlowCount: 2, typeAtFlowNode: "foo" | "bar" | "baz"
              sharedFlowCount: 2, evolvedType: "foo" | "bar" | "baz"
              return resultType: "foo" | "bar" | "baz"
            checkExpressionWorker return: obj.kind, [438,447] -> "foo" | "bar" | "baz"
          checkExpressionWorker
            node: "foo", [450,455]
            checkExpressionWorker return: "foo", [450,455] -> "foo"
          checkExpressionWorker return: obj.kind!=="foo", [438,455] -> boolean
        checkExpressionWorker
          node: !obj, [431,435]
          checkExpressionWorker
            node: obj, [432,435]
            getFlowTypeOfReference
              reference: obj
              declaredType: X1 | undefined
              LoopLabel|Label|Referenced|Shared
              sharedFlowStart(cache): 0
              getTypeAtFlowNode
                (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
                pushFlow(LoopLabel|Label|Referenced|Shared)
                0: , LoopLabel|Label|Referenced|Shared
                (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 1
                getTypeAtFlowLoopLabel
                  , LoopLabel|Label|Referenced|Shared
                  getTypeAtFlowLoopLabel, (flowNode)id: 2, key:11|104|104|49: obj,[432,435]
                  getTypeAtFlowLoopLabel, cached
                  getTypeAtFlowLoopLabel, flow: , LoopLabel|Label|Referenced|Shared, return: X1 | undefined
                popFlow()->LoopLabel|Label|Referenced|Shared
                (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 0, ret: X1 | undefined
              sharedFlowCount: 1, typeAtFlowNode: X1 | undefined
              sharedFlowCount: 1, evolvedType: X1 | undefined
              return resultType: X1 | undefined
            In getIdentifier(), getFlowTypeOfReference returned X1 | undefined
            checkExpressionWorker return: obj, [432,435] -> X1 | undefined
          checkExpressionWorker
            node: obj, [432,435]
            getFlowTypeOfReference
              reference: obj
              declaredType: X1 | undefined
              LoopLabel|Label|Referenced|Shared
              sharedFlowStart(cache): 0
              getTypeAtFlowNode
                (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
                pushFlow(LoopLabel|Label|Referenced|Shared)
                0: , LoopLabel|Label|Referenced|Shared
                (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 1
                getTypeAtFlowLoopLabel
                  , LoopLabel|Label|Referenced|Shared
                  getTypeAtFlowLoopLabel, (flowNode)id: 2, key:11|104|104|49: obj,[432,435]
                  getTypeAtFlowLoopLabel, cached
                  getTypeAtFlowLoopLabel, flow: , LoopLabel|Label|Referenced|Shared, return: X1 | undefined
                popFlow()->LoopLabel|Label|Referenced|Shared
                (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 0, ret: X1 | undefined
              sharedFlowCount: 1, typeAtFlowNode: X1 | undefined
              sharedFlowCount: 1, evolvedType: X1 | undefined
              return resultType: X1 | undefined
            In getIdentifier(), getFlowTypeOfReference returned X1 | undefined
            checkExpressionWorker return: obj, [432,435] -> X1 | undefined
          checkExpressionWorker return: !obj, [431,435] -> boolean
        checkSourceElement
          {
                      if (isBug) {
                          const t = obj.bug;  // `t` and `obj.bug` are correctly typed, but `obj` is "possibly unedfined"
                      }
                  }
          checkSourceElement
            if (isBug) {
                            const t = obj.bug;  // `t` and `obj.bug` are correctly typed, but `obj` is "possibly unedfined"
                        }
            checkExpressionWorker
              node: isBug, [475,480]
              getFlowTypeOfReference
                reference: isBug
                declaredType: number[] | undefined
                BranchLabel|Label|Referenced|Shared
                sharedFlowStart(cache): 0
                getTypeAtFlowNode
                  (in) , BranchLabel|Label|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
                  pushFlow(BranchLabel|Label|Referenced|Shared)
                  0: , BranchLabel|Label|Referenced|Shared
                  (dbgiter:0) , BranchLabel|Label|Referenced|Shared, flowDepth: 1
                  getTypeAtFlowBranchLabel
                    (in) , BranchLabel|Label|Referenced|Shared, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                    flowStack
                      0: , BranchLabel|Label|Referenced|Shared
                    briter:0, ante:[!obj, (431,435)], TrueCondition|Condition|Referenced
                    getTypeAtFlowNode
                      (in) [!obj, (431,435)], TrueCondition|Condition|Referenced, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                      pushFlow(TrueCondition|Condition|Referenced)
                      0: , BranchLabel|Label|Referenced|Shared
                      1: [!obj, (431,435)], TrueCondition|Condition|Referenced
                      (dbgiter:0) [!obj, (431,435)], TrueCondition|Condition|Referenced, flowDepth: 2
                      getTypeAtFlowCondition
                        (fc  in) [!obj, (431,435)], TrueCondition|Condition|Referenced, flowDepth: 2
                        getTypeAtFlowNode
                          (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                          pushFlow(LoopLabel|Label|Referenced|Shared)
                          0: , BranchLabel|Label|Referenced|Shared
                          1: [!obj, (431,435)], TrueCondition|Condition|Referenced
                          2: , LoopLabel|Label|Referenced|Shared
                          (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 3
                          getTypeAtFlowLoopLabel
                            , LoopLabel|Label|Referenced|Shared
                            getTypeAtFlowLoopLabel, (flowNode)id: 2, key:11|124|124|52: isBug,[475,480]
                            getTypeAtFlowLoopLabel, The first antecedent of a loop junction is always the non-looping control
                            getTypeAtFlowNode
                              (in) [isBug = obj?.bug(), (375,394)], Assignment|Referenced, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                              pushFlow(Assignment|Referenced)
                              0: , BranchLabel|Label|Referenced|Shared
                              1: [!obj, (431,435)], TrueCondition|Condition|Referenced
                              2: , LoopLabel|Label|Referenced|Shared
                              3: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                              (dbgiter:0) [isBug = obj?.bug(), (375,394)], Assignment|Referenced, flowDepth: 4
                              popFlow()->Assignment|Referenced
                              (out) [isBug = obj?.bug(), (375,394)], Assignment|Referenced, flowDepth: 3, ret: number[] | undefined
                            getTypeAtFlowLoopLabel, cache.set(11|124|124|52: isBug,[475,480], number[] | undefined
                            getTypeAtFlowLoopLabel, flow: , LoopLabel|Label|Referenced|Shared, return: number[] | undefined
                          popFlow()->LoopLabel|Label|Referenced|Shared
                          (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 2, ret: number[] | undefined
                        (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: number[] | undefined, narrowedType: number[] | undefined
                        (fc out) [!obj, (431,435)], TrueCondition|Condition|Referenced, flowDepth: 2, ret: number[] | undefined
                      popFlow()->TrueCondition|Condition|Referenced
                      (out) [!obj, (431,435)], TrueCondition|Condition|Referenced, flowDepth: 1, ret: number[] | undefined
                    briter:0, flowType: number[] | undefined, type: number[] | undefined
                    (out) , BranchLabel|Label|Referenced|Shared, flowDepth: 1, ret: number[] | undefined
                  popFlow()->BranchLabel|Label|Referenced|Shared
                  (out) , BranchLabel|Label|Referenced|Shared, flowDepth: 0, ret: number[] | undefined
                sharedFlowCount: 2, typeAtFlowNode: number[] | undefined
                sharedFlowCount: 2, evolvedType: number[] | undefined
                return resultType: number[] | undefined
              In getIdentifier(), getFlowTypeOfReference returned number[] | undefined
              checkExpressionWorker return: isBug, [475,480] -> number[] | undefined
            checkExpressionWorker
              node: isBug, [475,480]
              getFlowTypeOfReference
                reference: isBug
                declaredType: number[] | undefined
                BranchLabel|Label|Referenced|Shared
                sharedFlowStart(cache): 0
                getTypeAtFlowNode
                  (in) , BranchLabel|Label|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
                  pushFlow(BranchLabel|Label|Referenced|Shared)
                  0: , BranchLabel|Label|Referenced|Shared
                  (dbgiter:0) , BranchLabel|Label|Referenced|Shared, flowDepth: 1
                  getTypeAtFlowBranchLabel
                    (in) , BranchLabel|Label|Referenced|Shared, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                    flowStack
                      0: , BranchLabel|Label|Referenced|Shared
                    briter:0, ante:[!obj, (431,435)], TrueCondition|Condition|Referenced
                    getTypeAtFlowNode
                      (in) [!obj, (431,435)], TrueCondition|Condition|Referenced, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                      pushFlow(TrueCondition|Condition|Referenced)
                      0: , BranchLabel|Label|Referenced|Shared
                      1: [!obj, (431,435)], TrueCondition|Condition|Referenced
                      (dbgiter:0) [!obj, (431,435)], TrueCondition|Condition|Referenced, flowDepth: 2
                      getTypeAtFlowCondition
                        (fc  in) [!obj, (431,435)], TrueCondition|Condition|Referenced, flowDepth: 2
                        getTypeAtFlowNode
                          (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                          pushFlow(LoopLabel|Label|Referenced|Shared)
                          0: , BranchLabel|Label|Referenced|Shared
                          1: [!obj, (431,435)], TrueCondition|Condition|Referenced
                          2: , LoopLabel|Label|Referenced|Shared
                          (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 3
                          getTypeAtFlowLoopLabel
                            , LoopLabel|Label|Referenced|Shared
                            getTypeAtFlowLoopLabel, (flowNode)id: 2, key:11|124|124|52: isBug,[475,480]
                            getTypeAtFlowLoopLabel, cached
                            getTypeAtFlowLoopLabel, flow: , LoopLabel|Label|Referenced|Shared, return: number[] | undefined
                          popFlow()->LoopLabel|Label|Referenced|Shared
                          (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 2, ret: number[] | undefined
                        (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: number[] | undefined, narrowedType: number[] | undefined
                        (fc out) [!obj, (431,435)], TrueCondition|Condition|Referenced, flowDepth: 2, ret: number[] | undefined
                      popFlow()->TrueCondition|Condition|Referenced
                      (out) [!obj, (431,435)], TrueCondition|Condition|Referenced, flowDepth: 1, ret: number[] | undefined
                    briter:0, flowType: number[] | undefined, type: number[] | undefined
                    (out) , BranchLabel|Label|Referenced|Shared, flowDepth: 1, ret: number[] | undefined
                  popFlow()->BranchLabel|Label|Referenced|Shared
                  (out) , BranchLabel|Label|Referenced|Shared, flowDepth: 0, ret: number[] | undefined
                sharedFlowCount: 2, typeAtFlowNode: number[] | undefined
                sharedFlowCount: 2, evolvedType: number[] | undefined
                return resultType: number[] | undefined
              In getIdentifier(), getFlowTypeOfReference returned number[] | undefined
              checkExpressionWorker return: isBug, [475,480] -> number[] | undefined
            checkSourceElement
              {
                              const t = obj.bug;  // `t` and `obj.bug` are correctly typed, but `obj` is "possibly unedfined"
                          }
              checkSourceElement
                const t = obj.bug;
                checkSourceElement
                  t = obj.bug
                  checkExpressionWorker
                    node: obj.bug, [509,517]
                    checkExpressionWorker
                      node: obj, [509,513]
                      getFlowTypeOfReference
                        reference: obj
                        declaredType: X1 | undefined
                        TrueCondition|Condition|Referenced|Shared
                        sharedFlowStart(cache): 0
                        getTypeAtFlowNode
                          (in) [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
                          pushFlow(TrueCondition|Condition|Referenced|Shared)
                          0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                          (dbgiter:0) [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1
                          getTypeAtFlowCondition
                            (fc  in) [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1
                            getTypeAtFlowNode
                              (in) , BranchLabel|Label|Referenced|Shared, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                              pushFlow(BranchLabel|Label|Referenced|Shared)
                              0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                              1: , BranchLabel|Label|Referenced|Shared
                              (dbgiter:0) , BranchLabel|Label|Referenced|Shared, flowDepth: 2
                              getTypeAtFlowBranchLabel
                                (in) , BranchLabel|Label|Referenced|Shared, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                                flowStack
                                  0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                  1: , BranchLabel|Label|Referenced|Shared
                                briter:0, ante:[!obj, (431,435)], TrueCondition|Condition|Referenced
                                getTypeAtFlowNode
                                  (in) [!obj, (431,435)], TrueCondition|Condition|Referenced, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                                  pushFlow(TrueCondition|Condition|Referenced)
                                  0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                  1: , BranchLabel|Label|Referenced|Shared
                                  2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                  (dbgiter:0) [!obj, (431,435)], TrueCondition|Condition|Referenced, flowDepth: 3
                                  getTypeAtFlowCondition
                                    (fc  in) [!obj, (431,435)], TrueCondition|Condition|Referenced, flowDepth: 3
                                    getTypeAtFlowNode
                                      (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                                      pushFlow(LoopLabel|Label|Referenced|Shared)
                                      0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                      1: , BranchLabel|Label|Referenced|Shared
                                      2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                      3: , LoopLabel|Label|Referenced|Shared
                                      (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 4
                                      getTypeAtFlowLoopLabel
                                        , LoopLabel|Label|Referenced|Shared
                                        getTypeAtFlowLoopLabel, (flowNode)id: 2, key:11|104|104|54: obj,[509,513]
                                        getTypeAtFlowLoopLabel, The first antecedent of a loop junction is always the non-looping control
                                        getTypeAtFlowNode
                                          (in) [isBug = obj?.bug(), (375,394)], Assignment|Referenced, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                                          pushFlow(Assignment|Referenced)
                                          0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                          1: , BranchLabel|Label|Referenced|Shared
                                          2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                          3: , LoopLabel|Label|Referenced|Shared
                                          4: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                                          (dbgiter:0) [isBug = obj?.bug(), (375,394)], Assignment|Referenced, flowDepth: 5
                                          (dbgiter:1) , BranchLabel|Label|Referenced, flowDepth: 5
                                          getTypeAtFlowBranchLabel
                                            (in) , BranchLabel|Label|Referenced, flowDepth: 5, flowTypeQueryState.getFlowStackIndex(): 4
                                            flowStack
                                              0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                              1: , BranchLabel|Label|Referenced|Shared
                                              2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                              3: , LoopLabel|Label|Referenced|Shared
                                              4: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                                            adding alias: isBug = obj?.bug(), condition: TrueCondition|Condition|Referenced|Shared
                                            briter:0, ante:[obj, (383,387)], FalseCondition|Condition|Referenced
                                            skipping because aliasFlowTF is true but anteTF is false
                                            briter:1, ante:[obj?.bug(), (383,394)], TrueCondition|Condition|Referenced
                                            getTypeAtFlowNode
                                              (in) [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced, flowDepth: 5, flowTypeQueryState.getFlowStackIndex(): 4
                                              pushFlow(TrueCondition|Condition|Referenced)
                                              0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                              1: , BranchLabel|Label|Referenced|Shared
                                              2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                              3: , LoopLabel|Label|Referenced|Shared
                                              4: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                                              5: [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced
                                              (dbgiter:0) [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced, flowDepth: 6
                                              getTypeAtFlowCondition
                                                (fc  in) [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced, flowDepth: 6
                                                getTypeAtFlowNode
                                                  (in) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 6, flowTypeQueryState.getFlowStackIndex(): 5
                                                  pushFlow(TrueCondition|Condition|Referenced|Shared)
                                                  0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                                  1: , BranchLabel|Label|Referenced|Shared
                                                  2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                                  3: , LoopLabel|Label|Referenced|Shared
                                                  4: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                                                  5: [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced
                                                  6: [obj, (383,387)], TrueCondition|Condition|Referenced|Shared
                                                  (dbgiter:0) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 7
                                                  getTypeAtFlowCondition
                                                    (fc  in) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 7
                                                    getTypeAtFlowNode
                                                      (in) , Start|Referenced|Shared, flowDepth: 7, flowTypeQueryState.getFlowStackIndex(): 6
                                                      pushFlow(Start|Referenced|Shared)
                                                      0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                                      1: , BranchLabel|Label|Referenced|Shared
                                                      2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                                      3: , LoopLabel|Label|Referenced|Shared
                                                      4: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                                                      5: [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced
                                                      6: [obj, (383,387)], TrueCondition|Condition|Referenced|Shared
                                                      7: , Start|Referenced|Shared
                                                      (dbgiter:0) , Start|Referenced|Shared, flowDepth: 8
                                                      popFlow()->Start|Referenced|Shared
                                                      (out) , Start|Referenced|Shared, flowDepth: 7, ret: X1 | undefined
                                                    (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: X1 | undefined, narrowedType: X1
                                                    (fc out) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 7, ret: X1
                                                  popFlow()->TrueCondition|Condition|Referenced|Shared
                                                  (out) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 6, ret: X1
                                                (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: X1, narrowedType: X1
                                                (fc out) [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced, flowDepth: 6, ret: X1
                                              popFlow()->TrueCondition|Condition|Referenced
                                              (out) [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced, flowDepth: 5, ret: X1
                                            briter:1, flowType: X1, type: X1
                                            briter:2, ante:[obj?.bug(), (383,394)], FalseCondition|Condition|Referenced
                                            skipping because aliasFlowTF is true but anteTF is false
                                            br/antecedentTypes[0]: X1
                                            brTmpType: X1
                                            (out) , BranchLabel|Label|Referenced, flowDepth: 5, ret: X1
                                          popFlow()->Assignment|Referenced
                                          (out) [isBug = obj?.bug(), (375,394)], Assignment|Referenced, flowDepth: 4, ret: X1
                                        getTypeAtFlowLoopLabel, All but the first antecedent
                                        getTypeAtFlowNode
                                          (in) , BranchLabel|Label|Referenced, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                                          pushFlow(BranchLabel|Label|Referenced)
                                          0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                          1: , BranchLabel|Label|Referenced|Shared
                                          2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                          3: , LoopLabel|Label|Referenced|Shared
                                          4: , BranchLabel|Label|Referenced
                                          (dbgiter:0) , BranchLabel|Label|Referenced, flowDepth: 5
                                          getTypeAtFlowBranchLabel
                                            (in) , BranchLabel|Label|Referenced, flowDepth: 5, flowTypeQueryState.getFlowStackIndex(): 4
                                            flowStack
                                              0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                              1: , BranchLabel|Label|Referenced|Shared
                                              2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                              3: , LoopLabel|Label|Referenced|Shared
                                              4: , BranchLabel|Label|Referenced
                                            briter:0, ante:, BranchLabel|Label|Referenced
                                            getTypeAtFlowNode
                                              (in) , BranchLabel|Label|Referenced, flowDepth: 5, flowTypeQueryState.getFlowStackIndex(): 4
                                              pushFlow(BranchLabel|Label|Referenced)
                                              0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                              1: , BranchLabel|Label|Referenced|Shared
                                              2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                              3: , LoopLabel|Label|Referenced|Shared
                                              4: , BranchLabel|Label|Referenced
                                              5: , BranchLabel|Label|Referenced
                                              (dbgiter:0) , BranchLabel|Label|Referenced, flowDepth: 6
                                              getTypeAtFlowBranchLabel
                                                (in) , BranchLabel|Label|Referenced, flowDepth: 6, flowTypeQueryState.getFlowStackIndex(): 5
                                                flowStack
                                                  0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                                  1: , BranchLabel|Label|Referenced|Shared
                                                  2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                                  3: , LoopLabel|Label|Referenced|Shared
                                                  4: , BranchLabel|Label|Referenced
                                                  5: , BranchLabel|Label|Referenced
                                                briter:0, ante:[t = obj.bug, (505,517)], Assignment|Referenced
                                                getTypeAtFlowNode
                                                  (in) [t = obj.bug, (505,517)], Assignment|Referenced, flowDepth: 6, flowTypeQueryState.getFlowStackIndex(): 5
                                                  pushFlow(Assignment|Referenced)
                                                  0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                                  1: , BranchLabel|Label|Referenced|Shared
                                                  2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                                  3: , LoopLabel|Label|Referenced|Shared
                                                  4: , BranchLabel|Label|Referenced
                                                  5: , BranchLabel|Label|Referenced
                                                  6: [t = obj.bug, (505,517)], Assignment|Referenced
                                                  (dbgiter:0) [t = obj.bug, (505,517)], Assignment|Referenced, flowDepth: 7
                                                  (dbgiter:1) [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared, flowDepth: 7
                                                  getTypeAtFlowCondition
                                                    (fc  in) [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared, flowDepth: 7
                                                    getTypeAtFlowNode
                                                      (in) , BranchLabel|Label|Referenced|Shared, flowDepth: 7, flowTypeQueryState.getFlowStackIndex(): 6
                                                      pushFlow(BranchLabel|Label|Referenced|Shared)
                                                      0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                                      1: , BranchLabel|Label|Referenced|Shared
                                                      2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                                      3: , LoopLabel|Label|Referenced|Shared
                                                      4: , BranchLabel|Label|Referenced
                                                      5: , BranchLabel|Label|Referenced
                                                      6: [t = obj.bug, (505,517)], Assignment|Referenced
                                                      7: , BranchLabel|Label|Referenced|Shared
                                                      (dbgiter:0) , BranchLabel|Label|Referenced|Shared, flowDepth: 8
                                                      getTypeAtFlowBranchLabel
                                                        (in) , BranchLabel|Label|Referenced|Shared, flowDepth: 8, flowTypeQueryState.getFlowStackIndex(): 7
                                                        flowStack
                                                          0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                                          1: , BranchLabel|Label|Referenced|Shared
                                                          2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                                          3: , LoopLabel|Label|Referenced|Shared
                                                          4: , BranchLabel|Label|Referenced
                                                          5: , BranchLabel|Label|Referenced
                                                          6: [t = obj.bug, (505,517)], Assignment|Referenced
                                                          7: , BranchLabel|Label|Referenced|Shared
                                                        briter:0, ante:[!obj, (431,435)], TrueCondition|Condition|Referenced
                                                        getTypeAtFlowNode
                                                          (in) [!obj, (431,435)], TrueCondition|Condition|Referenced, flowDepth: 8, flowTypeQueryState.getFlowStackIndex(): 7
                                                          pushFlow(TrueCondition|Condition|Referenced)
                                                          0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                                          1: , BranchLabel|Label|Referenced|Shared
                                                          2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                                          3: , LoopLabel|Label|Referenced|Shared
                                                          4: , BranchLabel|Label|Referenced
                                                          5: , BranchLabel|Label|Referenced
                                                          6: [t = obj.bug, (505,517)], Assignment|Referenced
                                                          7: , BranchLabel|Label|Referenced|Shared
                                                          8: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                                          (dbgiter:0) [!obj, (431,435)], TrueCondition|Condition|Referenced, flowDepth: 9
                                                          getTypeAtFlowCondition
                                                            (fc  in) [!obj, (431,435)], TrueCondition|Condition|Referenced, flowDepth: 9
                                                            getTypeAtFlowNode
                                                              (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 9, flowTypeQueryState.getFlowStackIndex(): 8
                                                              pushFlow(LoopLabel|Label|Referenced|Shared)
                                                              0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                                              1: , BranchLabel|Label|Referenced|Shared
                                                              2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                                              3: , LoopLabel|Label|Referenced|Shared
                                                              4: , BranchLabel|Label|Referenced
                                                              5: , BranchLabel|Label|Referenced
                                                              6: [t = obj.bug, (505,517)], Assignment|Referenced
                                                              7: , BranchLabel|Label|Referenced|Shared
                                                              8: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                                              9: , LoopLabel|Label|Referenced|Shared
                                                              (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 10
                                                              getTypeAtFlowLoopLabel
                                                                , LoopLabel|Label|Referenced|Shared
                                                                getTypeAtFlowLoopLabel, (flowNode)id: 2, key:11|104|104|54: obj,[509,513]
                                                                getTypeAtFlowLoopLabel, this flow loop junction and reference are already being processed, incomplete
                                                                getTypeAtFlowLoopLabel, flow: , LoopLabel|Label|Referenced|Shared, return: IncompleteType
                                                              popFlow()->LoopLabel|Label|Referenced|Shared
                                                              (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 9, ret: IncompleteType
                                                            (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: X1, narrowedType: never
                                                            (fc out) [!obj, (431,435)], TrueCondition|Condition|Referenced, flowDepth: 9, ret: IncompleteType
                                                          popFlow()->TrueCondition|Condition|Referenced
                                                          (out) [!obj, (431,435)], TrueCondition|Condition|Referenced, flowDepth: 8, ret: IncompleteType
                                                        briter:0, flowType: IncompleteType, type: never
                                                        briter:1, ante:[obj.kind!=="foo", (438,455)], TrueCondition|Condition|Referenced
                                                        getTypeAtFlowNode
                                                          (in) [obj.kind!=="foo", (438,455)], TrueCondition|Condition|Referenced, flowDepth: 8, flowTypeQueryState.getFlowStackIndex(): 7
                                                          pushFlow(TrueCondition|Condition|Referenced)
                                                          0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                                          1: , BranchLabel|Label|Referenced|Shared
                                                          2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                                          3: , LoopLabel|Label|Referenced|Shared
                                                          4: , BranchLabel|Label|Referenced
                                                          5: , BranchLabel|Label|Referenced
                                                          6: [t = obj.bug, (505,517)], Assignment|Referenced
                                                          7: , BranchLabel|Label|Referenced|Shared
                                                          8: [obj.kind!=="foo", (438,455)], TrueCondition|Condition|Referenced
                                                          (dbgiter:0) [obj.kind!=="foo", (438,455)], TrueCondition|Condition|Referenced, flowDepth: 9
                                                          getTypeAtFlowCondition
                                                            (fc  in) [obj.kind!=="foo", (438,455)], TrueCondition|Condition|Referenced, flowDepth: 9
                                                            getTypeAtFlowNode
                                                              (in) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 9, flowTypeQueryState.getFlowStackIndex(): 8
                                                              pushFlow(FalseCondition|Condition|Referenced|Shared)
                                                              0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                                              1: , BranchLabel|Label|Referenced|Shared
                                                              2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                                              3: , LoopLabel|Label|Referenced|Shared
                                                              4: , BranchLabel|Label|Referenced
                                                              5: , BranchLabel|Label|Referenced
                                                              6: [t = obj.bug, (505,517)], Assignment|Referenced
                                                              7: , BranchLabel|Label|Referenced|Shared
                                                              8: [obj.kind!=="foo", (438,455)], TrueCondition|Condition|Referenced
                                                              9: [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared
                                                              (dbgiter:0) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 10
                                                              getTypeAtFlowCondition
                                                                (fc  in) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 10
                                                                getTypeAtFlowNode
                                                                  (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 10, flowTypeQueryState.getFlowStackIndex(): 9
                                                                  pushFlow(LoopLabel|Label|Referenced|Shared)
                                                                  0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                                                  1: , BranchLabel|Label|Referenced|Shared
                                                                  2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                                                  3: , LoopLabel|Label|Referenced|Shared
                                                                  4: , BranchLabel|Label|Referenced
                                                                  5: , BranchLabel|Label|Referenced
                                                                  6: [t = obj.bug, (505,517)], Assignment|Referenced
                                                                  7: , BranchLabel|Label|Referenced|Shared
                                                                  8: [obj.kind!=="foo", (438,455)], TrueCondition|Condition|Referenced
                                                                  9: [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared
                                                                  10: , LoopLabel|Label|Referenced|Shared
                                                                  (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 11
                                                                  popFlow()->LoopLabel|Label|Referenced|Shared
                                                                  (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 10, ret: IncompleteType
                                                                (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: X1, narrowedType: X1
                                                                (fc out) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 10, ret: IncompleteType
                                                              popFlow()->FalseCondition|Condition|Referenced|Shared
                                                              (out) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 9, ret: IncompleteType
                                                            checkExpressionWorker
                                                              node: "foo", [450,455]
                                                              checkExpressionWorker return: "foo", [450,455] -> "foo"
                                                            (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: X1, narrowedType: Readonly<{ kind: "bar"; bar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; baz: boolean; bug: () => number[]; }>
                                                            (fc out) [obj.kind!=="foo", (438,455)], TrueCondition|Condition|Referenced, flowDepth: 9, ret: IncompleteType
                                                          popFlow()->TrueCondition|Condition|Referenced
                                                          (out) [obj.kind!=="foo", (438,455)], TrueCondition|Condition|Referenced, flowDepth: 8, ret: IncompleteType
                                                        briter:1, flowType: IncompleteType, type: Readonly<{ kind: "bar"; bar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; baz: boolean; bug: () => number[]; }>
                                                        br/antecedentTypes[0]: never
                                                        br/antecedentTypes[1]: Readonly<{ kind: "bar"; bar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; baz: boolean; bug: () => number[]; }>
                                                        brTmpType: Readonly<{ kind: "bar"; bar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; baz: boolean; bug: () => number[]; }>
                                                        (out) , BranchLabel|Label|Referenced|Shared, flowDepth: 8, ret: IncompleteType
                                                      popFlow()->BranchLabel|Label|Referenced|Shared
                                                      (out) , BranchLabel|Label|Referenced|Shared, flowDepth: 7, ret: IncompleteType
                                                    (fc ) flow.id: 4, asumeTrue:true, nonEvolvingType: Readonly<{ kind: "bar"; bar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; baz: boolean; bug: () => number[]; }>, narrowedType: Readonly<{ kind: "bar"; bar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; baz: boolean; bug: () => number[]; }>
                                                    (fc out) [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared, flowDepth: 7, ret: IncompleteType
                                                  popFlow()->Assignment|Referenced
                                                  (out) [t = obj.bug, (505,517)], Assignment|Referenced, flowDepth: 6, ret: IncompleteType
                                                briter:0, flowType: IncompleteType, type: Readonly<{ kind: "bar"; bar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; baz: boolean; bug: () => number[]; }>
                                                briter:1, ante:[isBug, (475,480)], FalseCondition|Condition|Referenced|Shared
                                                getTypeAtFlowNode
                                                  (in) [isBug, (475,480)], FalseCondition|Condition|Referenced|Shared, flowDepth: 6, flowTypeQueryState.getFlowStackIndex(): 5
                                                  pushFlow(FalseCondition|Condition|Referenced|Shared)
                                                  0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                                  1: , BranchLabel|Label|Referenced|Shared
                                                  2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                                  3: , LoopLabel|Label|Referenced|Shared
                                                  4: , BranchLabel|Label|Referenced
                                                  5: , BranchLabel|Label|Referenced
                                                  6: [isBug, (475,480)], FalseCondition|Condition|Referenced|Shared
                                                  (dbgiter:0) [isBug, (475,480)], FalseCondition|Condition|Referenced|Shared, flowDepth: 7
                                                  getTypeAtFlowCondition
                                                    (fc  in) [isBug, (475,480)], FalseCondition|Condition|Referenced|Shared, flowDepth: 7
                                                    getTypeAtFlowNode
                                                      (in) , BranchLabel|Label|Referenced|Shared, flowDepth: 7, flowTypeQueryState.getFlowStackIndex(): 6
                                                      pushFlow(BranchLabel|Label|Referenced|Shared)
                                                      0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                                      1: , BranchLabel|Label|Referenced|Shared
                                                      2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                                      3: , LoopLabel|Label|Referenced|Shared
                                                      4: , BranchLabel|Label|Referenced
                                                      5: , BranchLabel|Label|Referenced
                                                      6: [isBug, (475,480)], FalseCondition|Condition|Referenced|Shared
                                                      7: , BranchLabel|Label|Referenced|Shared
                                                      (dbgiter:0) , BranchLabel|Label|Referenced|Shared, flowDepth: 8
                                                      popFlow()->BranchLabel|Label|Referenced|Shared
                                                      (out) , BranchLabel|Label|Referenced|Shared, flowDepth: 7, ret: IncompleteType
                                                    (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: Readonly<{ kind: "bar"; bar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; baz: boolean; bug: () => number[]; }>, narrowedType: Readonly<{ kind: "bar"; bar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; baz: boolean; bug: () => number[]; }>
                                                    (fc out) [isBug, (475,480)], FalseCondition|Condition|Referenced|Shared, flowDepth: 7, ret: IncompleteType
                                                  popFlow()->FalseCondition|Condition|Referenced|Shared
                                                  (out) [isBug, (475,480)], FalseCondition|Condition|Referenced|Shared, flowDepth: 6, ret: IncompleteType
                                                briter:1, flowType: IncompleteType, type: Readonly<{ kind: "bar"; bar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; baz: boolean; bug: () => number[]; }>
                                                br/antecedentTypes[0]: Readonly<{ kind: "bar"; bar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; baz: boolean; bug: () => number[]; }>
                                                brTmpType: Readonly<{ kind: "bar"; bar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; baz: boolean; bug: () => number[]; }>
                                                (out) , BranchLabel|Label|Referenced, flowDepth: 6, ret: IncompleteType
                                              popFlow()->BranchLabel|Label|Referenced
                                              (out) , BranchLabel|Label|Referenced, flowDepth: 5, ret: IncompleteType
                                            briter:0, flowType: IncompleteType, type: Readonly<{ kind: "bar"; bar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; baz: boolean; bug: () => number[]; }>
                                            briter:1, ante:[obj.kind!=="foo", (438,455)], FalseCondition|Condition|Referenced|Shared
                                            getTypeAtFlowNode
                                              (in) [obj.kind!=="foo", (438,455)], FalseCondition|Condition|Referenced|Shared, flowDepth: 5, flowTypeQueryState.getFlowStackIndex(): 4
                                              pushFlow(FalseCondition|Condition|Referenced|Shared)
                                              0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                              1: , BranchLabel|Label|Referenced|Shared
                                              2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                              3: , LoopLabel|Label|Referenced|Shared
                                              4: , BranchLabel|Label|Referenced
                                              5: [obj.kind!=="foo", (438,455)], FalseCondition|Condition|Referenced|Shared
                                              (dbgiter:0) [obj.kind!=="foo", (438,455)], FalseCondition|Condition|Referenced|Shared, flowDepth: 6
                                              getTypeAtFlowCondition
                                                (fc  in) [obj.kind!=="foo", (438,455)], FalseCondition|Condition|Referenced|Shared, flowDepth: 6
                                                getTypeAtFlowNode
                                                  (in) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 6, flowTypeQueryState.getFlowStackIndex(): 5
                                                  pushFlow(FalseCondition|Condition|Referenced|Shared)
                                                  0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                                  1: , BranchLabel|Label|Referenced|Shared
                                                  2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                                  3: , LoopLabel|Label|Referenced|Shared
                                                  4: , BranchLabel|Label|Referenced
                                                  5: [obj.kind!=="foo", (438,455)], FalseCondition|Condition|Referenced|Shared
                                                  6: [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared
                                                  (dbgiter:0) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 7
                                                  popFlow()->FalseCondition|Condition|Referenced|Shared
                                                  (out) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 6, ret: IncompleteType
                                                checkExpressionWorker
                                                  node: "foo", [450,455]
                                                  checkExpressionWorker return: "foo", [450,455] -> "foo"
                                                (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: X1, narrowedType: Readonly<{ kind: "foo"; foo: string; bug: () => number[]; }>
                                                (fc out) [obj.kind!=="foo", (438,455)], FalseCondition|Condition|Referenced|Shared, flowDepth: 6, ret: IncompleteType
                                              popFlow()->FalseCondition|Condition|Referenced|Shared
                                              (out) [obj.kind!=="foo", (438,455)], FalseCondition|Condition|Referenced|Shared, flowDepth: 5, ret: IncompleteType
                                            briter:1, flowType: IncompleteType, type: Readonly<{ kind: "foo"; foo: string; bug: () => number[]; }>
                                            br/antecedentTypes[0]: Readonly<{ kind: "bar"; bar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; baz: boolean; bug: () => number[]; }>
                                            br/antecedentTypes[1]: Readonly<{ kind: "foo"; foo: string; bug: () => number[]; }>
                                            brTmpType: Readonly<{ kind: "foo"; foo: string; bug: () => number[]; }> | Readonly<{ kind: "bar"; bar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; baz: boolean; bug: () => number[]; }>
                                            (out) , BranchLabel|Label|Referenced, flowDepth: 5, ret: IncompleteType
                                          popFlow()->BranchLabel|Label|Referenced
                                          (out) , BranchLabel|Label|Referenced, flowDepth: 4, ret: IncompleteType
                                        getTypeAtFlowLoopLabel, cache.set(11|104|104|54: obj,[509,513], X1
                                        getTypeAtFlowLoopLabel, flow: , LoopLabel|Label|Referenced|Shared, return: X1
                                      popFlow()->LoopLabel|Label|Referenced|Shared
                                      (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 3, ret: X1
                                    (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: X1, narrowedType: never
                                    (fc out) [!obj, (431,435)], TrueCondition|Condition|Referenced, flowDepth: 3, ret: never
                                  popFlow()->TrueCondition|Condition|Referenced
                                  (out) [!obj, (431,435)], TrueCondition|Condition|Referenced, flowDepth: 2, ret: never
                                briter:0, flowType: never, type: never
                                briter:1, ante:[obj.kind!=="foo", (438,455)], TrueCondition|Condition|Referenced
                                getTypeAtFlowNode
                                  (in) [obj.kind!=="foo", (438,455)], TrueCondition|Condition|Referenced, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                                  pushFlow(TrueCondition|Condition|Referenced)
                                  0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                  1: , BranchLabel|Label|Referenced|Shared
                                  2: [obj.kind!=="foo", (438,455)], TrueCondition|Condition|Referenced
                                  (dbgiter:0) [obj.kind!=="foo", (438,455)], TrueCondition|Condition|Referenced, flowDepth: 3
                                  getTypeAtFlowCondition
                                    (fc  in) [obj.kind!=="foo", (438,455)], TrueCondition|Condition|Referenced, flowDepth: 3
                                    getTypeAtFlowNode
                                      (in) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                                      pushFlow(FalseCondition|Condition|Referenced|Shared)
                                      0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                      1: , BranchLabel|Label|Referenced|Shared
                                      2: [obj.kind!=="foo", (438,455)], TrueCondition|Condition|Referenced
                                      3: [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared
                                      (dbgiter:0) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 4
                                      popFlow()->FalseCondition|Condition|Referenced|Shared
                                      (out) [!obj, (431,435)], FalseCondition|Condition|Referenced|Shared, flowDepth: 3, ret: IncompleteType
                                    checkExpressionWorker
                                      node: "foo", [450,455]
                                      checkExpressionWorker return: "foo", [450,455] -> "foo"
                                    (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: X1, narrowedType: Readonly<{ kind: "bar"; bar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; baz: boolean; bug: () => number[]; }>
                                    (fc out) [obj.kind!=="foo", (438,455)], TrueCondition|Condition|Referenced, flowDepth: 3, ret: IncompleteType
                                  popFlow()->TrueCondition|Condition|Referenced
                                  (out) [obj.kind!=="foo", (438,455)], TrueCondition|Condition|Referenced, flowDepth: 2, ret: IncompleteType
                                briter:1, flowType: IncompleteType, type: Readonly<{ kind: "bar"; bar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; baz: boolean; bug: () => number[]; }>
                                br/antecedentTypes[0]: never
                                br/antecedentTypes[1]: Readonly<{ kind: "bar"; bar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; baz: boolean; bug: () => number[]; }>
                                brTmpType: Readonly<{ kind: "bar"; bar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; baz: boolean; bug: () => number[]; }>
                                (out) , BranchLabel|Label|Referenced|Shared, flowDepth: 2, ret: IncompleteType
                              popFlow()->BranchLabel|Label|Referenced|Shared
                              (out) , BranchLabel|Label|Referenced|Shared, flowDepth: 1, ret: IncompleteType
                            (fc ) flow.id: 4, asumeTrue:true, nonEvolvingType: Readonly<{ kind: "bar"; bar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; baz: boolean; bug: () => number[]; }>, narrowedType: Readonly<{ kind: "bar"; bar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; baz: boolean; bug: () => number[]; }>
                            (fc out) [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1, ret: IncompleteType
                          popFlow()->TrueCondition|Condition|Referenced|Shared
                          (out) [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared, flowDepth: 0, ret: IncompleteType
                        sharedFlowCount: 11, typeAtFlowNode: <IncompleteType>
                        sharedFlowCount: 11, evolvedType: Readonly<{ kind: "bar"; bar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; baz: boolean; bug: () => number[]; }>
                        return resultType: Readonly<{ kind: "bar"; bar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; baz: boolean; bug: () => number[]; }>
                      In getIdentifier(), getFlowTypeOfReference returned Readonly<{ kind: "bar"; bar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; baz: boolean; bug: () => number[]; }>
                      checkExpressionWorker return: obj, [509,513] -> Readonly<{ kind: "bar"; bar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; baz: boolean; bug: () => number[]; }>
                    getFlowTypeOfReference
                      reference: obj.bug
                      declaredType: (() => number[]) | (() => number[])
                      TrueCondition|Condition|Referenced|Shared
                      sharedFlowStart(cache): 0
                      getTypeAtFlowNode
                        (in) [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
                        pushFlow(TrueCondition|Condition|Referenced|Shared)
                        0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                        (dbgiter:0) [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1
                        getTypeAtFlowCondition
                          (fc  in) [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1
                          getTypeAtFlowNode
                            (in) , BranchLabel|Label|Referenced|Shared, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                            pushFlow(BranchLabel|Label|Referenced|Shared)
                            0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                            1: , BranchLabel|Label|Referenced|Shared
                            (dbgiter:0) , BranchLabel|Label|Referenced|Shared, flowDepth: 2
                            getTypeAtFlowBranchLabel
                              (in) , BranchLabel|Label|Referenced|Shared, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                              flowStack
                                0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                1: , BranchLabel|Label|Referenced|Shared
                              briter:0, ante:[!obj, (431,435)], TrueCondition|Condition|Referenced
                              getTypeAtFlowNode
                                (in) [!obj, (431,435)], TrueCondition|Condition|Referenced, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                                pushFlow(TrueCondition|Condition|Referenced)
                                0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                1: , BranchLabel|Label|Referenced|Shared
                                2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                (dbgiter:0) [!obj, (431,435)], TrueCondition|Condition|Referenced, flowDepth: 3
                                getTypeAtFlowCondition
                                  (fc  in) [!obj, (431,435)], TrueCondition|Condition|Referenced, flowDepth: 3
                                  getTypeAtFlowNode
                                    (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                                    pushFlow(LoopLabel|Label|Referenced|Shared)
                                    0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                    1: , BranchLabel|Label|Referenced|Shared
                                    2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                    3: , LoopLabel|Label|Referenced|Shared
                                    (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 4
                                    getTypeAtFlowLoopLabel
                                      , LoopLabel|Label|Referenced|Shared
                                      getTypeAtFlowLoopLabel, (flowNode)id: 2, key:-1|129|129|54: obj,[509,513].bug
                                      getTypeAtFlowLoopLabel, The first antecedent of a loop junction is always the non-looping control
                                      getTypeAtFlowNode
                                        (in) [isBug = obj?.bug(), (375,394)], Assignment|Referenced, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                                        pushFlow(Assignment|Referenced)
                                        0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                        1: , BranchLabel|Label|Referenced|Shared
                                        2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                        3: , LoopLabel|Label|Referenced|Shared
                                        4: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                                        (dbgiter:0) [isBug = obj?.bug(), (375,394)], Assignment|Referenced, flowDepth: 5
                                        (dbgiter:1) , BranchLabel|Label|Referenced, flowDepth: 5
                                        getTypeAtFlowBranchLabel
                                          (in) , BranchLabel|Label|Referenced, flowDepth: 5, flowTypeQueryState.getFlowStackIndex(): 4
                                          flowStack
                                            0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                            1: , BranchLabel|Label|Referenced|Shared
                                            2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                            3: , LoopLabel|Label|Referenced|Shared
                                            4: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                                          adding alias: isBug = obj?.bug(), condition: TrueCondition|Condition|Referenced|Shared
                                          briter:0, ante:[obj, (383,387)], FalseCondition|Condition|Referenced
                                          skipping because aliasFlowTF is true but anteTF is false
                                          briter:1, ante:[obj?.bug(), (383,394)], TrueCondition|Condition|Referenced
                                          getTypeAtFlowNode
                                            (in) [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced, flowDepth: 5, flowTypeQueryState.getFlowStackIndex(): 4
                                            pushFlow(TrueCondition|Condition|Referenced)
                                            0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                            1: , BranchLabel|Label|Referenced|Shared
                                            2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                            3: , LoopLabel|Label|Referenced|Shared
                                            4: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                                            5: [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced
                                            (dbgiter:0) [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced, flowDepth: 6
                                            getTypeAtFlowCondition
                                              (fc  in) [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced, flowDepth: 6
                                              getTypeAtFlowNode
                                                (in) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 6, flowTypeQueryState.getFlowStackIndex(): 5
                                                pushFlow(TrueCondition|Condition|Referenced|Shared)
                                                0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                                1: , BranchLabel|Label|Referenced|Shared
                                                2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                                3: , LoopLabel|Label|Referenced|Shared
                                                4: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                                                5: [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced
                                                6: [obj, (383,387)], TrueCondition|Condition|Referenced|Shared
                                                (dbgiter:0) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 7
                                                getTypeAtFlowCondition
                                                  (fc  in) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 7
                                                  getTypeAtFlowNode
                                                    (in) , Start|Referenced|Shared, flowDepth: 7, flowTypeQueryState.getFlowStackIndex(): 6
                                                    pushFlow(Start|Referenced|Shared)
                                                    0: [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared
                                                    1: , BranchLabel|Label|Referenced|Shared
                                                    2: [!obj, (431,435)], TrueCondition|Condition|Referenced
                                                    3: , LoopLabel|Label|Referenced|Shared
                                                    4: [isBug = obj?.bug(), (375,394)], Assignment|Referenced
                                                    5: [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced
                                                    6: [obj, (383,387)], TrueCondition|Condition|Referenced|Shared
                                                    7: , Start|Referenced|Shared
                                                    (dbgiter:0) , Start|Referenced|Shared, flowDepth: 8
                                                    popFlow()->Start|Referenced|Shared
                                                    (out) , Start|Referenced|Shared, flowDepth: 7, ret: (() => number[]) | (() => number[])
                                                  (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: (() => number[]) | (() => number[]), narrowedType: (() => number[]) | (() => number[])
                                                  (fc out) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 7, ret: (() => number[]) | (() => number[])
                                                popFlow()->TrueCondition|Condition|Referenced|Shared
                                                (out) [obj, (383,387)], TrueCondition|Condition|Referenced|Shared, flowDepth: 6, ret: (() => number[]) | (() => number[])
                                              (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: (() => number[]) | (() => number[]), narrowedType: (() => number[]) | (() => number[])
                                              (fc out) [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced, flowDepth: 6, ret: (() => number[]) | (() => number[])
                                            popFlow()->TrueCondition|Condition|Referenced
                                            (out) [obj?.bug(), (383,394)], TrueCondition|Condition|Referenced, flowDepth: 5, ret: (() => number[]) | (() => number[])
                                          briter:1, flowType: (() => number[]) | (() => number[]), type: (() => number[]) | (() => number[])
                                          (out) , BranchLabel|Label|Referenced, flowDepth: 5, ret: (() => number[]) | (() => number[])
                                        popFlow()->Assignment|Referenced
                                        (out) [isBug = obj?.bug(), (375,394)], Assignment|Referenced, flowDepth: 4, ret: (() => number[]) | (() => number[])
                                      getTypeAtFlowLoopLabel, cache.set(-1|129|129|54: obj,[509,513].bug, (() => number[]) | (() => number[])
                                      getTypeAtFlowLoopLabel, flow: , LoopLabel|Label|Referenced|Shared, return: (() => number[]) | (() => number[])
                                    popFlow()->LoopLabel|Label|Referenced|Shared
                                    (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 3, ret: (() => number[]) | (() => number[])
                                  (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: (() => number[]) | (() => number[]), narrowedType: (() => number[]) | (() => number[])
                                  (fc out) [!obj, (431,435)], TrueCondition|Condition|Referenced, flowDepth: 3, ret: (() => number[]) | (() => number[])
                                popFlow()->TrueCondition|Condition|Referenced
                                (out) [!obj, (431,435)], TrueCondition|Condition|Referenced, flowDepth: 2, ret: (() => number[]) | (() => number[])
                              briter:0, flowType: (() => number[]) | (() => number[]), type: (() => number[]) | (() => number[])
                              (out) , BranchLabel|Label|Referenced|Shared, flowDepth: 2, ret: (() => number[]) | (() => number[])
                            popFlow()->BranchLabel|Label|Referenced|Shared
                            (out) , BranchLabel|Label|Referenced|Shared, flowDepth: 1, ret: (() => number[]) | (() => number[])
                          (fc ) flow.id: 4, asumeTrue:true, nonEvolvingType: (() => number[]) | (() => number[]), narrowedType: (() => number[]) | (() => number[])
                          (fc out) [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1, ret: (() => number[]) | (() => number[])
                        popFlow()->TrueCondition|Condition|Referenced|Shared
                        (out) [isBug, (475,480)], TrueCondition|Condition|Referenced|Shared, flowDepth: 0, ret: (() => number[]) | (() => number[])
                      sharedFlowCount: 5, typeAtFlowNode: (() => number[]) | (() => number[])
                      sharedFlowCount: 5, evolvedType: (() => number[]) | (() => number[])
                      return resultType: (() => number[]) | (() => number[])
                    checkExpressionWorker return: obj.bug, [509,517] -> (() => number[]) | (() => number[])
checkSourceElement
  
myDebug=true, myNoCache=false, myDisable=false
myDebug=true, myNoCache=false, myDisable=false
[J[90m  [[0m[36m[0m...................................[90m][0m[31m
Test failure:
Correct JS output for tests/cases/compiler/_cax-a1.ts
[0m[31m
Test failure:
Correct type/symbol baselines for tests/cases/compiler/_cax-a1.ts
[0m

[92m [0m[32m 4 passing[0m[90m (3s)[0m
[31m  2 failing[0m

[0m  1) compiler tests
       compiler tests for tests/cases/compiler/_cax-a1.ts
         Correct JS output for tests/cases/compiler/_cax-a1.ts:
[0m[31m     Error: New baseline created at tests/baselines/local/_cax-a1.js[0m[90m
      at writeComparison (src/harness/harnessIO.ts:1400:31)
      at Object.runBaseline (src/harness/harnessIO.ts:1419:13)
      at Object.doJsEmitBaseline (src/harness/harnessIO.ts:929:22)
      at CompilerTest.verifyJavaScriptOutput (src/testRunner/compilerRunner.ts:286:26)
      at Context.<anonymous> (src/testRunner/compilerRunner.ts:91:86)
      at processImmediate (node:internal/timers:466:21)
[0m
[0m  2) compiler tests
       compiler tests for tests/cases/compiler/_cax-a1.ts
         Correct type/symbol baselines for tests/cases/compiler/_cax-a1.ts:
[0m[31m     Error: New baseline created at tests/baselines/local/_cax-a1.types
    at writeComparison (/mnt/common/github/TypeScript-cph/src/harness/harnessIO.ts:1400:31)
    at Object.runBaseline (/mnt/common/github/TypeScript-cph/src/harness/harnessIO.ts:1419:13)
    at checkBaseLines (/mnt/common/github/TypeScript-cph/src/harness/harnessIO.ts:763:30)
    at Object.doTypeAndSymbolBaseline (/mnt/common/github/TypeScript-cph/src/harness/harnessIO.ts:726:17)
    at CompilerTest.verifyTypesAndSymbols (/mnt/common/github/TypeScript-cph/src/testRunner/compilerRunner.ts:318:22)
    at Context.<anonymous> (/mnt/common/github/TypeScript-cph/src/testRunner/compilerRunner.ts:93:84)
    at callFn (/mnt/common/github/TypeScript-cph/node_modules/mocha/lib/runnable.js:366:21)
    at Test.Runnable.run (/mnt/common/github/TypeScript-cph/node_modules/mocha/lib/runnable.js:354:5)
    at Runner.runTest (/mnt/common/github/TypeScript-cph/node_modules/mocha/lib/runner.js:666:10)
    at /mnt/common/github/TypeScript-cph/node_modules/mocha/lib/runner.js:789:12
    at next (/mnt/common/github/TypeScript-cph/node_modules/mocha/lib/runner.js:581:14)
    at /mnt/common/github/TypeScript-cph/node_modules/mocha/lib/runner.js:591:7
    at next (/mnt/common/github/TypeScript-cph/node_modules/mocha/lib/runner.js:474:14)
    at Immediate._onImmediate (/mnt/common/github/TypeScript-cph/node_modules/mocha/lib/runner.js:559:5)
    at processImmediate (node:internal/timers:466:21)
Error: New baseline created at tests/baselines/local/_cax-a1.symbols
    at writeComparison (/mnt/common/github/TypeScript-cph/src/harness/harnessIO.ts:1400:31)
    at Object.runBaseline (/mnt/common/github/TypeScript-cph/src/harness/harnessIO.ts:1419:13)
    at checkBaseLines (/mnt/common/github/TypeScript-cph/src/harness/harnessIO.ts:763:30)
    at Object.doTypeAndSymbolBaseline (/mnt/common/github/TypeScript-cph/src/harness/harnessIO.ts:733:17)
    at CompilerTest.verifyTypesAndSymbols (/mnt/common/github/TypeScript-cph/src/testRunner/compilerRunner.ts:318:22)
    at Context.<anonymous> (/mnt/common/github/TypeScript-cph/src/testRunner/compilerRunner.ts:93:84)
    at callFn (/mnt/common/github/TypeScript-cph/node_modules/mocha/lib/runnable.js:366:21)
    at Test.Runnable.run (/mnt/common/github/TypeScript-cph/node_modules/mocha/lib/runnable.js:354:5)
    at Runner.runTest (/mnt/common/github/TypeScript-cph/node_modules/mocha/lib/runner.js:666:10)
    at /mnt/common/github/TypeScript-cph/node_modules/mocha/lib/runner.js:789:12
    at next (/mnt/common/github/TypeScript-cph/node_modules/mocha/lib/runner.js:581:14)
    at /mnt/common/github/TypeScript-cph/node_modules/mocha/lib/runner.js:591:7
    at next (/mnt/common/github/TypeScript-cph/node_modules/mocha/lib/runner.js:474:14)
    at Immediate._onImmediate (/mnt/common/github/TypeScript-cph/node_modules/mocha/lib/runner.js:559:5)
    at processImmediate (node:internal/timers:466:21)[0m[90m
  Error: Error: New baseline created at tests/baselines/local/_cax-a1.types
      at writeComparison (src/harness/harnessIO.ts:1400:31)
      at Object.runBaseline (src/harness/harnessIO.ts:1419:13)
      at checkBaseLines (src/harness/harnessIO.ts:763:30)
      at Object.doTypeAndSymbolBaseline (src/harness/harnessIO.ts:726:17)
      at CompilerTest.verifyTypesAndSymbols (src/testRunner/compilerRunner.ts:318:22)
      at Context.<anonymous> (src/testRunner/compilerRunner.ts:93:84)
      at processImmediate (node:internal/timers:466:21)  
  Error: New baseline created at tests/baselines/local/_cax-a1.symbols
      at writeComparison (src/harness/harnessIO.ts:1400:31)
      at Object.runBaseline (src/harness/harnessIO.ts:1419:13)
      at checkBaseLines (src/harness/harnessIO.ts:763:30)
      at Object.doTypeAndSymbolBaseline (src/harness/harnessIO.ts:733:17)
      at CompilerTest.verifyTypesAndSymbols (src/testRunner/compilerRunner.ts:318:22)
      at Context.<anonymous> (src/testRunner/compilerRunner.ts:93:84)
      at processImmediate (node:internal/timers:466:21)
      at Object.doTypeAndSymbolBaseline (src/harness/harnessIO.ts:740:23)
      at CompilerTest.verifyTypesAndSymbols (src/testRunner/compilerRunner.ts:318:22)
      at Context.<anonymous> (src/testRunner/compilerRunner.ts:93:84)
      at processImmediate (node:internal/timers:466:21)
[0m


