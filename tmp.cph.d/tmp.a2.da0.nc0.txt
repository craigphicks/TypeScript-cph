[08:32:48] Working directory changed to /mnt/common/github/TypeScript-cph
[08:32:49] Using gulpfile /mnt/common/github/TypeScript-cph/Gulpfile.js
[08:32:49] Starting 'runtests'...
[08:32:49] Starting 'generateLibs'...
[08:32:49] Starting 'buildScripts'...
[08:32:49] Finished 'generateLibs' after 263 ms
[08:32:49] Finished 'buildScripts' after 272 ms
[08:32:49] Starting 'generateDiagnostics'...
[08:32:49] Finished 'generateDiagnostics' after 648 Î¼s
[08:32:49] Starting 'buildShims'...
[08:32:49] Starting 'buildDebugTools'...
[08:32:49] Finished 'buildShims' after 255 ms
[08:32:49] Finished 'buildDebugTools' after 255 ms
[08:32:49] Starting 'buildTsc'...
[08:32:49] Starting 'buildTests'...
[08:32:49] Starting 'buildTypescriptServicesOut'...
[08:32:49] Starting 'buildServerLibraryOut'...
[08:33:08] Finished 'buildTsc' after 19 s
[08:33:08] Finished 'buildTests' after 19 s
[08:33:08] Finished 'buildTypescriptServicesOut' after 19 s
[08:33:08] Starting 'createTypescriptServicesJs'...
[08:33:08] Finished 'buildServerLibraryOut' after 19 s
[08:33:08] Starting 'createServerLibraryJs'...
[08:33:09] Finished 'createTypescriptServicesJs' after 574 ms
[08:33:09] Starting 'createTypescriptServicesDts'...
[08:33:09] Finished 'createServerLibraryJs' after 579 ms
[08:33:09] Starting 'createServerLibraryDts'...
[08:33:09] Finished 'createTypescriptServicesDts' after 21 ms
[08:33:09] Starting 'createTypescriptJs'...
[08:33:09] Finished 'createServerLibraryDts' after 18 ms
[08:33:09] Finished 'createTypescriptJs' after 253 ms
[08:33:09] Starting 'createTypescriptDts'...
[08:33:09] Finished 'createTypescriptDts' after 7.25 ms
[08:33:09] Starting 'createTypescriptStandaloneDts'...
[08:33:09] Finished 'createTypescriptStandaloneDts' after 5.51 ms
[08:33:09] Starting 'runTests'...
[08:33:09] Running tests with config: {"test":["_cax-a2"],"light":true,"noColor":false,"timeout":40000,"keepFailed":false}
[08:33:09] > /home/craig/.nvm/versions/node/v16.14.2/bin/node /mnt/common/github/TypeScript-cph/node_modules/mocha/bin/_mocha -R /mnt/common/github/TypeScript-cph/scripts/failed-tests.js -O "reporter=mocha-fivemat-progress-reporter" -g "_cax-a2" --colors -t 40000 built/local/run.js

    [0mcompiler tests[0m
myDebug=true, myNoCache=false, myDisable=false
checkSourceElement
  declare type X1Foo = Readonly<{ kind: "foo", xfoo: string, bug: () => number[] }> ;
  checkSourceElement
    Readonly<{ kind: "foo", xfoo: string, bug: () => number[] }>
    checkSourceElement
      { kind: "foo", xfoo: string, bug: () => number[] }
      checkSourceElement
        kind: "foo",
        checkSourceElement
          "foo"
        checkExpressionWorker
          node: "foo", [37,43]
          checkExpressionWorker return: "foo", [37,43] -> "foo"
      checkSourceElement
        xfoo: string,
        checkSourceElement
          string
      checkSourceElement
        bug: () => number[]
        checkSourceElement
          () => number[]
          checkSourceElement
            number[]
            checkSourceElement
              number
checkSourceElement
  declare type X1Bar = Readonly<{ kind: "bar", xbar: number, bug: () => number[] }> ;
  checkSourceElement
    Readonly<{ kind: "bar", xbar: number, bug: () => number[] }>
    checkSourceElement
      { kind: "bar", xbar: number, bug: () => number[] }
      checkSourceElement
        kind: "bar",
        checkSourceElement
          "bar"
        checkExpressionWorker
          node: "bar", [121,127]
          checkExpressionWorker return: "bar", [121,127] -> "bar"
      checkSourceElement
        xbar: number,
        checkSourceElement
          number
      checkSourceElement
        bug: () => number[]
        checkSourceElement
          () => number[]
          checkSourceElement
            number[]
            checkSourceElement
              number
checkSourceElement
  declare type X1Baz = Readonly<{ kind: "baz", xbaz: boolean, bug: () => number[] }>;
  checkSourceElement
    Readonly<{ kind: "baz", xbaz: boolean, bug: () => number[] }>
    checkSourceElement
      { kind: "baz", xbaz: boolean, bug: () => number[] }
      checkSourceElement
        kind: "baz",
        checkSourceElement
          "baz"
        checkExpressionWorker
          node: "baz", [206,212]
          checkExpressionWorker return: "baz", [206,212] -> "baz"
      checkSourceElement
        xbaz: boolean,
        checkSourceElement
          boolean
      checkSourceElement
        bug: () => number[]
        checkSourceElement
          () => number[]
          checkSourceElement
            number[]
            checkSourceElement
              number
checkSourceElement
  declare type X1 = | X1Foo | X1Bar | X1Baz ;
  checkSourceElement
    | X1Foo | X1Bar | X1Baz
    checkSourceElement
      X1Foo
    checkSourceElement
      X1Bar
    checkSourceElement
      X1Baz
checkSourceElement
  declare const obj: undefined | X1;
  checkSourceElement
    obj: undefined | X1
    checkSourceElement
      undefined | X1
      checkSourceElement
        undefined
      checkSourceElement
        X1
checkSourceElement
  declare const ubool:()=>boolean;
  checkSourceElement
    ubool:()=>boolean
    checkSourceElement
      ()=>boolean
      checkSourceElement
        boolean
checkSourceElement
  {
      const isFoo = obj && obj.kind === "foo";
      const isBar = obj && obj.kind === "bar";
      // const isBaz = obj && obj.kind === "baz";
      //const isBug = obj?.bug();
      // if (isFoo) {
      //     const t = obj.foo;
      // } else if (isBar) {
      //     const t = obj.bar;
      // }
      // if (isFoo) {
      //     // check empty blocks work too
      // }
      // if (isBar) {
      //     obj.bar;
      // }
      // if (isBaz) {
      //     const xbaz = obj.baz;
      // }
      // if (isBug) {
      //     obj;
      // }
      // if (isFoo) {
      //     if (isFoo) {
      //         const t = obj.foo;
      //     }
      //     if (isBar) {
      //         const t = obj.bar;
      //     }
      //     if (isBaz) {
      //         const t = obj.baz;
      //     }
      //     if (isBug) {
      //         const t = obj.bug;
      //     }
      // } else {
      //     if (isFoo) {
      //         const t = obj.foo;
      //     }
      //     if (isBar) {
      //         const t = obj.bar;
      //     }
      //     if (isBaz) {
      //         const t = obj.baz;
      //     }
      //     if (isBug) {
      //         const t = obj.bug;
      //     }
      // }
      // if (!obj || obj.kind!=="foo") {
      //     // if (isFoo) {
      //     //     const t = obj.foo;
      //     // }
      //     // if (isBar) {
      //     //     const t = obj.bar;
      //     // }
      //     // if (isBaz) {
      //     //     const t = obj.baz;
      //     // }
      //     if (isBug) {
      //         const t = obj.bug;
      //     }
      // }        
      while (ubool()) { 
          if (isFoo) {
              const s = obj.xfoo;
          } else if (isBar) {
              const t = obj.xbar;
          }
      }
  }
  checkSourceElement
    const isFoo = obj && obj.kind === "foo";
    checkSourceElement
      isFoo = obj && obj.kind === "foo"
      checkExpressionWorker
        node: obj && obj.kind === "foo", [822,848]
        checkExpressionWorker
          node: obj, [822,826]
          getFlowTypeOfReference
            reference: obj
            declaredType: X1 | undefined
            Start|Referenced|Shared
            sharedFlowStart(cache): 0
            getTypeAtFlowNode
              (in) , Start|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
              pushFlow(Start|Referenced|Shared)
              0: , Start|Referenced|Shared
              (dbgiter:0) , Start|Referenced|Shared, flowDepth: 1
              popFlow()->Start|Referenced|Shared
              (out) , Start|Referenced|Shared, flowDepth: 0, ret: X1 | undefined
            sharedFlowCount: 1, typeAtFlowNode: X1 | undefined
            sharedFlowCount: 1, evolvedType: X1 | undefined
            return resultType: X1 | undefined
          In getIdentifier(), getFlowTypeOfReference returned X1 | undefined
          checkExpressionWorker return: obj, [822,826] -> X1 | undefined
        checkExpressionWorker
          node: obj, [822,826]
          getFlowTypeOfReference
            reference: obj
            declaredType: X1 | undefined
            Start|Referenced|Shared
            sharedFlowStart(cache): 0
            getTypeAtFlowNode
              (in) , Start|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
              pushFlow(Start|Referenced|Shared)
              0: , Start|Referenced|Shared
              (dbgiter:0) , Start|Referenced|Shared, flowDepth: 1
              popFlow()->Start|Referenced|Shared
              (out) , Start|Referenced|Shared, flowDepth: 0, ret: X1 | undefined
            sharedFlowCount: 1, typeAtFlowNode: X1 | undefined
            sharedFlowCount: 1, evolvedType: X1 | undefined
            return resultType: X1 | undefined
          In getIdentifier(), getFlowTypeOfReference returned X1 | undefined
          checkExpressionWorker return: obj, [822,826] -> X1 | undefined
        checkExpressionWorker
          node: obj.kind, [829,838]
          checkExpressionWorker
            node: obj, [829,833]
            getFlowTypeOfReference
              reference: obj
              declaredType: X1 | undefined
              TrueCondition|Condition|Referenced|Shared
              sharedFlowStart(cache): 0
              getTypeAtFlowNode
                (in) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
                pushFlow(TrueCondition|Condition|Referenced|Shared)
                0: [obj, (822,826)], TrueCondition|Condition|Referenced|Shared
                (dbgiter:0) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1
                getTypeAtFlowCondition
                  (fc  in) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1
                  getTypeAtFlowNode
                    (in) , Start|Referenced|Shared, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                    pushFlow(Start|Referenced|Shared)
                    0: [obj, (822,826)], TrueCondition|Condition|Referenced|Shared
                    1: , Start|Referenced|Shared
                    (dbgiter:0) , Start|Referenced|Shared, flowDepth: 2
                    popFlow()->Start|Referenced|Shared
                    (out) , Start|Referenced|Shared, flowDepth: 1, ret: X1 | undefined
                  (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: X1 | undefined, narrowedType: X1
                  (fc out) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1, ret: X1
                popFlow()->TrueCondition|Condition|Referenced|Shared
                (out) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 0, ret: X1
              sharedFlowCount: 2, typeAtFlowNode: X1
              sharedFlowCount: 2, evolvedType: X1
              return resultType: X1
            In getIdentifier(), getFlowTypeOfReference returned X1
            checkExpressionWorker return: obj, [829,833] -> X1
          getFlowTypeOfReference
            reference: obj.kind
            declaredType: "foo" | "bar" | "baz"
            TrueCondition|Condition|Referenced|Shared
            sharedFlowStart(cache): 0
            getTypeAtFlowNode
              (in) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
              pushFlow(TrueCondition|Condition|Referenced|Shared)
              0: [obj, (822,826)], TrueCondition|Condition|Referenced|Shared
              (dbgiter:0) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1
              getTypeAtFlowCondition
                (fc  in) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1
                getTypeAtFlowNode
                  (in) , Start|Referenced|Shared, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                  pushFlow(Start|Referenced|Shared)
                  0: [obj, (822,826)], TrueCondition|Condition|Referenced|Shared
                  1: , Start|Referenced|Shared
                  (dbgiter:0) , Start|Referenced|Shared, flowDepth: 2
                  popFlow()->Start|Referenced|Shared
                  (out) , Start|Referenced|Shared, flowDepth: 1, ret: "foo" | "bar" | "baz"
                (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: "foo" | "bar" | "baz", narrowedType: "foo" | "bar" | "baz"
                (fc out) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1, ret: "foo" | "bar" | "baz"
              popFlow()->TrueCondition|Condition|Referenced|Shared
              (out) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 0, ret: "foo" | "bar" | "baz"
            sharedFlowCount: 2, typeAtFlowNode: "foo" | "bar" | "baz"
            sharedFlowCount: 2, evolvedType: "foo" | "bar" | "baz"
            return resultType: "foo" | "bar" | "baz"
          checkExpressionWorker return: obj.kind, [829,838] -> "foo" | "bar" | "baz"
        checkExpressionWorker
          node: "foo", [842,848]
          checkExpressionWorker return: "foo", [842,848] -> "foo"
        checkExpressionWorker return: obj && obj.kind === "foo", [822,848] -> boolean | undefined
  checkSourceElement
    const isBar = obj && obj.kind === "bar";
    checkSourceElement
      isBar = obj && obj.kind === "bar"
      checkExpressionWorker
        node: obj && obj.kind === "bar", [867,893]
        checkExpressionWorker
          node: obj, [867,871]
          getFlowTypeOfReference
            reference: obj
            declaredType: X1 | undefined
            Assignment|Referenced|Shared
            sharedFlowStart(cache): 0
            getTypeAtFlowNode
              (in) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
              pushFlow(Assignment|Referenced|Shared)
              0: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
              (dbgiter:0) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 1
              (dbgiter:1) , BranchLabel|Label|Referenced, flowDepth: 1
              getTypeAtFlowBranchLabel
                (in) , BranchLabel|Label|Referenced, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                flowStack
                  0: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                briter:0, ante:[obj, (822,826)], FalseCondition|Condition|Referenced
                getTypeAtFlowNode
                  (in) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                  pushFlow(FalseCondition|Condition|Referenced)
                  0: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                  1: [obj, (822,826)], FalseCondition|Condition|Referenced
                  (dbgiter:0) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 2
                  getTypeAtFlowCondition
                    (fc  in) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 2
                    getTypeAtFlowNode
                      (in) , Start|Referenced|Shared, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                      pushFlow(Start|Referenced|Shared)
                      0: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                      1: [obj, (822,826)], FalseCondition|Condition|Referenced
                      2: , Start|Referenced|Shared
                      (dbgiter:0) , Start|Referenced|Shared, flowDepth: 3
                      popFlow()->Start|Referenced|Shared
                      (out) , Start|Referenced|Shared, flowDepth: 2, ret: X1 | undefined
                    (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: X1 | undefined, narrowedType: undefined
                    (fc out) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 2, ret: undefined
                  popFlow()->FalseCondition|Condition|Referenced
                  (out) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 1, ret: undefined
                briter:0, flowType: undefined, type: undefined
                briter:1, ante:[obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced
                getTypeAtFlowNode
                  (in) [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                  pushFlow(TrueCondition|Condition|Referenced)
                  0: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                  1: [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced
                  (dbgiter:0) [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced, flowDepth: 2
                  getTypeAtFlowCondition
                    (fc  in) [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced, flowDepth: 2
                    getTypeAtFlowNode
                      (in) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                      pushFlow(TrueCondition|Condition|Referenced|Shared)
                      0: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                      1: [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced
                      2: [obj, (822,826)], TrueCondition|Condition|Referenced|Shared
                      (dbgiter:0) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 3
                      getTypeAtFlowCondition
                        (fc  in) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 3
                        getTypeAtFlowNode
                          (in) , Start|Referenced|Shared, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                          pushFlow(Start|Referenced|Shared)
                          0: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                          1: [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced
                          2: [obj, (822,826)], TrueCondition|Condition|Referenced|Shared
                          3: , Start|Referenced|Shared
                          (dbgiter:0) , Start|Referenced|Shared, flowDepth: 4
                          popFlow()->Start|Referenced|Shared
                          (out) , Start|Referenced|Shared, flowDepth: 3, ret: X1 | undefined
                        (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: X1 | undefined, narrowedType: X1
                        (fc out) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 3, ret: X1
                      popFlow()->TrueCondition|Condition|Referenced|Shared
                      (out) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 2, ret: X1
                    checkExpressionWorker
                      node: "foo", [842,848]
                      checkExpressionWorker return: "foo", [842,848] -> "foo"
                    (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: X1, narrowedType: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                    (fc out) [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced, flowDepth: 2, ret: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                  popFlow()->TrueCondition|Condition|Referenced
                  (out) [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced, flowDepth: 1, ret: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                briter:1, flowType: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>, type: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                briter:2, ante:[obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced
                getTypeAtFlowNode
                  (in) [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                  pushFlow(FalseCondition|Condition|Referenced)
                  0: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                  1: [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced
                  (dbgiter:0) [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced, flowDepth: 2
                  getTypeAtFlowCondition
                    (fc  in) [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced, flowDepth: 2
                    getTypeAtFlowNode
                      (in) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                      pushFlow(TrueCondition|Condition|Referenced|Shared)
                      0: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                      1: [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced
                      2: [obj, (822,826)], TrueCondition|Condition|Referenced|Shared
                      (dbgiter:0) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 3
                      popFlow()->TrueCondition|Condition|Referenced|Shared
                      (out) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 2, ret: X1
                    checkExpressionWorker
                      node: "foo", [842,848]
                      checkExpressionWorker return: "foo", [842,848] -> "foo"
                    (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: X1, narrowedType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>
                    (fc out) [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced, flowDepth: 2, ret: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>
                  popFlow()->FalseCondition|Condition|Referenced
                  (out) [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced, flowDepth: 1, ret: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>
                briter:2, flowType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>, type: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>
                br/antecedentTypes[0]: undefined
                br/antecedentTypes[1]: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                br/antecedentTypes[2]: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>
                brTmpType: X1 | undefined
                (out) , BranchLabel|Label|Referenced, flowDepth: 1, ret: X1 | undefined
              popFlow()->Assignment|Referenced|Shared
              (out) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 0, ret: X1 | undefined
            sharedFlowCount: 3, typeAtFlowNode: X1 | undefined
            sharedFlowCount: 3, evolvedType: X1 | undefined
            return resultType: X1 | undefined
          In getIdentifier(), getFlowTypeOfReference returned X1 | undefined
          checkExpressionWorker return: obj, [867,871] -> X1 | undefined
        checkExpressionWorker
          node: obj, [867,871]
          getFlowTypeOfReference
            reference: obj
            declaredType: X1 | undefined
            Assignment|Referenced|Shared
            sharedFlowStart(cache): 0
            getTypeAtFlowNode
              (in) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
              pushFlow(Assignment|Referenced|Shared)
              0: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
              (dbgiter:0) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 1
              (dbgiter:1) , BranchLabel|Label|Referenced, flowDepth: 1
              getTypeAtFlowBranchLabel
                (in) , BranchLabel|Label|Referenced, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                flowStack
                  0: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                briter:0, ante:[obj, (822,826)], FalseCondition|Condition|Referenced
                getTypeAtFlowNode
                  (in) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                  pushFlow(FalseCondition|Condition|Referenced)
                  0: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                  1: [obj, (822,826)], FalseCondition|Condition|Referenced
                  (dbgiter:0) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 2
                  getTypeAtFlowCondition
                    (fc  in) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 2
                    getTypeAtFlowNode
                      (in) , Start|Referenced|Shared, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                      pushFlow(Start|Referenced|Shared)
                      0: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                      1: [obj, (822,826)], FalseCondition|Condition|Referenced
                      2: , Start|Referenced|Shared
                      (dbgiter:0) , Start|Referenced|Shared, flowDepth: 3
                      popFlow()->Start|Referenced|Shared
                      (out) , Start|Referenced|Shared, flowDepth: 2, ret: X1 | undefined
                    (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: X1 | undefined, narrowedType: undefined
                    (fc out) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 2, ret: undefined
                  popFlow()->FalseCondition|Condition|Referenced
                  (out) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 1, ret: undefined
                briter:0, flowType: undefined, type: undefined
                briter:1, ante:[obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced
                getTypeAtFlowNode
                  (in) [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                  pushFlow(TrueCondition|Condition|Referenced)
                  0: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                  1: [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced
                  (dbgiter:0) [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced, flowDepth: 2
                  getTypeAtFlowCondition
                    (fc  in) [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced, flowDepth: 2
                    getTypeAtFlowNode
                      (in) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                      pushFlow(TrueCondition|Condition|Referenced|Shared)
                      0: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                      1: [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced
                      2: [obj, (822,826)], TrueCondition|Condition|Referenced|Shared
                      (dbgiter:0) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 3
                      getTypeAtFlowCondition
                        (fc  in) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 3
                        getTypeAtFlowNode
                          (in) , Start|Referenced|Shared, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                          pushFlow(Start|Referenced|Shared)
                          0: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                          1: [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced
                          2: [obj, (822,826)], TrueCondition|Condition|Referenced|Shared
                          3: , Start|Referenced|Shared
                          (dbgiter:0) , Start|Referenced|Shared, flowDepth: 4
                          popFlow()->Start|Referenced|Shared
                          (out) , Start|Referenced|Shared, flowDepth: 3, ret: X1 | undefined
                        (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: X1 | undefined, narrowedType: X1
                        (fc out) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 3, ret: X1
                      popFlow()->TrueCondition|Condition|Referenced|Shared
                      (out) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 2, ret: X1
                    checkExpressionWorker
                      node: "foo", [842,848]
                      checkExpressionWorker return: "foo", [842,848] -> "foo"
                    (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: X1, narrowedType: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                    (fc out) [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced, flowDepth: 2, ret: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                  popFlow()->TrueCondition|Condition|Referenced
                  (out) [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced, flowDepth: 1, ret: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                briter:1, flowType: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>, type: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                briter:2, ante:[obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced
                getTypeAtFlowNode
                  (in) [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                  pushFlow(FalseCondition|Condition|Referenced)
                  0: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                  1: [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced
                  (dbgiter:0) [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced, flowDepth: 2
                  getTypeAtFlowCondition
                    (fc  in) [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced, flowDepth: 2
                    getTypeAtFlowNode
                      (in) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                      pushFlow(TrueCondition|Condition|Referenced|Shared)
                      0: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                      1: [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced
                      2: [obj, (822,826)], TrueCondition|Condition|Referenced|Shared
                      (dbgiter:0) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 3
                      popFlow()->TrueCondition|Condition|Referenced|Shared
                      (out) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 2, ret: X1
                    checkExpressionWorker
                      node: "foo", [842,848]
                      checkExpressionWorker return: "foo", [842,848] -> "foo"
                    (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: X1, narrowedType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>
                    (fc out) [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced, flowDepth: 2, ret: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>
                  popFlow()->FalseCondition|Condition|Referenced
                  (out) [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced, flowDepth: 1, ret: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>
                briter:2, flowType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>, type: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>
                br/antecedentTypes[0]: undefined
                br/antecedentTypes[1]: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                br/antecedentTypes[2]: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>
                brTmpType: X1 | undefined
                (out) , BranchLabel|Label|Referenced, flowDepth: 1, ret: X1 | undefined
              popFlow()->Assignment|Referenced|Shared
              (out) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 0, ret: X1 | undefined
            sharedFlowCount: 3, typeAtFlowNode: X1 | undefined
            sharedFlowCount: 3, evolvedType: X1 | undefined
            return resultType: X1 | undefined
          In getIdentifier(), getFlowTypeOfReference returned X1 | undefined
          checkExpressionWorker return: obj, [867,871] -> X1 | undefined
        checkExpressionWorker
          node: obj.kind, [874,883]
          checkExpressionWorker
            node: obj, [874,878]
            getFlowTypeOfReference
              reference: obj
              declaredType: X1 | undefined
              TrueCondition|Condition|Referenced|Shared
              sharedFlowStart(cache): 0
              getTypeAtFlowNode
                (in) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
                pushFlow(TrueCondition|Condition|Referenced|Shared)
                0: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                (dbgiter:0) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1
                getTypeAtFlowCondition
                  (fc  in) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1
                  getTypeAtFlowNode
                    (in) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                    pushFlow(Assignment|Referenced|Shared)
                    0: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                    1: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                    (dbgiter:0) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 2
                    (dbgiter:1) , BranchLabel|Label|Referenced, flowDepth: 2
                    getTypeAtFlowBranchLabel
                      (in) , BranchLabel|Label|Referenced, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                      flowStack
                        0: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                        1: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                      briter:0, ante:[obj, (822,826)], FalseCondition|Condition|Referenced
                      getTypeAtFlowNode
                        (in) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                        pushFlow(FalseCondition|Condition|Referenced)
                        0: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                        1: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                        2: [obj, (822,826)], FalseCondition|Condition|Referenced
                        (dbgiter:0) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 3
                        getTypeAtFlowCondition
                          (fc  in) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 3
                          getTypeAtFlowNode
                            (in) , Start|Referenced|Shared, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                            pushFlow(Start|Referenced|Shared)
                            0: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                            1: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                            2: [obj, (822,826)], FalseCondition|Condition|Referenced
                            3: , Start|Referenced|Shared
                            (dbgiter:0) , Start|Referenced|Shared, flowDepth: 4
                            popFlow()->Start|Referenced|Shared
                            (out) , Start|Referenced|Shared, flowDepth: 3, ret: X1 | undefined
                          (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: X1 | undefined, narrowedType: undefined
                          (fc out) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 3, ret: undefined
                        popFlow()->FalseCondition|Condition|Referenced
                        (out) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 2, ret: undefined
                      briter:0, flowType: undefined, type: undefined
                      briter:1, ante:[obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced
                      getTypeAtFlowNode
                        (in) [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                        pushFlow(TrueCondition|Condition|Referenced)
                        0: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                        1: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                        2: [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced
                        (dbgiter:0) [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced, flowDepth: 3
                        getTypeAtFlowCondition
                          (fc  in) [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced, flowDepth: 3
                          getTypeAtFlowNode
                            (in) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                            pushFlow(TrueCondition|Condition|Referenced|Shared)
                            0: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                            1: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                            2: [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced
                            3: [obj, (822,826)], TrueCondition|Condition|Referenced|Shared
                            (dbgiter:0) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 4
                            getTypeAtFlowCondition
                              (fc  in) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 4
                              getTypeAtFlowNode
                                (in) , Start|Referenced|Shared, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                                pushFlow(Start|Referenced|Shared)
                                0: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                                1: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                                2: [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced
                                3: [obj, (822,826)], TrueCondition|Condition|Referenced|Shared
                                4: , Start|Referenced|Shared
                                (dbgiter:0) , Start|Referenced|Shared, flowDepth: 5
                                popFlow()->Start|Referenced|Shared
                                (out) , Start|Referenced|Shared, flowDepth: 4, ret: X1 | undefined
                              (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: X1 | undefined, narrowedType: X1
                              (fc out) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 4, ret: X1
                            popFlow()->TrueCondition|Condition|Referenced|Shared
                            (out) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 3, ret: X1
                          checkExpressionWorker
                            node: "foo", [842,848]
                            checkExpressionWorker return: "foo", [842,848] -> "foo"
                          (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: X1, narrowedType: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                          (fc out) [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced, flowDepth: 3, ret: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                        popFlow()->TrueCondition|Condition|Referenced
                        (out) [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced, flowDepth: 2, ret: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                      briter:1, flowType: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>, type: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                      briter:2, ante:[obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced
                      getTypeAtFlowNode
                        (in) [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                        pushFlow(FalseCondition|Condition|Referenced)
                        0: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                        1: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                        2: [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced
                        (dbgiter:0) [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced, flowDepth: 3
                        getTypeAtFlowCondition
                          (fc  in) [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced, flowDepth: 3
                          getTypeAtFlowNode
                            (in) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                            pushFlow(TrueCondition|Condition|Referenced|Shared)
                            0: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                            1: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                            2: [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced
                            3: [obj, (822,826)], TrueCondition|Condition|Referenced|Shared
                            (dbgiter:0) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 4
                            popFlow()->TrueCondition|Condition|Referenced|Shared
                            (out) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 3, ret: X1
                          checkExpressionWorker
                            node: "foo", [842,848]
                            checkExpressionWorker return: "foo", [842,848] -> "foo"
                          (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: X1, narrowedType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>
                          (fc out) [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced, flowDepth: 3, ret: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>
                        popFlow()->FalseCondition|Condition|Referenced
                        (out) [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced, flowDepth: 2, ret: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>
                      briter:2, flowType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>, type: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>
                      br/antecedentTypes[0]: undefined
                      br/antecedentTypes[1]: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                      br/antecedentTypes[2]: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>
                      brTmpType: X1 | undefined
                      (out) , BranchLabel|Label|Referenced, flowDepth: 2, ret: X1 | undefined
                    popFlow()->Assignment|Referenced|Shared
                    (out) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 1, ret: X1 | undefined
                  (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: X1 | undefined, narrowedType: X1
                  (fc out) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1, ret: X1
                popFlow()->TrueCondition|Condition|Referenced|Shared
                (out) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 0, ret: X1
              sharedFlowCount: 4, typeAtFlowNode: X1
              sharedFlowCount: 4, evolvedType: X1
              return resultType: X1
            In getIdentifier(), getFlowTypeOfReference returned X1
            checkExpressionWorker return: obj, [874,878] -> X1
          getFlowTypeOfReference
            reference: obj.kind
            declaredType: "foo" | "bar" | "baz"
            TrueCondition|Condition|Referenced|Shared
            sharedFlowStart(cache): 0
            getTypeAtFlowNode
              (in) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
              pushFlow(TrueCondition|Condition|Referenced|Shared)
              0: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
              (dbgiter:0) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1
              getTypeAtFlowCondition
                (fc  in) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1
                getTypeAtFlowNode
                  (in) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                  pushFlow(Assignment|Referenced|Shared)
                  0: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                  1: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                  (dbgiter:0) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 2
                  (dbgiter:1) , BranchLabel|Label|Referenced, flowDepth: 2
                  getTypeAtFlowBranchLabel
                    (in) , BranchLabel|Label|Referenced, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                    flowStack
                      0: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                      1: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                    briter:0, ante:[obj, (822,826)], FalseCondition|Condition|Referenced
                    getTypeAtFlowNode
                      (in) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                      pushFlow(FalseCondition|Condition|Referenced)
                      0: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                      1: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                      2: [obj, (822,826)], FalseCondition|Condition|Referenced
                      (dbgiter:0) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 3
                      getTypeAtFlowCondition
                        (fc  in) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 3
                        getTypeAtFlowNode
                          (in) , Start|Referenced|Shared, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                          pushFlow(Start|Referenced|Shared)
                          0: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                          1: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                          2: [obj, (822,826)], FalseCondition|Condition|Referenced
                          3: , Start|Referenced|Shared
                          (dbgiter:0) , Start|Referenced|Shared, flowDepth: 4
                          popFlow()->Start|Referenced|Shared
                          (out) , Start|Referenced|Shared, flowDepth: 3, ret: "foo" | "bar" | "baz"
                        (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: "foo" | "bar" | "baz", narrowedType: "foo" | "bar" | "baz"
                        (fc out) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 3, ret: "foo" | "bar" | "baz"
                      popFlow()->FalseCondition|Condition|Referenced
                      (out) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 2, ret: "foo" | "bar" | "baz"
                    briter:0, flowType: "foo" | "bar" | "baz", type: "foo" | "bar" | "baz"
                    (out) , BranchLabel|Label|Referenced, flowDepth: 2, ret: "foo" | "bar" | "baz"
                  popFlow()->Assignment|Referenced|Shared
                  (out) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 1, ret: "foo" | "bar" | "baz"
                (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: "foo" | "bar" | "baz", narrowedType: "foo" | "bar" | "baz"
                (fc out) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1, ret: "foo" | "bar" | "baz"
              popFlow()->TrueCondition|Condition|Referenced|Shared
              (out) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 0, ret: "foo" | "bar" | "baz"
            sharedFlowCount: 3, typeAtFlowNode: "foo" | "bar" | "baz"
            sharedFlowCount: 3, evolvedType: "foo" | "bar" | "baz"
            return resultType: "foo" | "bar" | "baz"
          checkExpressionWorker return: obj.kind, [874,883] -> "foo" | "bar" | "baz"
        checkExpressionWorker
          node: "bar", [887,893]
          checkExpressionWorker return: "bar", [887,893] -> "bar"
        checkExpressionWorker return: obj && obj.kind === "bar", [867,893] -> boolean | undefined
  checkSourceElement
    while (ubool()) { 
            if (isFoo) {
                const s = obj.xfoo;
            } else if (isBar) {
                const t = obj.xbar;
            }
        }
    checkExpressionWorker
      node: ubool(), [2309,2316]
      checkExpressionWorker
        node: ubool, [2309,2314]
        getFlowTypeOfReference
          reference: ubool
          declaredType: () => boolean
          LoopLabel|Label|Referenced|Shared
          sharedFlowStart(cache): 0
          getTypeAtFlowNode
            (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
            pushFlow(LoopLabel|Label|Referenced|Shared)
            0: , LoopLabel|Label|Referenced|Shared
            (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 1
            getTypeAtFlowLoopLabel
              , LoopLabel|Label|Referenced|Shared
              getTypeAtFlowLoopLabel, (flowNode)id: 3, key:11|105|105|49: ubool,[2309,2314]
              getTypeAtFlowLoopLabel, The first antecedent of a loop junction is always the non-looping control
              getTypeAtFlowNode
                (in) [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                pushFlow(Assignment|Referenced)
                0: , LoopLabel|Label|Referenced|Shared
                1: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                (dbgiter:0) [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced, flowDepth: 2
                (dbgiter:1) , BranchLabel|Label|Referenced, flowDepth: 2
                getTypeAtFlowBranchLabel
                  (in) , BranchLabel|Label|Referenced, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                  flowStack
                    0: , LoopLabel|Label|Referenced|Shared
                    1: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                  briter:0, ante:[obj, (867,871)], FalseCondition|Condition|Referenced
                  getTypeAtFlowNode
                    (in) [obj, (867,871)], FalseCondition|Condition|Referenced, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                    pushFlow(FalseCondition|Condition|Referenced)
                    0: , LoopLabel|Label|Referenced|Shared
                    1: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                    2: [obj, (867,871)], FalseCondition|Condition|Referenced
                    (dbgiter:0) [obj, (867,871)], FalseCondition|Condition|Referenced, flowDepth: 3
                    getTypeAtFlowCondition
                      (fc  in) [obj, (867,871)], FalseCondition|Condition|Referenced, flowDepth: 3
                      getTypeAtFlowNode
                        (in) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                        pushFlow(Assignment|Referenced|Shared)
                        0: , LoopLabel|Label|Referenced|Shared
                        1: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                        2: [obj, (867,871)], FalseCondition|Condition|Referenced
                        3: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                        (dbgiter:0) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 4
                        (dbgiter:1) , BranchLabel|Label|Referenced, flowDepth: 4
                        getTypeAtFlowBranchLabel
                          (in) , BranchLabel|Label|Referenced, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                          flowStack
                            0: , LoopLabel|Label|Referenced|Shared
                            1: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                            2: [obj, (867,871)], FalseCondition|Condition|Referenced
                            3: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                          briter:0, ante:[obj, (822,826)], FalseCondition|Condition|Referenced
                          getTypeAtFlowNode
                            (in) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                            pushFlow(FalseCondition|Condition|Referenced)
                            0: , LoopLabel|Label|Referenced|Shared
                            1: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                            2: [obj, (867,871)], FalseCondition|Condition|Referenced
                            3: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                            4: [obj, (822,826)], FalseCondition|Condition|Referenced
                            (dbgiter:0) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 5
                            getTypeAtFlowCondition
                              (fc  in) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 5
                              getTypeAtFlowNode
                                (in) , Start|Referenced|Shared, flowDepth: 5, flowTypeQueryState.getFlowStackIndex(): 4
                                pushFlow(Start|Referenced|Shared)
                                0: , LoopLabel|Label|Referenced|Shared
                                1: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                2: [obj, (867,871)], FalseCondition|Condition|Referenced
                                3: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                                4: [obj, (822,826)], FalseCondition|Condition|Referenced
                                5: , Start|Referenced|Shared
                                (dbgiter:0) , Start|Referenced|Shared, flowDepth: 6
                                popFlow()->Start|Referenced|Shared
                                (out) , Start|Referenced|Shared, flowDepth: 5, ret: () => boolean
                              (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: () => boolean, narrowedType: () => boolean
                              (fc out) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 5, ret: () => boolean
                            popFlow()->FalseCondition|Condition|Referenced
                            (out) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 4, ret: () => boolean
                          briter:0, flowType: () => boolean, type: () => boolean
                          (out) , BranchLabel|Label|Referenced, flowDepth: 4, ret: () => boolean
                        popFlow()->Assignment|Referenced|Shared
                        (out) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 3, ret: () => boolean
                      (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: () => boolean, narrowedType: () => boolean
                      (fc out) [obj, (867,871)], FalseCondition|Condition|Referenced, flowDepth: 3, ret: () => boolean
                    popFlow()->FalseCondition|Condition|Referenced
                    (out) [obj, (867,871)], FalseCondition|Condition|Referenced, flowDepth: 2, ret: () => boolean
                  briter:0, flowType: () => boolean, type: () => boolean
                  (out) , BranchLabel|Label|Referenced, flowDepth: 2, ret: () => boolean
                popFlow()->Assignment|Referenced
                (out) [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced, flowDepth: 1, ret: () => boolean
              getTypeAtFlowLoopLabel, cache.set(11|105|105|49: ubool,[2309,2314], () => boolean
              getTypeAtFlowLoopLabel, flow: , LoopLabel|Label|Referenced|Shared, return: () => boolean
            popFlow()->LoopLabel|Label|Referenced|Shared
            (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 0, ret: () => boolean
          sharedFlowCount: 3, typeAtFlowNode: () => boolean
          sharedFlowCount: 3, evolvedType: () => boolean
          return resultType: () => boolean
        In getIdentifier(), getFlowTypeOfReference returned () => boolean
        checkExpressionWorker return: ubool, [2309,2314] -> () => boolean
      checkExpressionWorker return: ubool(), [2309,2316] -> boolean
    checkSourceElement
      { 
              if (isFoo) {
                  const s = obj.xfoo;
              } else if (isBar) {
                  const t = obj.xbar;
              }
          }
      checkSourceElement
        if (isFoo) {
                    const s = obj.xfoo;
                } else if (isBar) {
                    const t = obj.xbar;
                }
        checkExpressionWorker
          node: isFoo, [2333,2338]
          getFlowTypeOfReference
            reference: isFoo
            declaredType: boolean | undefined
            LoopLabel|Label|Referenced|Shared
            sharedFlowStart(cache): 0
            getTypeAtFlowNode
              (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
              pushFlow(LoopLabel|Label|Referenced|Shared)
              0: , LoopLabel|Label|Referenced|Shared
              (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 1
              getTypeAtFlowLoopLabel
                , LoopLabel|Label|Referenced|Shared
                getTypeAtFlowLoopLabel, (flowNode)id: 3, key:11|116|116|50: isFoo,[2333,2338]
                getTypeAtFlowLoopLabel, The first antecedent of a loop junction is always the non-looping control
                getTypeAtFlowNode
                  (in) [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                  pushFlow(Assignment|Referenced)
                  0: , LoopLabel|Label|Referenced|Shared
                  1: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                  (dbgiter:0) [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced, flowDepth: 2
                  (dbgiter:1) , BranchLabel|Label|Referenced, flowDepth: 2
                  getTypeAtFlowBranchLabel
                    (in) , BranchLabel|Label|Referenced, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                    flowStack
                      0: , LoopLabel|Label|Referenced|Shared
                      1: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                    briter:0, ante:[obj, (867,871)], FalseCondition|Condition|Referenced
                    getTypeAtFlowNode
                      (in) [obj, (867,871)], FalseCondition|Condition|Referenced, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                      pushFlow(FalseCondition|Condition|Referenced)
                      0: , LoopLabel|Label|Referenced|Shared
                      1: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                      2: [obj, (867,871)], FalseCondition|Condition|Referenced
                      (dbgiter:0) [obj, (867,871)], FalseCondition|Condition|Referenced, flowDepth: 3
                      getTypeAtFlowCondition
                        (fc  in) [obj, (867,871)], FalseCondition|Condition|Referenced, flowDepth: 3
                        getTypeAtFlowNode
                          (in) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                          pushFlow(Assignment|Referenced|Shared)
                          0: , LoopLabel|Label|Referenced|Shared
                          1: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                          2: [obj, (867,871)], FalseCondition|Condition|Referenced
                          3: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                          (dbgiter:0) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 4
                          popFlow()->Assignment|Referenced|Shared
                          (out) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 3, ret: boolean | undefined
                        (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: boolean | undefined, narrowedType: boolean | undefined
                        (fc out) [obj, (867,871)], FalseCondition|Condition|Referenced, flowDepth: 3, ret: boolean | undefined
                      popFlow()->FalseCondition|Condition|Referenced
                      (out) [obj, (867,871)], FalseCondition|Condition|Referenced, flowDepth: 2, ret: boolean | undefined
                    briter:0, flowType: boolean | undefined, type: boolean | undefined
                    (out) , BranchLabel|Label|Referenced, flowDepth: 2, ret: boolean | undefined
                  popFlow()->Assignment|Referenced
                  (out) [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced, flowDepth: 1, ret: boolean | undefined
                getTypeAtFlowLoopLabel, cache.set(11|116|116|50: isFoo,[2333,2338], boolean | undefined
                getTypeAtFlowLoopLabel, flow: , LoopLabel|Label|Referenced|Shared, return: boolean | undefined
              popFlow()->LoopLabel|Label|Referenced|Shared
              (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 0, ret: boolean | undefined
            sharedFlowCount: 2, typeAtFlowNode: boolean | undefined
            sharedFlowCount: 2, evolvedType: boolean | undefined
            return resultType: boolean | undefined
          In getIdentifier(), getFlowTypeOfReference returned boolean | undefined
          checkExpressionWorker return: isFoo, [2333,2338] -> boolean | undefined
        checkExpressionWorker
          node: isFoo, [2333,2338]
          getFlowTypeOfReference
            reference: isFoo
            declaredType: boolean | undefined
            LoopLabel|Label|Referenced|Shared
            sharedFlowStart(cache): 0
            getTypeAtFlowNode
              (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
              pushFlow(LoopLabel|Label|Referenced|Shared)
              0: , LoopLabel|Label|Referenced|Shared
              (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 1
              getTypeAtFlowLoopLabel
                , LoopLabel|Label|Referenced|Shared
                getTypeAtFlowLoopLabel, (flowNode)id: 3, key:11|116|116|50: isFoo,[2333,2338]
                getTypeAtFlowLoopLabel, cached
                getTypeAtFlowLoopLabel, flow: , LoopLabel|Label|Referenced|Shared, return: boolean | undefined
              popFlow()->LoopLabel|Label|Referenced|Shared
              (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 0, ret: boolean | undefined
            sharedFlowCount: 1, typeAtFlowNode: boolean | undefined
            sharedFlowCount: 1, evolvedType: boolean | undefined
            return resultType: boolean | undefined
          In getIdentifier(), getFlowTypeOfReference returned boolean | undefined
          checkExpressionWorker return: isFoo, [2333,2338] -> boolean | undefined
        checkSourceElement
          {
                      const s = obj.xfoo;
                  }
          checkSourceElement
            const s = obj.xfoo;
            checkSourceElement
              s = obj.xfoo
              checkExpressionWorker
                node: obj.xfoo, [2363,2372]
                checkExpressionWorker
                  node: obj, [2363,2367]
                  getFlowTypeOfReference
                    reference: obj
                    declaredType: X1 | undefined
                    TrueCondition|Condition|Referenced|Shared
                    sharedFlowStart(cache): 0
                    getTypeAtFlowNode
                      (in) [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
                      pushFlow(TrueCondition|Condition|Referenced|Shared)
                      0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                      (dbgiter:0) [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1
                      getTypeAtFlowCondition
                        (fc  in) [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1
                        getTypeAtFlowNode
                          (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                          pushFlow(LoopLabel|Label|Referenced|Shared)
                          0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                          1: , LoopLabel|Label|Referenced|Shared
                          (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 2
                          getTypeAtFlowLoopLabel
                            , LoopLabel|Label|Referenced|Shared
                            getTypeAtFlowLoopLabel, (flowNode)id: 3, key:11|104|104|52: obj,[2363,2367]
                            getTypeAtFlowLoopLabel, The first antecedent of a loop junction is always the non-looping control
                            getTypeAtFlowNode
                              (in) [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                              pushFlow(Assignment|Referenced)
                              0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                              1: , LoopLabel|Label|Referenced|Shared
                              2: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                              (dbgiter:0) [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced, flowDepth: 3
                              (dbgiter:1) , BranchLabel|Label|Referenced, flowDepth: 3
                              getTypeAtFlowBranchLabel
                                (in) , BranchLabel|Label|Referenced, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                                flowStack
                                  0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                  1: , LoopLabel|Label|Referenced|Shared
                                  2: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                briter:0, ante:[obj, (867,871)], FalseCondition|Condition|Referenced
                                getTypeAtFlowNode
                                  (in) [obj, (867,871)], FalseCondition|Condition|Referenced, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                                  pushFlow(FalseCondition|Condition|Referenced)
                                  0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                  1: , LoopLabel|Label|Referenced|Shared
                                  2: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                  3: [obj, (867,871)], FalseCondition|Condition|Referenced
                                  (dbgiter:0) [obj, (867,871)], FalseCondition|Condition|Referenced, flowDepth: 4
                                  getTypeAtFlowCondition
                                    (fc  in) [obj, (867,871)], FalseCondition|Condition|Referenced, flowDepth: 4
                                    getTypeAtFlowNode
                                      (in) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                                      pushFlow(Assignment|Referenced|Shared)
                                      0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                      1: , LoopLabel|Label|Referenced|Shared
                                      2: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                      3: [obj, (867,871)], FalseCondition|Condition|Referenced
                                      4: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                                      (dbgiter:0) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 5
                                      (dbgiter:1) , BranchLabel|Label|Referenced, flowDepth: 5
                                      getTypeAtFlowBranchLabel
                                        (in) , BranchLabel|Label|Referenced, flowDepth: 5, flowTypeQueryState.getFlowStackIndex(): 4
                                        flowStack
                                          0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                          1: , LoopLabel|Label|Referenced|Shared
                                          2: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                          3: [obj, (867,871)], FalseCondition|Condition|Referenced
                                          4: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                                        adding alias: isFoo = obj && obj.kind === "foo", condition: TrueCondition|Condition|Referenced|Shared
                                        briter:0, ante:[obj, (822,826)], FalseCondition|Condition|Referenced
                                        skipping because aliasFlowTF is true but anteTF is false
                                        briter:1, ante:[obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced
                                        getTypeAtFlowNode
                                          (in) [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced, flowDepth: 5, flowTypeQueryState.getFlowStackIndex(): 4
                                          pushFlow(TrueCondition|Condition|Referenced)
                                          0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                          1: , LoopLabel|Label|Referenced|Shared
                                          2: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                          3: [obj, (867,871)], FalseCondition|Condition|Referenced
                                          4: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                                          5: [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced
                                          (dbgiter:0) [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced, flowDepth: 6
                                          getTypeAtFlowCondition
                                            (fc  in) [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced, flowDepth: 6
                                            getTypeAtFlowNode
                                              (in) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 6, flowTypeQueryState.getFlowStackIndex(): 5
                                              pushFlow(TrueCondition|Condition|Referenced|Shared)
                                              0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                              1: , LoopLabel|Label|Referenced|Shared
                                              2: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                              3: [obj, (867,871)], FalseCondition|Condition|Referenced
                                              4: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                                              5: [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced
                                              6: [obj, (822,826)], TrueCondition|Condition|Referenced|Shared
                                              (dbgiter:0) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 7
                                              getTypeAtFlowCondition
                                                (fc  in) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 7
                                                getTypeAtFlowNode
                                                  (in) , Start|Referenced|Shared, flowDepth: 7, flowTypeQueryState.getFlowStackIndex(): 6
                                                  pushFlow(Start|Referenced|Shared)
                                                  0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                                  1: , LoopLabel|Label|Referenced|Shared
                                                  2: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                                  3: [obj, (867,871)], FalseCondition|Condition|Referenced
                                                  4: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                                                  5: [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced
                                                  6: [obj, (822,826)], TrueCondition|Condition|Referenced|Shared
                                                  7: , Start|Referenced|Shared
                                                  (dbgiter:0) , Start|Referenced|Shared, flowDepth: 8
                                                  popFlow()->Start|Referenced|Shared
                                                  (out) , Start|Referenced|Shared, flowDepth: 7, ret: X1 | undefined
                                                (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: X1 | undefined, narrowedType: X1
                                                (fc out) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 7, ret: X1
                                              popFlow()->TrueCondition|Condition|Referenced|Shared
                                              (out) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 6, ret: X1
                                            checkExpressionWorker
                                              node: "foo", [842,848]
                                              checkExpressionWorker return: "foo", [842,848] -> "foo"
                                            (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: X1, narrowedType: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                                            (fc out) [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced, flowDepth: 6, ret: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                                          popFlow()->TrueCondition|Condition|Referenced
                                          (out) [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced, flowDepth: 5, ret: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                                        briter:1, flowType: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>, type: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                                        briter:2, ante:[obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced
                                        skipping because aliasFlowTF is true but anteTF is false
                                        br/antecedentTypes[0]: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                                        brTmpType: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                                        (out) , BranchLabel|Label|Referenced, flowDepth: 5, ret: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                                      popFlow()->Assignment|Referenced|Shared
                                      (out) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 4, ret: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                                    (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>, narrowedType: never
                                    (fc out) [obj, (867,871)], FalseCondition|Condition|Referenced, flowDepth: 4, ret: never
                                  popFlow()->FalseCondition|Condition|Referenced
                                  (out) [obj, (867,871)], FalseCondition|Condition|Referenced, flowDepth: 3, ret: never
                                briter:0, flowType: never, type: never
                                briter:1, ante:[obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced
                                getTypeAtFlowNode
                                  (in) [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                                  pushFlow(TrueCondition|Condition|Referenced)
                                  0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                  1: , LoopLabel|Label|Referenced|Shared
                                  2: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                  3: [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced
                                  (dbgiter:0) [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced, flowDepth: 4
                                  getTypeAtFlowCondition
                                    (fc  in) [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced, flowDepth: 4
                                    getTypeAtFlowNode
                                      (in) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                                      pushFlow(TrueCondition|Condition|Referenced|Shared)
                                      0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                      1: , LoopLabel|Label|Referenced|Shared
                                      2: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                      3: [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced
                                      4: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                                      (dbgiter:0) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 5
                                      getTypeAtFlowCondition
                                        (fc  in) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 5
                                        getTypeAtFlowNode
                                          (in) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 5, flowTypeQueryState.getFlowStackIndex(): 4
                                          pushFlow(Assignment|Referenced|Shared)
                                          0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                          1: , LoopLabel|Label|Referenced|Shared
                                          2: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                          3: [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced
                                          4: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                                          5: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                                          (dbgiter:0) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 6
                                          popFlow()->Assignment|Referenced|Shared
                                          (out) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 5, ret: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                                        (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>, narrowedType: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                                        (fc out) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 5, ret: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                                      popFlow()->TrueCondition|Condition|Referenced|Shared
                                      (out) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 4, ret: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                                    checkExpressionWorker
                                      node: "bar", [887,893]
                                      checkExpressionWorker return: "bar", [887,893] -> "bar"
                                    (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>, narrowedType: never
                                    (fc out) [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced, flowDepth: 4, ret: never
                                  popFlow()->TrueCondition|Condition|Referenced
                                  (out) [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced, flowDepth: 3, ret: never
                                briter:1, flowType: never, type: never
                                briter:2, ante:[obj.kind === "bar", (874,893)], FalseCondition|Condition|Referenced
                                getTypeAtFlowNode
                                  (in) [obj.kind === "bar", (874,893)], FalseCondition|Condition|Referenced, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                                  pushFlow(FalseCondition|Condition|Referenced)
                                  0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                  1: , LoopLabel|Label|Referenced|Shared
                                  2: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                  3: [obj.kind === "bar", (874,893)], FalseCondition|Condition|Referenced
                                  (dbgiter:0) [obj.kind === "bar", (874,893)], FalseCondition|Condition|Referenced, flowDepth: 4
                                  getTypeAtFlowCondition
                                    (fc  in) [obj.kind === "bar", (874,893)], FalseCondition|Condition|Referenced, flowDepth: 4
                                    getTypeAtFlowNode
                                      (in) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                                      pushFlow(TrueCondition|Condition|Referenced|Shared)
                                      0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                      1: , LoopLabel|Label|Referenced|Shared
                                      2: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                      3: [obj.kind === "bar", (874,893)], FalseCondition|Condition|Referenced
                                      4: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                                      (dbgiter:0) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 5
                                      popFlow()->TrueCondition|Condition|Referenced|Shared
                                      (out) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 4, ret: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                                    checkExpressionWorker
                                      node: "bar", [887,893]
                                      checkExpressionWorker return: "bar", [887,893] -> "bar"
                                    (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>, narrowedType: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                                    (fc out) [obj.kind === "bar", (874,893)], FalseCondition|Condition|Referenced, flowDepth: 4, ret: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                                  popFlow()->FalseCondition|Condition|Referenced
                                  (out) [obj.kind === "bar", (874,893)], FalseCondition|Condition|Referenced, flowDepth: 3, ret: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                                briter:2, flowType: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>, type: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                                br/antecedentTypes[0]: never
                                br/antecedentTypes[1]: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                                brTmpType: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                                (out) , BranchLabel|Label|Referenced, flowDepth: 3, ret: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                              popFlow()->Assignment|Referenced
                              (out) [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced, flowDepth: 2, ret: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                            getTypeAtFlowLoopLabel, All but the first antecedent
                            getTypeAtFlowNode
                              (in) , BranchLabel|Label|Referenced, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                              pushFlow(BranchLabel|Label|Referenced)
                              0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                              1: , LoopLabel|Label|Referenced|Shared
                              2: , BranchLabel|Label|Referenced
                              (dbgiter:0) , BranchLabel|Label|Referenced, flowDepth: 3
                              getTypeAtFlowBranchLabel
                                (in) , BranchLabel|Label|Referenced, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                                flowStack
                                  0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                  1: , LoopLabel|Label|Referenced|Shared
                                  2: , BranchLabel|Label|Referenced
                                briter:0, ante:[s = obj.xfoo, (2359,2372)], Assignment|Referenced
                                getTypeAtFlowNode
                                  (in) [s = obj.xfoo, (2359,2372)], Assignment|Referenced, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                                  pushFlow(Assignment|Referenced)
                                  0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                  1: , LoopLabel|Label|Referenced|Shared
                                  2: , BranchLabel|Label|Referenced
                                  3: [s = obj.xfoo, (2359,2372)], Assignment|Referenced
                                  (dbgiter:0) [s = obj.xfoo, (2359,2372)], Assignment|Referenced, flowDepth: 4
                                  (dbgiter:1) [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared, flowDepth: 4
                                  getTypeAtFlowCondition
                                    (fc  in) [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared, flowDepth: 4
                                    getTypeAtFlowNode
                                      (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                                      pushFlow(LoopLabel|Label|Referenced|Shared)
                                      0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                      1: , LoopLabel|Label|Referenced|Shared
                                      2: , BranchLabel|Label|Referenced
                                      3: [s = obj.xfoo, (2359,2372)], Assignment|Referenced
                                      4: , LoopLabel|Label|Referenced|Shared
                                      (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 5
                                      getTypeAtFlowLoopLabel
                                        , LoopLabel|Label|Referenced|Shared
                                        getTypeAtFlowLoopLabel, (flowNode)id: 3, key:11|104|104|52: obj,[2363,2367]
                                        getTypeAtFlowLoopLabel, this flow loop junction and reference are already being processed, incomplete
                                        getTypeAtFlowLoopLabel, flow: , LoopLabel|Label|Referenced|Shared, return: IncompleteType
                                      popFlow()->LoopLabel|Label|Referenced|Shared
                                      (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 4, ret: IncompleteType
                                    checkExpressionWorker
                                      node: "foo", [842,848]
                                      checkExpressionWorker return: "foo", [842,848] -> "foo"
                                    (fc ) flow.id: 4, asumeTrue:true, nonEvolvingType: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>, narrowedType: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                                    (fc out) [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared, flowDepth: 4, ret: IncompleteType
                                  popFlow()->Assignment|Referenced
                                  (out) [s = obj.xfoo, (2359,2372)], Assignment|Referenced, flowDepth: 3, ret: IncompleteType
                                briter:0, flowType: IncompleteType, type: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                                briter:1, ante:, BranchLabel|Label|Referenced
                                getTypeAtFlowNode
                                  (in) , BranchLabel|Label|Referenced, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                                  pushFlow(BranchLabel|Label|Referenced)
                                  0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                  1: , LoopLabel|Label|Referenced|Shared
                                  2: , BranchLabel|Label|Referenced
                                  3: , BranchLabel|Label|Referenced
                                  (dbgiter:0) , BranchLabel|Label|Referenced, flowDepth: 4
                                  getTypeAtFlowBranchLabel
                                    (in) , BranchLabel|Label|Referenced, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                                    flowStack
                                      0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                      1: , LoopLabel|Label|Referenced|Shared
                                      2: , BranchLabel|Label|Referenced
                                      3: , BranchLabel|Label|Referenced
                                    briter:0, ante:[t = obj.xbar, (2419,2432)], Assignment|Referenced
                                    getTypeAtFlowNode
                                      (in) [t = obj.xbar, (2419,2432)], Assignment|Referenced, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                                      pushFlow(Assignment|Referenced)
                                      0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                      1: , LoopLabel|Label|Referenced|Shared
                                      2: , BranchLabel|Label|Referenced
                                      3: , BranchLabel|Label|Referenced
                                      4: [t = obj.xbar, (2419,2432)], Assignment|Referenced
                                      (dbgiter:0) [t = obj.xbar, (2419,2432)], Assignment|Referenced, flowDepth: 5
                                      (dbgiter:1) [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared, flowDepth: 5
                                      getTypeAtFlowCondition
                                        (fc  in) [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared, flowDepth: 5
                                        getTypeAtFlowNode
                                          (in) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 5, flowTypeQueryState.getFlowStackIndex(): 4
                                          pushFlow(FalseCondition|Condition|Referenced|Shared)
                                          0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                          1: , LoopLabel|Label|Referenced|Shared
                                          2: , BranchLabel|Label|Referenced
                                          3: , BranchLabel|Label|Referenced
                                          4: [t = obj.xbar, (2419,2432)], Assignment|Referenced
                                          5: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                          (dbgiter:0) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 6
                                          getTypeAtFlowCondition
                                            (fc  in) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 6
                                            getTypeAtFlowNode
                                              (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 6, flowTypeQueryState.getFlowStackIndex(): 5
                                              pushFlow(LoopLabel|Label|Referenced|Shared)
                                              0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                              1: , LoopLabel|Label|Referenced|Shared
                                              2: , BranchLabel|Label|Referenced
                                              3: , BranchLabel|Label|Referenced
                                              4: [t = obj.xbar, (2419,2432)], Assignment|Referenced
                                              5: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                              6: , LoopLabel|Label|Referenced|Shared
                                              (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 7
                                              popFlow()->LoopLabel|Label|Referenced|Shared
                                              (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 6, ret: IncompleteType
                                            checkExpressionWorker
                                              node: "foo", [842,848]
                                              checkExpressionWorker return: "foo", [842,848] -> "foo"
                                            (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>, narrowedType: never
                                            (fc out) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 6, ret: IncompleteType
                                          popFlow()->FalseCondition|Condition|Referenced|Shared
                                          (out) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 5, ret: IncompleteType
                                        (fc out) [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared, flowDepth: 5, ret: IncompleteType
                                      popFlow()->Assignment|Referenced
                                      (out) [t = obj.xbar, (2419,2432)], Assignment|Referenced, flowDepth: 4, ret: IncompleteType
                                    briter:0, flowType: IncompleteType, type: never
                                    briter:1, ante:[isBar, (2393,2398)], FalseCondition|Condition|Referenced|Shared
                                    getTypeAtFlowNode
                                      (in) [isBar, (2393,2398)], FalseCondition|Condition|Referenced|Shared, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                                      pushFlow(FalseCondition|Condition|Referenced|Shared)
                                      0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                      1: , LoopLabel|Label|Referenced|Shared
                                      2: , BranchLabel|Label|Referenced
                                      3: , BranchLabel|Label|Referenced
                                      4: [isBar, (2393,2398)], FalseCondition|Condition|Referenced|Shared
                                      (dbgiter:0) [isBar, (2393,2398)], FalseCondition|Condition|Referenced|Shared, flowDepth: 5
                                      getTypeAtFlowCondition
                                        (fc  in) [isBar, (2393,2398)], FalseCondition|Condition|Referenced|Shared, flowDepth: 5
                                        getTypeAtFlowNode
                                          (in) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 5, flowTypeQueryState.getFlowStackIndex(): 4
                                          pushFlow(FalseCondition|Condition|Referenced|Shared)
                                          0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                          1: , LoopLabel|Label|Referenced|Shared
                                          2: , BranchLabel|Label|Referenced
                                          3: , BranchLabel|Label|Referenced
                                          4: [isBar, (2393,2398)], FalseCondition|Condition|Referenced|Shared
                                          5: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                          (dbgiter:0) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 6
                                          popFlow()->FalseCondition|Condition|Referenced|Shared
                                          (out) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 5, ret: IncompleteType
                                        (fc out) [isBar, (2393,2398)], FalseCondition|Condition|Referenced|Shared, flowDepth: 5, ret: IncompleteType
                                      popFlow()->FalseCondition|Condition|Referenced|Shared
                                      (out) [isBar, (2393,2398)], FalseCondition|Condition|Referenced|Shared, flowDepth: 4, ret: IncompleteType
                                    briter:1, flowType: IncompleteType, type: never
                                    br/antecedentTypes[0]: never
                                    brTmpType: never
                                    (out) , BranchLabel|Label|Referenced, flowDepth: 4, ret: IncompleteType
                                  popFlow()->BranchLabel|Label|Referenced
                                  (out) , BranchLabel|Label|Referenced, flowDepth: 3, ret: IncompleteType
                                briter:1, flowType: IncompleteType, type: never
                                br/antecedentTypes[0]: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                                br/antecedentTypes[1]: never
                                brTmpType: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                                (out) , BranchLabel|Label|Referenced, flowDepth: 3, ret: IncompleteType
                              popFlow()->BranchLabel|Label|Referenced
                              (out) , BranchLabel|Label|Referenced, flowDepth: 2, ret: IncompleteType
                            getTypeAtFlowLoopLabel, cache.set(11|104|104|52: obj,[2363,2367], Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                            getTypeAtFlowLoopLabel, flow: , LoopLabel|Label|Referenced|Shared, return: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                          popFlow()->LoopLabel|Label|Referenced|Shared
                          (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 1, ret: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                        checkExpressionWorker
                          node: "foo", [842,848]
                          checkExpressionWorker return: "foo", [842,848] -> "foo"
                        (fc ) flow.id: 4, asumeTrue:true, nonEvolvingType: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>, narrowedType: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                        (fc out) [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1, ret: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                      popFlow()->TrueCondition|Condition|Referenced|Shared
                      (out) [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared, flowDepth: 0, ret: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                    sharedFlowCount: 11, typeAtFlowNode: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                    sharedFlowCount: 11, evolvedType: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                    return resultType: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                  In getIdentifier(), getFlowTypeOfReference returned Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                  checkExpressionWorker return: obj, [2363,2367] -> Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                getFlowTypeOfReference
                  reference: obj.xfoo
                  declaredType: string
                  TrueCondition|Condition|Referenced|Shared
                  sharedFlowStart(cache): 0
                  getTypeAtFlowNode
                    (in) [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
                    pushFlow(TrueCondition|Condition|Referenced|Shared)
                    0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                    (dbgiter:0) [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1
                    getTypeAtFlowCondition
                      (fc  in) [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1
                      getTypeAtFlowNode
                        (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                        pushFlow(LoopLabel|Label|Referenced|Shared)
                        0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                        1: , LoopLabel|Label|Referenced|Shared
                        (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 2
                        getTypeAtFlowLoopLabel
                          , LoopLabel|Label|Referenced|Shared
                          getTypeAtFlowLoopLabel, (flowNode)id: 3, key:-1|13|13|52: obj,[2363,2367].xfoo
                          getTypeAtFlowLoopLabel, The first antecedent of a loop junction is always the non-looping control
                          getTypeAtFlowNode
                            (in) [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                            pushFlow(Assignment|Referenced)
                            0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                            1: , LoopLabel|Label|Referenced|Shared
                            2: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                            (dbgiter:0) [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced, flowDepth: 3
                            (dbgiter:1) , BranchLabel|Label|Referenced, flowDepth: 3
                            getTypeAtFlowBranchLabel
                              (in) , BranchLabel|Label|Referenced, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                              flowStack
                                0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                1: , LoopLabel|Label|Referenced|Shared
                                2: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                              briter:0, ante:[obj, (867,871)], FalseCondition|Condition|Referenced
                              getTypeAtFlowNode
                                (in) [obj, (867,871)], FalseCondition|Condition|Referenced, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                                pushFlow(FalseCondition|Condition|Referenced)
                                0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                1: , LoopLabel|Label|Referenced|Shared
                                2: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                3: [obj, (867,871)], FalseCondition|Condition|Referenced
                                (dbgiter:0) [obj, (867,871)], FalseCondition|Condition|Referenced, flowDepth: 4
                                getTypeAtFlowCondition
                                  (fc  in) [obj, (867,871)], FalseCondition|Condition|Referenced, flowDepth: 4
                                  getTypeAtFlowNode
                                    (in) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                                    pushFlow(Assignment|Referenced|Shared)
                                    0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                    1: , LoopLabel|Label|Referenced|Shared
                                    2: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                    3: [obj, (867,871)], FalseCondition|Condition|Referenced
                                    4: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                                    (dbgiter:0) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 5
                                    (dbgiter:1) , BranchLabel|Label|Referenced, flowDepth: 5
                                    getTypeAtFlowBranchLabel
                                      (in) , BranchLabel|Label|Referenced, flowDepth: 5, flowTypeQueryState.getFlowStackIndex(): 4
                                      flowStack
                                        0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                        1: , LoopLabel|Label|Referenced|Shared
                                        2: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                        3: [obj, (867,871)], FalseCondition|Condition|Referenced
                                        4: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                                      adding alias: isFoo = obj && obj.kind === "foo", condition: TrueCondition|Condition|Referenced|Shared
                                      briter:0, ante:[obj, (822,826)], FalseCondition|Condition|Referenced
                                      skipping because aliasFlowTF is true but anteTF is false
                                      briter:1, ante:[obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced
                                      getTypeAtFlowNode
                                        (in) [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced, flowDepth: 5, flowTypeQueryState.getFlowStackIndex(): 4
                                        pushFlow(TrueCondition|Condition|Referenced)
                                        0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                        1: , LoopLabel|Label|Referenced|Shared
                                        2: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                        3: [obj, (867,871)], FalseCondition|Condition|Referenced
                                        4: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                                        5: [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced
                                        (dbgiter:0) [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced, flowDepth: 6
                                        getTypeAtFlowCondition
                                          (fc  in) [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced, flowDepth: 6
                                          getTypeAtFlowNode
                                            (in) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 6, flowTypeQueryState.getFlowStackIndex(): 5
                                            pushFlow(TrueCondition|Condition|Referenced|Shared)
                                            0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                            1: , LoopLabel|Label|Referenced|Shared
                                            2: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                            3: [obj, (867,871)], FalseCondition|Condition|Referenced
                                            4: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                                            5: [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced
                                            6: [obj, (822,826)], TrueCondition|Condition|Referenced|Shared
                                            (dbgiter:0) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 7
                                            getTypeAtFlowCondition
                                              (fc  in) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 7
                                              getTypeAtFlowNode
                                                (in) , Start|Referenced|Shared, flowDepth: 7, flowTypeQueryState.getFlowStackIndex(): 6
                                                pushFlow(Start|Referenced|Shared)
                                                0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                                1: , LoopLabel|Label|Referenced|Shared
                                                2: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                                3: [obj, (867,871)], FalseCondition|Condition|Referenced
                                                4: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                                                5: [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced
                                                6: [obj, (822,826)], TrueCondition|Condition|Referenced|Shared
                                                7: , Start|Referenced|Shared
                                                (dbgiter:0) , Start|Referenced|Shared, flowDepth: 8
                                                popFlow()->Start|Referenced|Shared
                                                (out) , Start|Referenced|Shared, flowDepth: 7, ret: string
                                              (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: string, narrowedType: string
                                              (fc out) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 7, ret: string
                                            popFlow()->TrueCondition|Condition|Referenced|Shared
                                            (out) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 6, ret: string
                                          (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: string, narrowedType: string
                                          (fc out) [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced, flowDepth: 6, ret: string
                                        popFlow()->TrueCondition|Condition|Referenced
                                        (out) [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced, flowDepth: 5, ret: string
                                      briter:1, flowType: string, type: string
                                      (out) , BranchLabel|Label|Referenced, flowDepth: 5, ret: string
                                    popFlow()->Assignment|Referenced|Shared
                                    (out) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 4, ret: string
                                  (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: string, narrowedType: string
                                  (fc out) [obj, (867,871)], FalseCondition|Condition|Referenced, flowDepth: 4, ret: string
                                popFlow()->FalseCondition|Condition|Referenced
                                (out) [obj, (867,871)], FalseCondition|Condition|Referenced, flowDepth: 3, ret: string
                              briter:0, flowType: string, type: string
                              (out) , BranchLabel|Label|Referenced, flowDepth: 3, ret: string
                            popFlow()->Assignment|Referenced
                            (out) [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced, flowDepth: 2, ret: string
                          getTypeAtFlowLoopLabel, cache.set(-1|13|13|52: obj,[2363,2367].xfoo, string
                          getTypeAtFlowLoopLabel, flow: , LoopLabel|Label|Referenced|Shared, return: string
                        popFlow()->LoopLabel|Label|Referenced|Shared
                        (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 1, ret: string
                      (fc ) flow.id: 4, asumeTrue:true, nonEvolvingType: string, narrowedType: string
                      (fc out) [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1, ret: string
                    popFlow()->TrueCondition|Condition|Referenced|Shared
                    (out) [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared, flowDepth: 0, ret: string
                  sharedFlowCount: 5, typeAtFlowNode: string
                  sharedFlowCount: 5, evolvedType: string
                  return resultType: string
                checkExpressionWorker return: obj.xfoo, [2363,2372] -> string
        checkSourceElement
          if (isBar) {
                      const t = obj.xbar;
                  }
          checkExpressionWorker
            node: isBar, [2393,2398]
            getFlowTypeOfReference
              reference: isBar
              declaredType: boolean | undefined
              FalseCondition|Condition|Referenced|Shared
              sharedFlowStart(cache): 0
              getTypeAtFlowNode
                (in) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
                pushFlow(FalseCondition|Condition|Referenced|Shared)
                0: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                (dbgiter:0) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 1
                getTypeAtFlowCondition
                  (fc  in) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 1
                  getTypeAtFlowNode
                    (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                    pushFlow(LoopLabel|Label|Referenced|Shared)
                    0: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                    1: , LoopLabel|Label|Referenced|Shared
                    (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 2
                    getTypeAtFlowLoopLabel
                      , LoopLabel|Label|Referenced|Shared
                      getTypeAtFlowLoopLabel, (flowNode)id: 3, key:11|116|116|53: isBar,[2393,2398]
                      getTypeAtFlowLoopLabel, The first antecedent of a loop junction is always the non-looping control
                      getTypeAtFlowNode
                        (in) [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                        pushFlow(Assignment|Referenced)
                        0: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                        1: , LoopLabel|Label|Referenced|Shared
                        2: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                        (dbgiter:0) [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced, flowDepth: 3
                        popFlow()->Assignment|Referenced
                        (out) [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced, flowDepth: 2, ret: boolean | undefined
                      getTypeAtFlowLoopLabel, cache.set(11|116|116|53: isBar,[2393,2398], boolean | undefined
                      getTypeAtFlowLoopLabel, flow: , LoopLabel|Label|Referenced|Shared, return: boolean | undefined
                    popFlow()->LoopLabel|Label|Referenced|Shared
                    (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 1, ret: boolean | undefined
                  (fc ) flow.id: 5, asumeTrue:false, nonEvolvingType: boolean | undefined, narrowedType: boolean | undefined
                  (fc out) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 1, ret: boolean | undefined
                popFlow()->FalseCondition|Condition|Referenced|Shared
                (out) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 0, ret: boolean | undefined
              sharedFlowCount: 2, typeAtFlowNode: boolean | undefined
              sharedFlowCount: 2, evolvedType: boolean | undefined
              return resultType: boolean | undefined
            In getIdentifier(), getFlowTypeOfReference returned boolean | undefined
            checkExpressionWorker return: isBar, [2393,2398] -> boolean | undefined
          checkExpressionWorker
            node: isBar, [2393,2398]
            getFlowTypeOfReference
              reference: isBar
              declaredType: boolean | undefined
              FalseCondition|Condition|Referenced|Shared
              sharedFlowStart(cache): 0
              getTypeAtFlowNode
                (in) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
                pushFlow(FalseCondition|Condition|Referenced|Shared)
                0: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                (dbgiter:0) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 1
                getTypeAtFlowCondition
                  (fc  in) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 1
                  getTypeAtFlowNode
                    (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                    pushFlow(LoopLabel|Label|Referenced|Shared)
                    0: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                    1: , LoopLabel|Label|Referenced|Shared
                    (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 2
                    getTypeAtFlowLoopLabel
                      , LoopLabel|Label|Referenced|Shared
                      getTypeAtFlowLoopLabel, (flowNode)id: 3, key:11|116|116|53: isBar,[2393,2398]
                      getTypeAtFlowLoopLabel, cached
                      getTypeAtFlowLoopLabel, flow: , LoopLabel|Label|Referenced|Shared, return: boolean | undefined
                    popFlow()->LoopLabel|Label|Referenced|Shared
                    (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 1, ret: boolean | undefined
                  (fc ) flow.id: 5, asumeTrue:false, nonEvolvingType: boolean | undefined, narrowedType: boolean | undefined
                  (fc out) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 1, ret: boolean | undefined
                popFlow()->FalseCondition|Condition|Referenced|Shared
                (out) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 0, ret: boolean | undefined
              sharedFlowCount: 2, typeAtFlowNode: boolean | undefined
              sharedFlowCount: 2, evolvedType: boolean | undefined
              return resultType: boolean | undefined
            In getIdentifier(), getFlowTypeOfReference returned boolean | undefined
            checkExpressionWorker return: isBar, [2393,2398] -> boolean | undefined
          checkSourceElement
            {
                        const t = obj.xbar;
                    }
            checkSourceElement
              const t = obj.xbar;
              checkSourceElement
                t = obj.xbar
                checkExpressionWorker
                  node: obj.xbar, [2423,2432]
                  checkExpressionWorker
                    node: obj, [2423,2427]
                    getFlowTypeOfReference
                      reference: obj
                      declaredType: X1 | undefined
                      TrueCondition|Condition|Referenced|Shared
                      sharedFlowStart(cache): 0
                      getTypeAtFlowNode
                        (in) [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
                        pushFlow(TrueCondition|Condition|Referenced|Shared)
                        0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                        (dbgiter:0) [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1
                        getTypeAtFlowCondition
                          (fc  in) [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1
                          getTypeAtFlowNode
                            (in) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                            pushFlow(FalseCondition|Condition|Referenced|Shared)
                            0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                            1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                            (dbgiter:0) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 2
                            getTypeAtFlowCondition
                              (fc  in) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 2
                              getTypeAtFlowNode
                                (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                                pushFlow(LoopLabel|Label|Referenced|Shared)
                                0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                2: , LoopLabel|Label|Referenced|Shared
                                (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 3
                                getTypeAtFlowLoopLabel
                                  , LoopLabel|Label|Referenced|Shared
                                  getTypeAtFlowLoopLabel, (flowNode)id: 3, key:11|104|104|55: obj,[2423,2427]
                                  getTypeAtFlowLoopLabel, The first antecedent of a loop junction is always the non-looping control
                                  getTypeAtFlowNode
                                    (in) [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                                    pushFlow(Assignment|Referenced)
                                    0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                    1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                    2: , LoopLabel|Label|Referenced|Shared
                                    3: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                    (dbgiter:0) [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced, flowDepth: 4
                                    (dbgiter:1) , BranchLabel|Label|Referenced, flowDepth: 4
                                    getTypeAtFlowBranchLabel
                                      (in) , BranchLabel|Label|Referenced, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                                      flowStack
                                        0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                        1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                        2: , LoopLabel|Label|Referenced|Shared
                                        3: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                      adding alias: isBar = obj && obj.kind === "bar", condition: TrueCondition|Condition|Referenced|Shared
                                      briter:0, ante:[obj, (867,871)], FalseCondition|Condition|Referenced
                                      skipping because aliasFlowTF is true but anteTF is false
                                      briter:1, ante:[obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced
                                      getTypeAtFlowNode
                                        (in) [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                                        pushFlow(TrueCondition|Condition|Referenced)
                                        0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                        1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                        2: , LoopLabel|Label|Referenced|Shared
                                        3: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                        4: [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced
                                        (dbgiter:0) [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced, flowDepth: 5
                                        getTypeAtFlowCondition
                                          (fc  in) [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced, flowDepth: 5
                                          getTypeAtFlowNode
                                            (in) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 5, flowTypeQueryState.getFlowStackIndex(): 4
                                            pushFlow(TrueCondition|Condition|Referenced|Shared)
                                            0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                            1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                            2: , LoopLabel|Label|Referenced|Shared
                                            3: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                            4: [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced
                                            5: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                                            (dbgiter:0) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 6
                                            getTypeAtFlowCondition
                                              (fc  in) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 6
                                              getTypeAtFlowNode
                                                (in) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 6, flowTypeQueryState.getFlowStackIndex(): 5
                                                pushFlow(Assignment|Referenced|Shared)
                                                0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                                1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                                2: , LoopLabel|Label|Referenced|Shared
                                                3: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                                4: [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced
                                                5: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                                                6: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                                                (dbgiter:0) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 7
                                                (dbgiter:1) , BranchLabel|Label|Referenced, flowDepth: 7
                                                getTypeAtFlowBranchLabel
                                                  (in) , BranchLabel|Label|Referenced, flowDepth: 7, flowTypeQueryState.getFlowStackIndex(): 6
                                                  flowStack
                                                    0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                                    1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                                    2: , LoopLabel|Label|Referenced|Shared
                                                    3: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                                    4: [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced
                                                    5: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                                                    6: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                                                  adding alias: isFoo = obj && obj.kind === "foo", condition: FalseCondition|Condition|Referenced|Shared
                                                  briter:0, ante:[obj, (822,826)], FalseCondition|Condition|Referenced
                                                  getTypeAtFlowNode
                                                    (in) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 7, flowTypeQueryState.getFlowStackIndex(): 6
                                                    pushFlow(FalseCondition|Condition|Referenced)
                                                    0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                                    1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                                    2: , LoopLabel|Label|Referenced|Shared
                                                    3: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                                    4: [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced
                                                    5: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                                                    6: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                                                    7: [obj, (822,826)], FalseCondition|Condition|Referenced
                                                    (dbgiter:0) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 8
                                                    getTypeAtFlowCondition
                                                      (fc  in) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 8
                                                      getTypeAtFlowNode
                                                        (in) , Start|Referenced|Shared, flowDepth: 8, flowTypeQueryState.getFlowStackIndex(): 7
                                                        pushFlow(Start|Referenced|Shared)
                                                        0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                                        1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                                        2: , LoopLabel|Label|Referenced|Shared
                                                        3: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                                        4: [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced
                                                        5: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                                                        6: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                                                        7: [obj, (822,826)], FalseCondition|Condition|Referenced
                                                        8: , Start|Referenced|Shared
                                                        (dbgiter:0) , Start|Referenced|Shared, flowDepth: 9
                                                        popFlow()->Start|Referenced|Shared
                                                        (out) , Start|Referenced|Shared, flowDepth: 8, ret: X1 | undefined
                                                      (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: X1 | undefined, narrowedType: undefined
                                                      (fc out) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 8, ret: undefined
                                                    popFlow()->FalseCondition|Condition|Referenced
                                                    (out) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 7, ret: undefined
                                                  briter:0, flowType: undefined, type: undefined
                                                  briter:1, ante:[obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced
                                                  skipping because aliasFlowTF is false but anteTF is true
                                                  briter:2, ante:[obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced
                                                  getTypeAtFlowNode
                                                    (in) [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced, flowDepth: 7, flowTypeQueryState.getFlowStackIndex(): 6
                                                    pushFlow(FalseCondition|Condition|Referenced)
                                                    0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                                    1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                                    2: , LoopLabel|Label|Referenced|Shared
                                                    3: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                                    4: [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced
                                                    5: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                                                    6: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                                                    7: [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced
                                                    (dbgiter:0) [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced, flowDepth: 8
                                                    getTypeAtFlowCondition
                                                      (fc  in) [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced, flowDepth: 8
                                                      getTypeAtFlowNode
                                                        (in) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 8, flowTypeQueryState.getFlowStackIndex(): 7
                                                        pushFlow(TrueCondition|Condition|Referenced|Shared)
                                                        0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                                        1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                                        2: , LoopLabel|Label|Referenced|Shared
                                                        3: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                                        4: [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced
                                                        5: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                                                        6: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                                                        7: [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced
                                                        8: [obj, (822,826)], TrueCondition|Condition|Referenced|Shared
                                                        (dbgiter:0) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 9
                                                        getTypeAtFlowCondition
                                                          (fc  in) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 9
                                                          getTypeAtFlowNode
                                                            (in) , Start|Referenced|Shared, flowDepth: 9, flowTypeQueryState.getFlowStackIndex(): 8
                                                            pushFlow(Start|Referenced|Shared)
                                                            0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                                            1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                                            2: , LoopLabel|Label|Referenced|Shared
                                                            3: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                                            4: [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced
                                                            5: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                                                            6: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                                                            7: [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced
                                                            8: [obj, (822,826)], TrueCondition|Condition|Referenced|Shared
                                                            9: , Start|Referenced|Shared
                                                            (dbgiter:0) , Start|Referenced|Shared, flowDepth: 10
                                                            popFlow()->Start|Referenced|Shared
                                                            (out) , Start|Referenced|Shared, flowDepth: 9, ret: X1 | undefined
                                                          (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: X1 | undefined, narrowedType: X1
                                                          (fc out) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 9, ret: X1
                                                        popFlow()->TrueCondition|Condition|Referenced|Shared
                                                        (out) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 8, ret: X1
                                                      checkExpressionWorker
                                                        node: "foo", [842,848]
                                                        checkExpressionWorker return: "foo", [842,848] -> "foo"
                                                      (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: X1, narrowedType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>
                                                      (fc out) [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced, flowDepth: 8, ret: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>
                                                    popFlow()->FalseCondition|Condition|Referenced
                                                    (out) [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced, flowDepth: 7, ret: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>
                                                  briter:2, flowType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>, type: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>
                                                  br/antecedentTypes[0]: undefined
                                                  br/antecedentTypes[1]: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>
                                                  brTmpType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }> | undefined
                                                  (out) , BranchLabel|Label|Referenced, flowDepth: 7, ret: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }> | undefined
                                                popFlow()->Assignment|Referenced|Shared
                                                (out) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 6, ret: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }> | undefined
                                              (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }> | undefined, narrowedType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>
                                              (fc out) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 6, ret: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>
                                            popFlow()->TrueCondition|Condition|Referenced|Shared
                                            (out) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 5, ret: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>
                                          checkExpressionWorker
                                            node: "bar", [887,893]
                                            checkExpressionWorker return: "bar", [887,893] -> "bar"
                                          (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>, narrowedType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                                          (fc out) [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced, flowDepth: 5, ret: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                                        popFlow()->TrueCondition|Condition|Referenced
                                        (out) [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced, flowDepth: 4, ret: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                                      briter:1, flowType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>, type: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                                      briter:2, ante:[obj.kind === "bar", (874,893)], FalseCondition|Condition|Referenced
                                      skipping because aliasFlowTF is true but anteTF is false
                                      br/antecedentTypes[0]: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                                      brTmpType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                                      (out) , BranchLabel|Label|Referenced, flowDepth: 4, ret: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                                    popFlow()->Assignment|Referenced
                                    (out) [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced, flowDepth: 3, ret: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                                  getTypeAtFlowLoopLabel, All but the first antecedent
                                  getTypeAtFlowNode
                                    (in) , BranchLabel|Label|Referenced, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                                    pushFlow(BranchLabel|Label|Referenced)
                                    0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                    1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                    2: , LoopLabel|Label|Referenced|Shared
                                    3: , BranchLabel|Label|Referenced
                                    (dbgiter:0) , BranchLabel|Label|Referenced, flowDepth: 4
                                    getTypeAtFlowBranchLabel
                                      (in) , BranchLabel|Label|Referenced, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                                      flowStack
                                        0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                        1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                        2: , LoopLabel|Label|Referenced|Shared
                                        3: , BranchLabel|Label|Referenced
                                      briter:0, ante:[s = obj.xfoo, (2359,2372)], Assignment|Referenced
                                      getTypeAtFlowNode
                                        (in) [s = obj.xfoo, (2359,2372)], Assignment|Referenced, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                                        pushFlow(Assignment|Referenced)
                                        0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                        1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                        2: , LoopLabel|Label|Referenced|Shared
                                        3: , BranchLabel|Label|Referenced
                                        4: [s = obj.xfoo, (2359,2372)], Assignment|Referenced
                                        (dbgiter:0) [s = obj.xfoo, (2359,2372)], Assignment|Referenced, flowDepth: 5
                                        (dbgiter:1) [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared, flowDepth: 5
                                        getTypeAtFlowCondition
                                          (fc  in) [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared, flowDepth: 5
                                          getTypeAtFlowNode
                                            (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 5, flowTypeQueryState.getFlowStackIndex(): 4
                                            pushFlow(LoopLabel|Label|Referenced|Shared)
                                            0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                            1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                            2: , LoopLabel|Label|Referenced|Shared
                                            3: , BranchLabel|Label|Referenced
                                            4: [s = obj.xfoo, (2359,2372)], Assignment|Referenced
                                            5: , LoopLabel|Label|Referenced|Shared
                                            (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 6
                                            getTypeAtFlowLoopLabel
                                              , LoopLabel|Label|Referenced|Shared
                                              getTypeAtFlowLoopLabel, (flowNode)id: 3, key:11|104|104|55: obj,[2423,2427]
                                              getTypeAtFlowLoopLabel, this flow loop junction and reference are already being processed, incomplete
                                              getTypeAtFlowLoopLabel, flow: , LoopLabel|Label|Referenced|Shared, return: IncompleteType
                                            popFlow()->LoopLabel|Label|Referenced|Shared
                                            (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 5, ret: IncompleteType
                                          checkExpressionWorker
                                            node: "foo", [842,848]
                                            checkExpressionWorker return: "foo", [842,848] -> "foo"
                                          (fc ) flow.id: 4, asumeTrue:true, nonEvolvingType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>, narrowedType: never
                                          (fc out) [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared, flowDepth: 5, ret: IncompleteType
                                        popFlow()->Assignment|Referenced
                                        (out) [s = obj.xfoo, (2359,2372)], Assignment|Referenced, flowDepth: 4, ret: IncompleteType
                                      briter:0, flowType: IncompleteType, type: never
                                      briter:1, ante:, BranchLabel|Label|Referenced
                                      getTypeAtFlowNode
                                        (in) , BranchLabel|Label|Referenced, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                                        pushFlow(BranchLabel|Label|Referenced)
                                        0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                        1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                        2: , LoopLabel|Label|Referenced|Shared
                                        3: , BranchLabel|Label|Referenced
                                        4: , BranchLabel|Label|Referenced
                                        (dbgiter:0) , BranchLabel|Label|Referenced, flowDepth: 5
                                        getTypeAtFlowBranchLabel
                                          (in) , BranchLabel|Label|Referenced, flowDepth: 5, flowTypeQueryState.getFlowStackIndex(): 4
                                          flowStack
                                            0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                            1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                            2: , LoopLabel|Label|Referenced|Shared
                                            3: , BranchLabel|Label|Referenced
                                            4: , BranchLabel|Label|Referenced
                                          briter:0, ante:[t = obj.xbar, (2419,2432)], Assignment|Referenced
                                          getTypeAtFlowNode
                                            (in) [t = obj.xbar, (2419,2432)], Assignment|Referenced, flowDepth: 5, flowTypeQueryState.getFlowStackIndex(): 4
                                            pushFlow(Assignment|Referenced)
                                            0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                            1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                            2: , LoopLabel|Label|Referenced|Shared
                                            3: , BranchLabel|Label|Referenced
                                            4: , BranchLabel|Label|Referenced
                                            5: [t = obj.xbar, (2419,2432)], Assignment|Referenced
                                            (dbgiter:0) [t = obj.xbar, (2419,2432)], Assignment|Referenced, flowDepth: 6
                                            (dbgiter:1) [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared, flowDepth: 6
                                            getTypeAtFlowCondition
                                              (fc  in) [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared, flowDepth: 6
                                              getTypeAtFlowNode
                                                (in) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 6, flowTypeQueryState.getFlowStackIndex(): 5
                                                pushFlow(FalseCondition|Condition|Referenced|Shared)
                                                0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                                1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                                2: , LoopLabel|Label|Referenced|Shared
                                                3: , BranchLabel|Label|Referenced
                                                4: , BranchLabel|Label|Referenced
                                                5: [t = obj.xbar, (2419,2432)], Assignment|Referenced
                                                6: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                                (dbgiter:0) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 7
                                                getTypeAtFlowCondition
                                                  (fc  in) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 7
                                                  getTypeAtFlowNode
                                                    (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 7, flowTypeQueryState.getFlowStackIndex(): 6
                                                    pushFlow(LoopLabel|Label|Referenced|Shared)
                                                    0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                                    1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                                    2: , LoopLabel|Label|Referenced|Shared
                                                    3: , BranchLabel|Label|Referenced
                                                    4: , BranchLabel|Label|Referenced
                                                    5: [t = obj.xbar, (2419,2432)], Assignment|Referenced
                                                    6: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                                    7: , LoopLabel|Label|Referenced|Shared
                                                    (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 8
                                                    popFlow()->LoopLabel|Label|Referenced|Shared
                                                    (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 7, ret: IncompleteType
                                                  checkExpressionWorker
                                                    node: "foo", [842,848]
                                                    checkExpressionWorker return: "foo", [842,848] -> "foo"
                                                  (fc ) flow.id: 5, asumeTrue:false, nonEvolvingType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>, narrowedType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                                                  (fc out) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 7, ret: IncompleteType
                                                popFlow()->FalseCondition|Condition|Referenced|Shared
                                                (out) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 6, ret: IncompleteType
                                              checkExpressionWorker
                                                node: "bar", [887,893]
                                                checkExpressionWorker return: "bar", [887,893] -> "bar"
                                              (fc ) flow.id: 6, asumeTrue:true, nonEvolvingType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>, narrowedType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                                              (fc out) [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared, flowDepth: 6, ret: IncompleteType
                                            popFlow()->Assignment|Referenced
                                            (out) [t = obj.xbar, (2419,2432)], Assignment|Referenced, flowDepth: 5, ret: IncompleteType
                                          briter:0, flowType: IncompleteType, type: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                                          briter:1, ante:[isBar, (2393,2398)], FalseCondition|Condition|Referenced|Shared
                                          getTypeAtFlowNode
                                            (in) [isBar, (2393,2398)], FalseCondition|Condition|Referenced|Shared, flowDepth: 5, flowTypeQueryState.getFlowStackIndex(): 4
                                            pushFlow(FalseCondition|Condition|Referenced|Shared)
                                            0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                            1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                            2: , LoopLabel|Label|Referenced|Shared
                                            3: , BranchLabel|Label|Referenced
                                            4: , BranchLabel|Label|Referenced
                                            5: [isBar, (2393,2398)], FalseCondition|Condition|Referenced|Shared
                                            (dbgiter:0) [isBar, (2393,2398)], FalseCondition|Condition|Referenced|Shared, flowDepth: 6
                                            getTypeAtFlowCondition
                                              (fc  in) [isBar, (2393,2398)], FalseCondition|Condition|Referenced|Shared, flowDepth: 6
                                              getTypeAtFlowNode
                                                (in) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 6, flowTypeQueryState.getFlowStackIndex(): 5
                                                pushFlow(FalseCondition|Condition|Referenced|Shared)
                                                0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                                1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                                2: , LoopLabel|Label|Referenced|Shared
                                                3: , BranchLabel|Label|Referenced
                                                4: , BranchLabel|Label|Referenced
                                                5: [isBar, (2393,2398)], FalseCondition|Condition|Referenced|Shared
                                                6: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                                (dbgiter:0) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 7
                                                popFlow()->FalseCondition|Condition|Referenced|Shared
                                                (out) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 6, ret: IncompleteType
                                              checkExpressionWorker
                                                node: "bar", [887,893]
                                                checkExpressionWorker return: "bar", [887,893] -> "bar"
                                              (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>, narrowedType: never
                                              (fc out) [isBar, (2393,2398)], FalseCondition|Condition|Referenced|Shared, flowDepth: 6, ret: IncompleteType
                                            popFlow()->FalseCondition|Condition|Referenced|Shared
                                            (out) [isBar, (2393,2398)], FalseCondition|Condition|Referenced|Shared, flowDepth: 5, ret: IncompleteType
                                          briter:1, flowType: IncompleteType, type: never
                                          br/antecedentTypes[0]: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                                          br/antecedentTypes[1]: never
                                          brTmpType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                                          (out) , BranchLabel|Label|Referenced, flowDepth: 5, ret: IncompleteType
                                        popFlow()->BranchLabel|Label|Referenced
                                        (out) , BranchLabel|Label|Referenced, flowDepth: 4, ret: IncompleteType
                                      briter:1, flowType: IncompleteType, type: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                                      br/antecedentTypes[0]: never
                                      br/antecedentTypes[1]: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                                      brTmpType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                                      (out) , BranchLabel|Label|Referenced, flowDepth: 4, ret: IncompleteType
                                    popFlow()->BranchLabel|Label|Referenced
                                    (out) , BranchLabel|Label|Referenced, flowDepth: 3, ret: IncompleteType
                                  getTypeAtFlowLoopLabel, cache.set(11|104|104|55: obj,[2423,2427], Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                                  getTypeAtFlowLoopLabel, flow: , LoopLabel|Label|Referenced|Shared, return: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                                popFlow()->LoopLabel|Label|Referenced|Shared
                                (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 2, ret: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                              checkExpressionWorker
                                node: "foo", [842,848]
                                checkExpressionWorker return: "foo", [842,848] -> "foo"
                              (fc ) flow.id: 5, asumeTrue:false, nonEvolvingType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>, narrowedType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                              (fc out) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 2, ret: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                            popFlow()->FalseCondition|Condition|Referenced|Shared
                            (out) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 1, ret: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                          checkExpressionWorker
                            node: "bar", [887,893]
                            checkExpressionWorker return: "bar", [887,893] -> "bar"
                          (fc ) flow.id: 6, asumeTrue:true, nonEvolvingType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>, narrowedType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                          (fc out) [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1, ret: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                        popFlow()->TrueCondition|Condition|Referenced|Shared
                        (out) [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared, flowDepth: 0, ret: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                      sharedFlowCount: 12, typeAtFlowNode: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                      sharedFlowCount: 12, evolvedType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                      return resultType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                    In getIdentifier(), getFlowTypeOfReference returned Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                    checkExpressionWorker return: obj, [2423,2427] -> Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                  getFlowTypeOfReference
                    reference: obj.xbar
                    declaredType: number
                    TrueCondition|Condition|Referenced|Shared
                    sharedFlowStart(cache): 0
                    getTypeAtFlowNode
                      (in) [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
                      pushFlow(TrueCondition|Condition|Referenced|Shared)
                      0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                      (dbgiter:0) [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1
                      getTypeAtFlowCondition
                        (fc  in) [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1
                        getTypeAtFlowNode
                          (in) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                          pushFlow(FalseCondition|Condition|Referenced|Shared)
                          0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                          1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                          (dbgiter:0) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 2
                          getTypeAtFlowCondition
                            (fc  in) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 2
                            getTypeAtFlowNode
                              (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                              pushFlow(LoopLabel|Label|Referenced|Shared)
                              0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                              1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                              2: , LoopLabel|Label|Referenced|Shared
                              (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 3
                              getTypeAtFlowLoopLabel
                                , LoopLabel|Label|Referenced|Shared
                                getTypeAtFlowLoopLabel, (flowNode)id: 3, key:-1|14|14|55: obj,[2423,2427].xbar
                                getTypeAtFlowLoopLabel, The first antecedent of a loop junction is always the non-looping control
                                getTypeAtFlowNode
                                  (in) [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                                  pushFlow(Assignment|Referenced)
                                  0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                  1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                  2: , LoopLabel|Label|Referenced|Shared
                                  3: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                  (dbgiter:0) [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced, flowDepth: 4
                                  (dbgiter:1) , BranchLabel|Label|Referenced, flowDepth: 4
                                  getTypeAtFlowBranchLabel
                                    (in) , BranchLabel|Label|Referenced, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                                    flowStack
                                      0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                      1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                      2: , LoopLabel|Label|Referenced|Shared
                                      3: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                    adding alias: isBar = obj && obj.kind === "bar", condition: TrueCondition|Condition|Referenced|Shared
                                    briter:0, ante:[obj, (867,871)], FalseCondition|Condition|Referenced
                                    skipping because aliasFlowTF is true but anteTF is false
                                    briter:1, ante:[obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced
                                    getTypeAtFlowNode
                                      (in) [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                                      pushFlow(TrueCondition|Condition|Referenced)
                                      0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                      1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                      2: , LoopLabel|Label|Referenced|Shared
                                      3: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                      4: [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced
                                      (dbgiter:0) [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced, flowDepth: 5
                                      getTypeAtFlowCondition
                                        (fc  in) [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced, flowDepth: 5
                                        getTypeAtFlowNode
                                          (in) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 5, flowTypeQueryState.getFlowStackIndex(): 4
                                          pushFlow(TrueCondition|Condition|Referenced|Shared)
                                          0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                          1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                          2: , LoopLabel|Label|Referenced|Shared
                                          3: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                          4: [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced
                                          5: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                                          (dbgiter:0) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 6
                                          getTypeAtFlowCondition
                                            (fc  in) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 6
                                            getTypeAtFlowNode
                                              (in) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 6, flowTypeQueryState.getFlowStackIndex(): 5
                                              pushFlow(Assignment|Referenced|Shared)
                                              0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                              1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                              2: , LoopLabel|Label|Referenced|Shared
                                              3: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                              4: [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced
                                              5: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                                              6: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                                              (dbgiter:0) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 7
                                              (dbgiter:1) , BranchLabel|Label|Referenced, flowDepth: 7
                                              getTypeAtFlowBranchLabel
                                                (in) , BranchLabel|Label|Referenced, flowDepth: 7, flowTypeQueryState.getFlowStackIndex(): 6
                                                flowStack
                                                  0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                                  1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                                  2: , LoopLabel|Label|Referenced|Shared
                                                  3: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                                  4: [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced
                                                  5: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                                                  6: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                                                adding alias: isFoo = obj && obj.kind === "foo", condition: FalseCondition|Condition|Referenced|Shared
                                                briter:0, ante:[obj, (822,826)], FalseCondition|Condition|Referenced
                                                getTypeAtFlowNode
                                                  (in) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 7, flowTypeQueryState.getFlowStackIndex(): 6
                                                  pushFlow(FalseCondition|Condition|Referenced)
                                                  0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                                  1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                                  2: , LoopLabel|Label|Referenced|Shared
                                                  3: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                                  4: [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced
                                                  5: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                                                  6: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                                                  7: [obj, (822,826)], FalseCondition|Condition|Referenced
                                                  (dbgiter:0) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 8
                                                  getTypeAtFlowCondition
                                                    (fc  in) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 8
                                                    getTypeAtFlowNode
                                                      (in) , Start|Referenced|Shared, flowDepth: 8, flowTypeQueryState.getFlowStackIndex(): 7
                                                      pushFlow(Start|Referenced|Shared)
                                                      0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                                      1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                                      2: , LoopLabel|Label|Referenced|Shared
                                                      3: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                                      4: [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced
                                                      5: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                                                      6: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                                                      7: [obj, (822,826)], FalseCondition|Condition|Referenced
                                                      8: , Start|Referenced|Shared
                                                      (dbgiter:0) , Start|Referenced|Shared, flowDepth: 9
                                                      popFlow()->Start|Referenced|Shared
                                                      (out) , Start|Referenced|Shared, flowDepth: 8, ret: number
                                                    (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: number, narrowedType: number
                                                    (fc out) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 8, ret: number
                                                  popFlow()->FalseCondition|Condition|Referenced
                                                  (out) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 7, ret: number
                                                briter:0, flowType: number, type: number
                                                (out) , BranchLabel|Label|Referenced, flowDepth: 7, ret: number
                                              popFlow()->Assignment|Referenced|Shared
                                              (out) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 6, ret: number
                                            (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: number, narrowedType: number
                                            (fc out) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 6, ret: number
                                          popFlow()->TrueCondition|Condition|Referenced|Shared
                                          (out) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 5, ret: number
                                        (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: number, narrowedType: number
                                        (fc out) [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced, flowDepth: 5, ret: number
                                      popFlow()->TrueCondition|Condition|Referenced
                                      (out) [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced, flowDepth: 4, ret: number
                                    briter:1, flowType: number, type: number
                                    (out) , BranchLabel|Label|Referenced, flowDepth: 4, ret: number
                                  popFlow()->Assignment|Referenced
                                  (out) [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced, flowDepth: 3, ret: number
                                getTypeAtFlowLoopLabel, cache.set(-1|14|14|55: obj,[2423,2427].xbar, number
                                getTypeAtFlowLoopLabel, flow: , LoopLabel|Label|Referenced|Shared, return: number
                              popFlow()->LoopLabel|Label|Referenced|Shared
                              (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 2, ret: number
                            (fc ) flow.id: 5, asumeTrue:false, nonEvolvingType: number, narrowedType: number
                            (fc out) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 2, ret: number
                          popFlow()->FalseCondition|Condition|Referenced|Shared
                          (out) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 1, ret: number
                        (fc ) flow.id: 6, asumeTrue:true, nonEvolvingType: number, narrowedType: number
                        (fc out) [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1, ret: number
                      popFlow()->TrueCondition|Condition|Referenced|Shared
                      (out) [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared, flowDepth: 0, ret: number
                    sharedFlowCount: 6, typeAtFlowNode: number
                    sharedFlowCount: 6, evolvedType: number
                    return resultType: number
                  checkExpressionWorker return: obj.xbar, [2423,2432] -> number
checkSourceElement
  
myDebug=true, myNoCache=false, myDisable=false
myDebug=true, myNoCache=false, myDisable=false
checkSourceElement
  declare type X1Foo = Readonly<{ kind: "foo", xfoo: string, bug: () => number[] }> ;
  checkSourceElement
    Readonly<{ kind: "foo", xfoo: string, bug: () => number[] }>
    checkSourceElement
      { kind: "foo", xfoo: string, bug: () => number[] }
      checkSourceElement
        kind: "foo",
        checkSourceElement
          "foo"
        checkExpressionWorker
          node: "foo", [37,43]
          checkExpressionWorker return: "foo", [37,43] -> "foo"
      checkSourceElement
        xfoo: string,
        checkSourceElement
          string
      checkSourceElement
        bug: () => number[]
        checkSourceElement
          () => number[]
          checkSourceElement
            number[]
            checkSourceElement
              number
checkSourceElement
  declare type X1Bar = Readonly<{ kind: "bar", xbar: number, bug: () => number[] }> ;
  checkSourceElement
    Readonly<{ kind: "bar", xbar: number, bug: () => number[] }>
    checkSourceElement
      { kind: "bar", xbar: number, bug: () => number[] }
      checkSourceElement
        kind: "bar",
        checkSourceElement
          "bar"
        checkExpressionWorker
          node: "bar", [121,127]
          checkExpressionWorker return: "bar", [121,127] -> "bar"
      checkSourceElement
        xbar: number,
        checkSourceElement
          number
      checkSourceElement
        bug: () => number[]
        checkSourceElement
          () => number[]
          checkSourceElement
            number[]
            checkSourceElement
              number
checkSourceElement
  declare type X1Baz = Readonly<{ kind: "baz", xbaz: boolean, bug: () => number[] }>;
  checkSourceElement
    Readonly<{ kind: "baz", xbaz: boolean, bug: () => number[] }>
    checkSourceElement
      { kind: "baz", xbaz: boolean, bug: () => number[] }
      checkSourceElement
        kind: "baz",
        checkSourceElement
          "baz"
        checkExpressionWorker
          node: "baz", [206,212]
          checkExpressionWorker return: "baz", [206,212] -> "baz"
      checkSourceElement
        xbaz: boolean,
        checkSourceElement
          boolean
      checkSourceElement
        bug: () => number[]
        checkSourceElement
          () => number[]
          checkSourceElement
            number[]
            checkSourceElement
              number
checkSourceElement
  declare type X1 = | X1Foo | X1Bar | X1Baz ;
  checkSourceElement
    | X1Foo | X1Bar | X1Baz
    checkSourceElement
      X1Foo
    checkSourceElement
      X1Bar
    checkSourceElement
      X1Baz
checkSourceElement
  declare const obj: undefined | X1;
  checkSourceElement
    obj: undefined | X1
    checkSourceElement
      undefined | X1
      checkSourceElement
        undefined
      checkSourceElement
        X1
checkSourceElement
  declare const ubool:()=>boolean;
  checkSourceElement
    ubool:()=>boolean
    checkSourceElement
      ()=>boolean
      checkSourceElement
        boolean
checkSourceElement
  {
      const isFoo = obj && obj.kind === "foo";
      const isBar = obj && obj.kind === "bar";
      // const isBaz = obj && obj.kind === "baz";
      //const isBug = obj?.bug();
      // if (isFoo) {
      //     const t = obj.foo;
      // } else if (isBar) {
      //     const t = obj.bar;
      // }
      // if (isFoo) {
      //     // check empty blocks work too
      // }
      // if (isBar) {
      //     obj.bar;
      // }
      // if (isBaz) {
      //     const xbaz = obj.baz;
      // }
      // if (isBug) {
      //     obj;
      // }
      // if (isFoo) {
      //     if (isFoo) {
      //         const t = obj.foo;
      //     }
      //     if (isBar) {
      //         const t = obj.bar;
      //     }
      //     if (isBaz) {
      //         const t = obj.baz;
      //     }
      //     if (isBug) {
      //         const t = obj.bug;
      //     }
      // } else {
      //     if (isFoo) {
      //         const t = obj.foo;
      //     }
      //     if (isBar) {
      //         const t = obj.bar;
      //     }
      //     if (isBaz) {
      //         const t = obj.baz;
      //     }
      //     if (isBug) {
      //         const t = obj.bug;
      //     }
      // }
      // if (!obj || obj.kind!=="foo") {
      //     // if (isFoo) {
      //     //     const t = obj.foo;
      //     // }
      //     // if (isBar) {
      //     //     const t = obj.bar;
      //     // }
      //     // if (isBaz) {
      //     //     const t = obj.baz;
      //     // }
      //     if (isBug) {
      //         const t = obj.bug;
      //     }
      // }        
      while (ubool()) { 
          if (isFoo) {
              const s = obj.xfoo;
          } else if (isBar) {
              const t = obj.xbar;
          }
      }
  }
  checkSourceElement
    const isFoo = obj && obj.kind === "foo";
    checkSourceElement
      isFoo = obj && obj.kind === "foo"
      checkExpressionWorker
        node: obj && obj.kind === "foo", [822,848]
        checkExpressionWorker
          node: obj, [822,826]
          getFlowTypeOfReference
            reference: obj
            declaredType: X1 | undefined
            Start|Referenced|Shared
            sharedFlowStart(cache): 0
            getTypeAtFlowNode
              (in) , Start|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
              pushFlow(Start|Referenced|Shared)
              0: , Start|Referenced|Shared
              (dbgiter:0) , Start|Referenced|Shared, flowDepth: 1
              popFlow()->Start|Referenced|Shared
              (out) , Start|Referenced|Shared, flowDepth: 0, ret: X1 | undefined
            sharedFlowCount: 1, typeAtFlowNode: X1 | undefined
            sharedFlowCount: 1, evolvedType: X1 | undefined
            return resultType: X1 | undefined
          In getIdentifier(), getFlowTypeOfReference returned X1 | undefined
          checkExpressionWorker return: obj, [822,826] -> X1 | undefined
        checkExpressionWorker
          node: obj, [822,826]
          getFlowTypeOfReference
            reference: obj
            declaredType: X1 | undefined
            Start|Referenced|Shared
            sharedFlowStart(cache): 0
            getTypeAtFlowNode
              (in) , Start|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
              pushFlow(Start|Referenced|Shared)
              0: , Start|Referenced|Shared
              (dbgiter:0) , Start|Referenced|Shared, flowDepth: 1
              popFlow()->Start|Referenced|Shared
              (out) , Start|Referenced|Shared, flowDepth: 0, ret: X1 | undefined
            sharedFlowCount: 1, typeAtFlowNode: X1 | undefined
            sharedFlowCount: 1, evolvedType: X1 | undefined
            return resultType: X1 | undefined
          In getIdentifier(), getFlowTypeOfReference returned X1 | undefined
          checkExpressionWorker return: obj, [822,826] -> X1 | undefined
        checkExpressionWorker
          node: obj.kind, [829,838]
          checkExpressionWorker
            node: obj, [829,833]
            getFlowTypeOfReference
              reference: obj
              declaredType: X1 | undefined
              TrueCondition|Condition|Referenced|Shared
              sharedFlowStart(cache): 0
              getTypeAtFlowNode
                (in) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
                pushFlow(TrueCondition|Condition|Referenced|Shared)
                0: [obj, (822,826)], TrueCondition|Condition|Referenced|Shared
                (dbgiter:0) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1
                getTypeAtFlowCondition
                  (fc  in) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1
                  getTypeAtFlowNode
                    (in) , Start|Referenced|Shared, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                    pushFlow(Start|Referenced|Shared)
                    0: [obj, (822,826)], TrueCondition|Condition|Referenced|Shared
                    1: , Start|Referenced|Shared
                    (dbgiter:0) , Start|Referenced|Shared, flowDepth: 2
                    popFlow()->Start|Referenced|Shared
                    (out) , Start|Referenced|Shared, flowDepth: 1, ret: X1 | undefined
                  (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: X1 | undefined, narrowedType: X1
                  (fc out) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1, ret: X1
                popFlow()->TrueCondition|Condition|Referenced|Shared
                (out) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 0, ret: X1
              sharedFlowCount: 2, typeAtFlowNode: X1
              sharedFlowCount: 2, evolvedType: X1
              return resultType: X1
            In getIdentifier(), getFlowTypeOfReference returned X1
            checkExpressionWorker return: obj, [829,833] -> X1
          getFlowTypeOfReference
            reference: obj.kind
            declaredType: "foo" | "bar" | "baz"
            TrueCondition|Condition|Referenced|Shared
            sharedFlowStart(cache): 0
            getTypeAtFlowNode
              (in) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
              pushFlow(TrueCondition|Condition|Referenced|Shared)
              0: [obj, (822,826)], TrueCondition|Condition|Referenced|Shared
              (dbgiter:0) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1
              getTypeAtFlowCondition
                (fc  in) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1
                getTypeAtFlowNode
                  (in) , Start|Referenced|Shared, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                  pushFlow(Start|Referenced|Shared)
                  0: [obj, (822,826)], TrueCondition|Condition|Referenced|Shared
                  1: , Start|Referenced|Shared
                  (dbgiter:0) , Start|Referenced|Shared, flowDepth: 2
                  popFlow()->Start|Referenced|Shared
                  (out) , Start|Referenced|Shared, flowDepth: 1, ret: "foo" | "bar" | "baz"
                (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: "foo" | "bar" | "baz", narrowedType: "foo" | "bar" | "baz"
                (fc out) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1, ret: "foo" | "bar" | "baz"
              popFlow()->TrueCondition|Condition|Referenced|Shared
              (out) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 0, ret: "foo" | "bar" | "baz"
            sharedFlowCount: 2, typeAtFlowNode: "foo" | "bar" | "baz"
            sharedFlowCount: 2, evolvedType: "foo" | "bar" | "baz"
            return resultType: "foo" | "bar" | "baz"
          checkExpressionWorker return: obj.kind, [829,838] -> "foo" | "bar" | "baz"
        checkExpressionWorker
          node: "foo", [842,848]
          checkExpressionWorker return: "foo", [842,848] -> "foo"
        checkExpressionWorker return: obj && obj.kind === "foo", [822,848] -> boolean | undefined
  checkSourceElement
    const isBar = obj && obj.kind === "bar";
    checkSourceElement
      isBar = obj && obj.kind === "bar"
      checkExpressionWorker
        node: obj && obj.kind === "bar", [867,893]
        checkExpressionWorker
          node: obj, [867,871]
          getFlowTypeOfReference
            reference: obj
            declaredType: X1 | undefined
            Assignment|Referenced|Shared
            sharedFlowStart(cache): 0
            getTypeAtFlowNode
              (in) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
              pushFlow(Assignment|Referenced|Shared)
              0: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
              (dbgiter:0) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 1
              (dbgiter:1) , BranchLabel|Label|Referenced, flowDepth: 1
              getTypeAtFlowBranchLabel
                (in) , BranchLabel|Label|Referenced, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                flowStack
                  0: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                briter:0, ante:[obj, (822,826)], FalseCondition|Condition|Referenced
                getTypeAtFlowNode
                  (in) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                  pushFlow(FalseCondition|Condition|Referenced)
                  0: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                  1: [obj, (822,826)], FalseCondition|Condition|Referenced
                  (dbgiter:0) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 2
                  getTypeAtFlowCondition
                    (fc  in) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 2
                    getTypeAtFlowNode
                      (in) , Start|Referenced|Shared, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                      pushFlow(Start|Referenced|Shared)
                      0: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                      1: [obj, (822,826)], FalseCondition|Condition|Referenced
                      2: , Start|Referenced|Shared
                      (dbgiter:0) , Start|Referenced|Shared, flowDepth: 3
                      popFlow()->Start|Referenced|Shared
                      (out) , Start|Referenced|Shared, flowDepth: 2, ret: X1 | undefined
                    (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: X1 | undefined, narrowedType: undefined
                    (fc out) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 2, ret: undefined
                  popFlow()->FalseCondition|Condition|Referenced
                  (out) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 1, ret: undefined
                briter:0, flowType: undefined, type: undefined
                briter:1, ante:[obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced
                getTypeAtFlowNode
                  (in) [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                  pushFlow(TrueCondition|Condition|Referenced)
                  0: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                  1: [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced
                  (dbgiter:0) [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced, flowDepth: 2
                  getTypeAtFlowCondition
                    (fc  in) [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced, flowDepth: 2
                    getTypeAtFlowNode
                      (in) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                      pushFlow(TrueCondition|Condition|Referenced|Shared)
                      0: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                      1: [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced
                      2: [obj, (822,826)], TrueCondition|Condition|Referenced|Shared
                      (dbgiter:0) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 3
                      getTypeAtFlowCondition
                        (fc  in) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 3
                        getTypeAtFlowNode
                          (in) , Start|Referenced|Shared, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                          pushFlow(Start|Referenced|Shared)
                          0: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                          1: [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced
                          2: [obj, (822,826)], TrueCondition|Condition|Referenced|Shared
                          3: , Start|Referenced|Shared
                          (dbgiter:0) , Start|Referenced|Shared, flowDepth: 4
                          popFlow()->Start|Referenced|Shared
                          (out) , Start|Referenced|Shared, flowDepth: 3, ret: X1 | undefined
                        (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: X1 | undefined, narrowedType: X1
                        (fc out) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 3, ret: X1
                      popFlow()->TrueCondition|Condition|Referenced|Shared
                      (out) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 2, ret: X1
                    checkExpressionWorker
                      node: "foo", [842,848]
                      checkExpressionWorker return: "foo", [842,848] -> "foo"
                    (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: X1, narrowedType: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                    (fc out) [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced, flowDepth: 2, ret: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                  popFlow()->TrueCondition|Condition|Referenced
                  (out) [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced, flowDepth: 1, ret: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                briter:1, flowType: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>, type: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                briter:2, ante:[obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced
                getTypeAtFlowNode
                  (in) [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                  pushFlow(FalseCondition|Condition|Referenced)
                  0: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                  1: [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced
                  (dbgiter:0) [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced, flowDepth: 2
                  getTypeAtFlowCondition
                    (fc  in) [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced, flowDepth: 2
                    getTypeAtFlowNode
                      (in) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                      pushFlow(TrueCondition|Condition|Referenced|Shared)
                      0: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                      1: [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced
                      2: [obj, (822,826)], TrueCondition|Condition|Referenced|Shared
                      (dbgiter:0) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 3
                      popFlow()->TrueCondition|Condition|Referenced|Shared
                      (out) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 2, ret: X1
                    checkExpressionWorker
                      node: "foo", [842,848]
                      checkExpressionWorker return: "foo", [842,848] -> "foo"
                    (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: X1, narrowedType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>
                    (fc out) [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced, flowDepth: 2, ret: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>
                  popFlow()->FalseCondition|Condition|Referenced
                  (out) [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced, flowDepth: 1, ret: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>
                briter:2, flowType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>, type: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>
                br/antecedentTypes[0]: undefined
                br/antecedentTypes[1]: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                br/antecedentTypes[2]: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>
                brTmpType: X1 | undefined
                (out) , BranchLabel|Label|Referenced, flowDepth: 1, ret: X1 | undefined
              popFlow()->Assignment|Referenced|Shared
              (out) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 0, ret: X1 | undefined
            sharedFlowCount: 3, typeAtFlowNode: X1 | undefined
            sharedFlowCount: 3, evolvedType: X1 | undefined
            return resultType: X1 | undefined
          In getIdentifier(), getFlowTypeOfReference returned X1 | undefined
          checkExpressionWorker return: obj, [867,871] -> X1 | undefined
        checkExpressionWorker
          node: obj, [867,871]
          getFlowTypeOfReference
            reference: obj
            declaredType: X1 | undefined
            Assignment|Referenced|Shared
            sharedFlowStart(cache): 0
            getTypeAtFlowNode
              (in) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
              pushFlow(Assignment|Referenced|Shared)
              0: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
              (dbgiter:0) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 1
              (dbgiter:1) , BranchLabel|Label|Referenced, flowDepth: 1
              getTypeAtFlowBranchLabel
                (in) , BranchLabel|Label|Referenced, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                flowStack
                  0: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                briter:0, ante:[obj, (822,826)], FalseCondition|Condition|Referenced
                getTypeAtFlowNode
                  (in) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                  pushFlow(FalseCondition|Condition|Referenced)
                  0: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                  1: [obj, (822,826)], FalseCondition|Condition|Referenced
                  (dbgiter:0) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 2
                  getTypeAtFlowCondition
                    (fc  in) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 2
                    getTypeAtFlowNode
                      (in) , Start|Referenced|Shared, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                      pushFlow(Start|Referenced|Shared)
                      0: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                      1: [obj, (822,826)], FalseCondition|Condition|Referenced
                      2: , Start|Referenced|Shared
                      (dbgiter:0) , Start|Referenced|Shared, flowDepth: 3
                      popFlow()->Start|Referenced|Shared
                      (out) , Start|Referenced|Shared, flowDepth: 2, ret: X1 | undefined
                    (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: X1 | undefined, narrowedType: undefined
                    (fc out) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 2, ret: undefined
                  popFlow()->FalseCondition|Condition|Referenced
                  (out) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 1, ret: undefined
                briter:0, flowType: undefined, type: undefined
                briter:1, ante:[obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced
                getTypeAtFlowNode
                  (in) [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                  pushFlow(TrueCondition|Condition|Referenced)
                  0: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                  1: [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced
                  (dbgiter:0) [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced, flowDepth: 2
                  getTypeAtFlowCondition
                    (fc  in) [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced, flowDepth: 2
                    getTypeAtFlowNode
                      (in) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                      pushFlow(TrueCondition|Condition|Referenced|Shared)
                      0: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                      1: [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced
                      2: [obj, (822,826)], TrueCondition|Condition|Referenced|Shared
                      (dbgiter:0) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 3
                      getTypeAtFlowCondition
                        (fc  in) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 3
                        getTypeAtFlowNode
                          (in) , Start|Referenced|Shared, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                          pushFlow(Start|Referenced|Shared)
                          0: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                          1: [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced
                          2: [obj, (822,826)], TrueCondition|Condition|Referenced|Shared
                          3: , Start|Referenced|Shared
                          (dbgiter:0) , Start|Referenced|Shared, flowDepth: 4
                          popFlow()->Start|Referenced|Shared
                          (out) , Start|Referenced|Shared, flowDepth: 3, ret: X1 | undefined
                        (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: X1 | undefined, narrowedType: X1
                        (fc out) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 3, ret: X1
                      popFlow()->TrueCondition|Condition|Referenced|Shared
                      (out) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 2, ret: X1
                    checkExpressionWorker
                      node: "foo", [842,848]
                      checkExpressionWorker return: "foo", [842,848] -> "foo"
                    (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: X1, narrowedType: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                    (fc out) [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced, flowDepth: 2, ret: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                  popFlow()->TrueCondition|Condition|Referenced
                  (out) [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced, flowDepth: 1, ret: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                briter:1, flowType: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>, type: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                briter:2, ante:[obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced
                getTypeAtFlowNode
                  (in) [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                  pushFlow(FalseCondition|Condition|Referenced)
                  0: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                  1: [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced
                  (dbgiter:0) [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced, flowDepth: 2
                  getTypeAtFlowCondition
                    (fc  in) [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced, flowDepth: 2
                    getTypeAtFlowNode
                      (in) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                      pushFlow(TrueCondition|Condition|Referenced|Shared)
                      0: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                      1: [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced
                      2: [obj, (822,826)], TrueCondition|Condition|Referenced|Shared
                      (dbgiter:0) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 3
                      popFlow()->TrueCondition|Condition|Referenced|Shared
                      (out) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 2, ret: X1
                    checkExpressionWorker
                      node: "foo", [842,848]
                      checkExpressionWorker return: "foo", [842,848] -> "foo"
                    (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: X1, narrowedType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>
                    (fc out) [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced, flowDepth: 2, ret: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>
                  popFlow()->FalseCondition|Condition|Referenced
                  (out) [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced, flowDepth: 1, ret: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>
                briter:2, flowType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>, type: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>
                br/antecedentTypes[0]: undefined
                br/antecedentTypes[1]: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                br/antecedentTypes[2]: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>
                brTmpType: X1 | undefined
                (out) , BranchLabel|Label|Referenced, flowDepth: 1, ret: X1 | undefined
              popFlow()->Assignment|Referenced|Shared
              (out) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 0, ret: X1 | undefined
            sharedFlowCount: 3, typeAtFlowNode: X1 | undefined
            sharedFlowCount: 3, evolvedType: X1 | undefined
            return resultType: X1 | undefined
          In getIdentifier(), getFlowTypeOfReference returned X1 | undefined
          checkExpressionWorker return: obj, [867,871] -> X1 | undefined
        checkExpressionWorker
          node: obj.kind, [874,883]
          checkExpressionWorker
            node: obj, [874,878]
            getFlowTypeOfReference
              reference: obj
              declaredType: X1 | undefined
              TrueCondition|Condition|Referenced|Shared
              sharedFlowStart(cache): 0
              getTypeAtFlowNode
                (in) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
                pushFlow(TrueCondition|Condition|Referenced|Shared)
                0: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                (dbgiter:0) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1
                getTypeAtFlowCondition
                  (fc  in) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1
                  getTypeAtFlowNode
                    (in) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                    pushFlow(Assignment|Referenced|Shared)
                    0: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                    1: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                    (dbgiter:0) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 2
                    (dbgiter:1) , BranchLabel|Label|Referenced, flowDepth: 2
                    getTypeAtFlowBranchLabel
                      (in) , BranchLabel|Label|Referenced, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                      flowStack
                        0: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                        1: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                      briter:0, ante:[obj, (822,826)], FalseCondition|Condition|Referenced
                      getTypeAtFlowNode
                        (in) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                        pushFlow(FalseCondition|Condition|Referenced)
                        0: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                        1: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                        2: [obj, (822,826)], FalseCondition|Condition|Referenced
                        (dbgiter:0) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 3
                        getTypeAtFlowCondition
                          (fc  in) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 3
                          getTypeAtFlowNode
                            (in) , Start|Referenced|Shared, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                            pushFlow(Start|Referenced|Shared)
                            0: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                            1: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                            2: [obj, (822,826)], FalseCondition|Condition|Referenced
                            3: , Start|Referenced|Shared
                            (dbgiter:0) , Start|Referenced|Shared, flowDepth: 4
                            popFlow()->Start|Referenced|Shared
                            (out) , Start|Referenced|Shared, flowDepth: 3, ret: X1 | undefined
                          (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: X1 | undefined, narrowedType: undefined
                          (fc out) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 3, ret: undefined
                        popFlow()->FalseCondition|Condition|Referenced
                        (out) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 2, ret: undefined
                      briter:0, flowType: undefined, type: undefined
                      briter:1, ante:[obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced
                      getTypeAtFlowNode
                        (in) [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                        pushFlow(TrueCondition|Condition|Referenced)
                        0: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                        1: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                        2: [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced
                        (dbgiter:0) [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced, flowDepth: 3
                        getTypeAtFlowCondition
                          (fc  in) [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced, flowDepth: 3
                          getTypeAtFlowNode
                            (in) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                            pushFlow(TrueCondition|Condition|Referenced|Shared)
                            0: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                            1: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                            2: [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced
                            3: [obj, (822,826)], TrueCondition|Condition|Referenced|Shared
                            (dbgiter:0) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 4
                            getTypeAtFlowCondition
                              (fc  in) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 4
                              getTypeAtFlowNode
                                (in) , Start|Referenced|Shared, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                                pushFlow(Start|Referenced|Shared)
                                0: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                                1: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                                2: [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced
                                3: [obj, (822,826)], TrueCondition|Condition|Referenced|Shared
                                4: , Start|Referenced|Shared
                                (dbgiter:0) , Start|Referenced|Shared, flowDepth: 5
                                popFlow()->Start|Referenced|Shared
                                (out) , Start|Referenced|Shared, flowDepth: 4, ret: X1 | undefined
                              (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: X1 | undefined, narrowedType: X1
                              (fc out) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 4, ret: X1
                            popFlow()->TrueCondition|Condition|Referenced|Shared
                            (out) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 3, ret: X1
                          checkExpressionWorker
                            node: "foo", [842,848]
                            checkExpressionWorker return: "foo", [842,848] -> "foo"
                          (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: X1, narrowedType: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                          (fc out) [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced, flowDepth: 3, ret: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                        popFlow()->TrueCondition|Condition|Referenced
                        (out) [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced, flowDepth: 2, ret: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                      briter:1, flowType: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>, type: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                      briter:2, ante:[obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced
                      getTypeAtFlowNode
                        (in) [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                        pushFlow(FalseCondition|Condition|Referenced)
                        0: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                        1: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                        2: [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced
                        (dbgiter:0) [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced, flowDepth: 3
                        getTypeAtFlowCondition
                          (fc  in) [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced, flowDepth: 3
                          getTypeAtFlowNode
                            (in) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                            pushFlow(TrueCondition|Condition|Referenced|Shared)
                            0: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                            1: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                            2: [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced
                            3: [obj, (822,826)], TrueCondition|Condition|Referenced|Shared
                            (dbgiter:0) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 4
                            popFlow()->TrueCondition|Condition|Referenced|Shared
                            (out) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 3, ret: X1
                          checkExpressionWorker
                            node: "foo", [842,848]
                            checkExpressionWorker return: "foo", [842,848] -> "foo"
                          (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: X1, narrowedType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>
                          (fc out) [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced, flowDepth: 3, ret: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>
                        popFlow()->FalseCondition|Condition|Referenced
                        (out) [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced, flowDepth: 2, ret: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>
                      briter:2, flowType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>, type: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>
                      br/antecedentTypes[0]: undefined
                      br/antecedentTypes[1]: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                      br/antecedentTypes[2]: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>
                      brTmpType: X1 | undefined
                      (out) , BranchLabel|Label|Referenced, flowDepth: 2, ret: X1 | undefined
                    popFlow()->Assignment|Referenced|Shared
                    (out) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 1, ret: X1 | undefined
                  (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: X1 | undefined, narrowedType: X1
                  (fc out) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1, ret: X1
                popFlow()->TrueCondition|Condition|Referenced|Shared
                (out) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 0, ret: X1
              sharedFlowCount: 4, typeAtFlowNode: X1
              sharedFlowCount: 4, evolvedType: X1
              return resultType: X1
            In getIdentifier(), getFlowTypeOfReference returned X1
            checkExpressionWorker return: obj, [874,878] -> X1
          getFlowTypeOfReference
            reference: obj.kind
            declaredType: "foo" | "bar" | "baz"
            TrueCondition|Condition|Referenced|Shared
            sharedFlowStart(cache): 0
            getTypeAtFlowNode
              (in) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
              pushFlow(TrueCondition|Condition|Referenced|Shared)
              0: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
              (dbgiter:0) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1
              getTypeAtFlowCondition
                (fc  in) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1
                getTypeAtFlowNode
                  (in) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                  pushFlow(Assignment|Referenced|Shared)
                  0: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                  1: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                  (dbgiter:0) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 2
                  (dbgiter:1) , BranchLabel|Label|Referenced, flowDepth: 2
                  getTypeAtFlowBranchLabel
                    (in) , BranchLabel|Label|Referenced, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                    flowStack
                      0: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                      1: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                    briter:0, ante:[obj, (822,826)], FalseCondition|Condition|Referenced
                    getTypeAtFlowNode
                      (in) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                      pushFlow(FalseCondition|Condition|Referenced)
                      0: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                      1: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                      2: [obj, (822,826)], FalseCondition|Condition|Referenced
                      (dbgiter:0) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 3
                      getTypeAtFlowCondition
                        (fc  in) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 3
                        getTypeAtFlowNode
                          (in) , Start|Referenced|Shared, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                          pushFlow(Start|Referenced|Shared)
                          0: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                          1: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                          2: [obj, (822,826)], FalseCondition|Condition|Referenced
                          3: , Start|Referenced|Shared
                          (dbgiter:0) , Start|Referenced|Shared, flowDepth: 4
                          popFlow()->Start|Referenced|Shared
                          (out) , Start|Referenced|Shared, flowDepth: 3, ret: "foo" | "bar" | "baz"
                        (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: "foo" | "bar" | "baz", narrowedType: "foo" | "bar" | "baz"
                        (fc out) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 3, ret: "foo" | "bar" | "baz"
                      popFlow()->FalseCondition|Condition|Referenced
                      (out) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 2, ret: "foo" | "bar" | "baz"
                    briter:0, flowType: "foo" | "bar" | "baz", type: "foo" | "bar" | "baz"
                    (out) , BranchLabel|Label|Referenced, flowDepth: 2, ret: "foo" | "bar" | "baz"
                  popFlow()->Assignment|Referenced|Shared
                  (out) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 1, ret: "foo" | "bar" | "baz"
                (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: "foo" | "bar" | "baz", narrowedType: "foo" | "bar" | "baz"
                (fc out) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1, ret: "foo" | "bar" | "baz"
              popFlow()->TrueCondition|Condition|Referenced|Shared
              (out) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 0, ret: "foo" | "bar" | "baz"
            sharedFlowCount: 3, typeAtFlowNode: "foo" | "bar" | "baz"
            sharedFlowCount: 3, evolvedType: "foo" | "bar" | "baz"
            return resultType: "foo" | "bar" | "baz"
          checkExpressionWorker return: obj.kind, [874,883] -> "foo" | "bar" | "baz"
        checkExpressionWorker
          node: "bar", [887,893]
          checkExpressionWorker return: "bar", [887,893] -> "bar"
        checkExpressionWorker return: obj && obj.kind === "bar", [867,893] -> boolean | undefined
  checkSourceElement
    while (ubool()) { 
            if (isFoo) {
                const s = obj.xfoo;
            } else if (isBar) {
                const t = obj.xbar;
            }
        }
    checkExpressionWorker
      node: ubool(), [2309,2316]
      checkExpressionWorker
        node: ubool, [2309,2314]
        getFlowTypeOfReference
          reference: ubool
          declaredType: () => boolean
          LoopLabel|Label|Referenced|Shared
          sharedFlowStart(cache): 0
          getTypeAtFlowNode
            (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
            pushFlow(LoopLabel|Label|Referenced|Shared)
            0: , LoopLabel|Label|Referenced|Shared
            (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 1
            getTypeAtFlowLoopLabel
              , LoopLabel|Label|Referenced|Shared
              getTypeAtFlowLoopLabel, (flowNode)id: 3, key:11|105|105|49: ubool,[2309,2314]
              getTypeAtFlowLoopLabel, The first antecedent of a loop junction is always the non-looping control
              getTypeAtFlowNode
                (in) [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                pushFlow(Assignment|Referenced)
                0: , LoopLabel|Label|Referenced|Shared
                1: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                (dbgiter:0) [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced, flowDepth: 2
                (dbgiter:1) , BranchLabel|Label|Referenced, flowDepth: 2
                getTypeAtFlowBranchLabel
                  (in) , BranchLabel|Label|Referenced, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                  flowStack
                    0: , LoopLabel|Label|Referenced|Shared
                    1: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                  briter:0, ante:[obj, (867,871)], FalseCondition|Condition|Referenced
                  getTypeAtFlowNode
                    (in) [obj, (867,871)], FalseCondition|Condition|Referenced, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                    pushFlow(FalseCondition|Condition|Referenced)
                    0: , LoopLabel|Label|Referenced|Shared
                    1: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                    2: [obj, (867,871)], FalseCondition|Condition|Referenced
                    (dbgiter:0) [obj, (867,871)], FalseCondition|Condition|Referenced, flowDepth: 3
                    getTypeAtFlowCondition
                      (fc  in) [obj, (867,871)], FalseCondition|Condition|Referenced, flowDepth: 3
                      getTypeAtFlowNode
                        (in) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                        pushFlow(Assignment|Referenced|Shared)
                        0: , LoopLabel|Label|Referenced|Shared
                        1: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                        2: [obj, (867,871)], FalseCondition|Condition|Referenced
                        3: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                        (dbgiter:0) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 4
                        (dbgiter:1) , BranchLabel|Label|Referenced, flowDepth: 4
                        getTypeAtFlowBranchLabel
                          (in) , BranchLabel|Label|Referenced, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                          flowStack
                            0: , LoopLabel|Label|Referenced|Shared
                            1: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                            2: [obj, (867,871)], FalseCondition|Condition|Referenced
                            3: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                          briter:0, ante:[obj, (822,826)], FalseCondition|Condition|Referenced
                          getTypeAtFlowNode
                            (in) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                            pushFlow(FalseCondition|Condition|Referenced)
                            0: , LoopLabel|Label|Referenced|Shared
                            1: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                            2: [obj, (867,871)], FalseCondition|Condition|Referenced
                            3: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                            4: [obj, (822,826)], FalseCondition|Condition|Referenced
                            (dbgiter:0) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 5
                            getTypeAtFlowCondition
                              (fc  in) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 5
                              getTypeAtFlowNode
                                (in) , Start|Referenced|Shared, flowDepth: 5, flowTypeQueryState.getFlowStackIndex(): 4
                                pushFlow(Start|Referenced|Shared)
                                0: , LoopLabel|Label|Referenced|Shared
                                1: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                2: [obj, (867,871)], FalseCondition|Condition|Referenced
                                3: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                                4: [obj, (822,826)], FalseCondition|Condition|Referenced
                                5: , Start|Referenced|Shared
                                (dbgiter:0) , Start|Referenced|Shared, flowDepth: 6
                                popFlow()->Start|Referenced|Shared
                                (out) , Start|Referenced|Shared, flowDepth: 5, ret: () => boolean
                              (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: () => boolean, narrowedType: () => boolean
                              (fc out) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 5, ret: () => boolean
                            popFlow()->FalseCondition|Condition|Referenced
                            (out) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 4, ret: () => boolean
                          briter:0, flowType: () => boolean, type: () => boolean
                          (out) , BranchLabel|Label|Referenced, flowDepth: 4, ret: () => boolean
                        popFlow()->Assignment|Referenced|Shared
                        (out) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 3, ret: () => boolean
                      (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: () => boolean, narrowedType: () => boolean
                      (fc out) [obj, (867,871)], FalseCondition|Condition|Referenced, flowDepth: 3, ret: () => boolean
                    popFlow()->FalseCondition|Condition|Referenced
                    (out) [obj, (867,871)], FalseCondition|Condition|Referenced, flowDepth: 2, ret: () => boolean
                  briter:0, flowType: () => boolean, type: () => boolean
                  (out) , BranchLabel|Label|Referenced, flowDepth: 2, ret: () => boolean
                popFlow()->Assignment|Referenced
                (out) [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced, flowDepth: 1, ret: () => boolean
              getTypeAtFlowLoopLabel, cache.set(11|105|105|49: ubool,[2309,2314], () => boolean
              getTypeAtFlowLoopLabel, flow: , LoopLabel|Label|Referenced|Shared, return: () => boolean
            popFlow()->LoopLabel|Label|Referenced|Shared
            (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 0, ret: () => boolean
          sharedFlowCount: 3, typeAtFlowNode: () => boolean
          sharedFlowCount: 3, evolvedType: () => boolean
          return resultType: () => boolean
        In getIdentifier(), getFlowTypeOfReference returned () => boolean
        checkExpressionWorker return: ubool, [2309,2314] -> () => boolean
      checkExpressionWorker return: ubool(), [2309,2316] -> boolean
    checkSourceElement
      { 
              if (isFoo) {
                  const s = obj.xfoo;
              } else if (isBar) {
                  const t = obj.xbar;
              }
          }
      checkSourceElement
        if (isFoo) {
                    const s = obj.xfoo;
                } else if (isBar) {
                    const t = obj.xbar;
                }
        checkExpressionWorker
          node: isFoo, [2333,2338]
          getFlowTypeOfReference
            reference: isFoo
            declaredType: boolean | undefined
            LoopLabel|Label|Referenced|Shared
            sharedFlowStart(cache): 0
            getTypeAtFlowNode
              (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
              pushFlow(LoopLabel|Label|Referenced|Shared)
              0: , LoopLabel|Label|Referenced|Shared
              (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 1
              getTypeAtFlowLoopLabel
                , LoopLabel|Label|Referenced|Shared
                getTypeAtFlowLoopLabel, (flowNode)id: 3, key:11|116|116|50: isFoo,[2333,2338]
                getTypeAtFlowLoopLabel, The first antecedent of a loop junction is always the non-looping control
                getTypeAtFlowNode
                  (in) [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                  pushFlow(Assignment|Referenced)
                  0: , LoopLabel|Label|Referenced|Shared
                  1: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                  (dbgiter:0) [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced, flowDepth: 2
                  (dbgiter:1) , BranchLabel|Label|Referenced, flowDepth: 2
                  getTypeAtFlowBranchLabel
                    (in) , BranchLabel|Label|Referenced, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                    flowStack
                      0: , LoopLabel|Label|Referenced|Shared
                      1: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                    briter:0, ante:[obj, (867,871)], FalseCondition|Condition|Referenced
                    getTypeAtFlowNode
                      (in) [obj, (867,871)], FalseCondition|Condition|Referenced, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                      pushFlow(FalseCondition|Condition|Referenced)
                      0: , LoopLabel|Label|Referenced|Shared
                      1: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                      2: [obj, (867,871)], FalseCondition|Condition|Referenced
                      (dbgiter:0) [obj, (867,871)], FalseCondition|Condition|Referenced, flowDepth: 3
                      getTypeAtFlowCondition
                        (fc  in) [obj, (867,871)], FalseCondition|Condition|Referenced, flowDepth: 3
                        getTypeAtFlowNode
                          (in) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                          pushFlow(Assignment|Referenced|Shared)
                          0: , LoopLabel|Label|Referenced|Shared
                          1: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                          2: [obj, (867,871)], FalseCondition|Condition|Referenced
                          3: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                          (dbgiter:0) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 4
                          popFlow()->Assignment|Referenced|Shared
                          (out) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 3, ret: boolean | undefined
                        (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: boolean | undefined, narrowedType: boolean | undefined
                        (fc out) [obj, (867,871)], FalseCondition|Condition|Referenced, flowDepth: 3, ret: boolean | undefined
                      popFlow()->FalseCondition|Condition|Referenced
                      (out) [obj, (867,871)], FalseCondition|Condition|Referenced, flowDepth: 2, ret: boolean | undefined
                    briter:0, flowType: boolean | undefined, type: boolean | undefined
                    (out) , BranchLabel|Label|Referenced, flowDepth: 2, ret: boolean | undefined
                  popFlow()->Assignment|Referenced
                  (out) [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced, flowDepth: 1, ret: boolean | undefined
                getTypeAtFlowLoopLabel, cache.set(11|116|116|50: isFoo,[2333,2338], boolean | undefined
                getTypeAtFlowLoopLabel, flow: , LoopLabel|Label|Referenced|Shared, return: boolean | undefined
              popFlow()->LoopLabel|Label|Referenced|Shared
              (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 0, ret: boolean | undefined
            sharedFlowCount: 2, typeAtFlowNode: boolean | undefined
            sharedFlowCount: 2, evolvedType: boolean | undefined
            return resultType: boolean | undefined
          In getIdentifier(), getFlowTypeOfReference returned boolean | undefined
          checkExpressionWorker return: isFoo, [2333,2338] -> boolean | undefined
        checkExpressionWorker
          node: isFoo, [2333,2338]
          getFlowTypeOfReference
            reference: isFoo
            declaredType: boolean | undefined
            LoopLabel|Label|Referenced|Shared
            sharedFlowStart(cache): 0
            getTypeAtFlowNode
              (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
              pushFlow(LoopLabel|Label|Referenced|Shared)
              0: , LoopLabel|Label|Referenced|Shared
              (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 1
              getTypeAtFlowLoopLabel
                , LoopLabel|Label|Referenced|Shared
                getTypeAtFlowLoopLabel, (flowNode)id: 3, key:11|116|116|50: isFoo,[2333,2338]
                getTypeAtFlowLoopLabel, cached
                getTypeAtFlowLoopLabel, flow: , LoopLabel|Label|Referenced|Shared, return: boolean | undefined
              popFlow()->LoopLabel|Label|Referenced|Shared
              (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 0, ret: boolean | undefined
            sharedFlowCount: 1, typeAtFlowNode: boolean | undefined
            sharedFlowCount: 1, evolvedType: boolean | undefined
            return resultType: boolean | undefined
          In getIdentifier(), getFlowTypeOfReference returned boolean | undefined
          checkExpressionWorker return: isFoo, [2333,2338] -> boolean | undefined
        checkSourceElement
          {
                      const s = obj.xfoo;
                  }
          checkSourceElement
            const s = obj.xfoo;
            checkSourceElement
              s = obj.xfoo
              checkExpressionWorker
                node: obj.xfoo, [2363,2372]
                checkExpressionWorker
                  node: obj, [2363,2367]
                  getFlowTypeOfReference
                    reference: obj
                    declaredType: X1 | undefined
                    TrueCondition|Condition|Referenced|Shared
                    sharedFlowStart(cache): 0
                    getTypeAtFlowNode
                      (in) [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
                      pushFlow(TrueCondition|Condition|Referenced|Shared)
                      0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                      (dbgiter:0) [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1
                      getTypeAtFlowCondition
                        (fc  in) [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1
                        getTypeAtFlowNode
                          (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                          pushFlow(LoopLabel|Label|Referenced|Shared)
                          0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                          1: , LoopLabel|Label|Referenced|Shared
                          (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 2
                          getTypeAtFlowLoopLabel
                            , LoopLabel|Label|Referenced|Shared
                            getTypeAtFlowLoopLabel, (flowNode)id: 3, key:11|104|104|52: obj,[2363,2367]
                            getTypeAtFlowLoopLabel, The first antecedent of a loop junction is always the non-looping control
                            getTypeAtFlowNode
                              (in) [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                              pushFlow(Assignment|Referenced)
                              0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                              1: , LoopLabel|Label|Referenced|Shared
                              2: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                              (dbgiter:0) [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced, flowDepth: 3
                              (dbgiter:1) , BranchLabel|Label|Referenced, flowDepth: 3
                              getTypeAtFlowBranchLabel
                                (in) , BranchLabel|Label|Referenced, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                                flowStack
                                  0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                  1: , LoopLabel|Label|Referenced|Shared
                                  2: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                briter:0, ante:[obj, (867,871)], FalseCondition|Condition|Referenced
                                getTypeAtFlowNode
                                  (in) [obj, (867,871)], FalseCondition|Condition|Referenced, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                                  pushFlow(FalseCondition|Condition|Referenced)
                                  0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                  1: , LoopLabel|Label|Referenced|Shared
                                  2: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                  3: [obj, (867,871)], FalseCondition|Condition|Referenced
                                  (dbgiter:0) [obj, (867,871)], FalseCondition|Condition|Referenced, flowDepth: 4
                                  getTypeAtFlowCondition
                                    (fc  in) [obj, (867,871)], FalseCondition|Condition|Referenced, flowDepth: 4
                                    getTypeAtFlowNode
                                      (in) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                                      pushFlow(Assignment|Referenced|Shared)
                                      0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                      1: , LoopLabel|Label|Referenced|Shared
                                      2: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                      3: [obj, (867,871)], FalseCondition|Condition|Referenced
                                      4: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                                      (dbgiter:0) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 5
                                      (dbgiter:1) , BranchLabel|Label|Referenced, flowDepth: 5
                                      getTypeAtFlowBranchLabel
                                        (in) , BranchLabel|Label|Referenced, flowDepth: 5, flowTypeQueryState.getFlowStackIndex(): 4
                                        flowStack
                                          0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                          1: , LoopLabel|Label|Referenced|Shared
                                          2: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                          3: [obj, (867,871)], FalseCondition|Condition|Referenced
                                          4: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                                        adding alias: isFoo = obj && obj.kind === "foo", condition: TrueCondition|Condition|Referenced|Shared
                                        briter:0, ante:[obj, (822,826)], FalseCondition|Condition|Referenced
                                        skipping because aliasFlowTF is true but anteTF is false
                                        briter:1, ante:[obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced
                                        getTypeAtFlowNode
                                          (in) [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced, flowDepth: 5, flowTypeQueryState.getFlowStackIndex(): 4
                                          pushFlow(TrueCondition|Condition|Referenced)
                                          0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                          1: , LoopLabel|Label|Referenced|Shared
                                          2: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                          3: [obj, (867,871)], FalseCondition|Condition|Referenced
                                          4: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                                          5: [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced
                                          (dbgiter:0) [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced, flowDepth: 6
                                          getTypeAtFlowCondition
                                            (fc  in) [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced, flowDepth: 6
                                            getTypeAtFlowNode
                                              (in) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 6, flowTypeQueryState.getFlowStackIndex(): 5
                                              pushFlow(TrueCondition|Condition|Referenced|Shared)
                                              0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                              1: , LoopLabel|Label|Referenced|Shared
                                              2: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                              3: [obj, (867,871)], FalseCondition|Condition|Referenced
                                              4: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                                              5: [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced
                                              6: [obj, (822,826)], TrueCondition|Condition|Referenced|Shared
                                              (dbgiter:0) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 7
                                              getTypeAtFlowCondition
                                                (fc  in) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 7
                                                getTypeAtFlowNode
                                                  (in) , Start|Referenced|Shared, flowDepth: 7, flowTypeQueryState.getFlowStackIndex(): 6
                                                  pushFlow(Start|Referenced|Shared)
                                                  0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                                  1: , LoopLabel|Label|Referenced|Shared
                                                  2: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                                  3: [obj, (867,871)], FalseCondition|Condition|Referenced
                                                  4: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                                                  5: [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced
                                                  6: [obj, (822,826)], TrueCondition|Condition|Referenced|Shared
                                                  7: , Start|Referenced|Shared
                                                  (dbgiter:0) , Start|Referenced|Shared, flowDepth: 8
                                                  popFlow()->Start|Referenced|Shared
                                                  (out) , Start|Referenced|Shared, flowDepth: 7, ret: X1 | undefined
                                                (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: X1 | undefined, narrowedType: X1
                                                (fc out) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 7, ret: X1
                                              popFlow()->TrueCondition|Condition|Referenced|Shared
                                              (out) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 6, ret: X1
                                            checkExpressionWorker
                                              node: "foo", [842,848]
                                              checkExpressionWorker return: "foo", [842,848] -> "foo"
                                            (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: X1, narrowedType: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                                            (fc out) [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced, flowDepth: 6, ret: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                                          popFlow()->TrueCondition|Condition|Referenced
                                          (out) [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced, flowDepth: 5, ret: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                                        briter:1, flowType: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>, type: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                                        briter:2, ante:[obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced
                                        skipping because aliasFlowTF is true but anteTF is false
                                        br/antecedentTypes[0]: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                                        brTmpType: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                                        (out) , BranchLabel|Label|Referenced, flowDepth: 5, ret: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                                      popFlow()->Assignment|Referenced|Shared
                                      (out) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 4, ret: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                                    (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>, narrowedType: never
                                    (fc out) [obj, (867,871)], FalseCondition|Condition|Referenced, flowDepth: 4, ret: never
                                  popFlow()->FalseCondition|Condition|Referenced
                                  (out) [obj, (867,871)], FalseCondition|Condition|Referenced, flowDepth: 3, ret: never
                                briter:0, flowType: never, type: never
                                briter:1, ante:[obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced
                                getTypeAtFlowNode
                                  (in) [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                                  pushFlow(TrueCondition|Condition|Referenced)
                                  0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                  1: , LoopLabel|Label|Referenced|Shared
                                  2: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                  3: [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced
                                  (dbgiter:0) [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced, flowDepth: 4
                                  getTypeAtFlowCondition
                                    (fc  in) [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced, flowDepth: 4
                                    getTypeAtFlowNode
                                      (in) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                                      pushFlow(TrueCondition|Condition|Referenced|Shared)
                                      0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                      1: , LoopLabel|Label|Referenced|Shared
                                      2: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                      3: [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced
                                      4: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                                      (dbgiter:0) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 5
                                      getTypeAtFlowCondition
                                        (fc  in) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 5
                                        getTypeAtFlowNode
                                          (in) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 5, flowTypeQueryState.getFlowStackIndex(): 4
                                          pushFlow(Assignment|Referenced|Shared)
                                          0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                          1: , LoopLabel|Label|Referenced|Shared
                                          2: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                          3: [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced
                                          4: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                                          5: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                                          (dbgiter:0) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 6
                                          popFlow()->Assignment|Referenced|Shared
                                          (out) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 5, ret: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                                        (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>, narrowedType: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                                        (fc out) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 5, ret: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                                      popFlow()->TrueCondition|Condition|Referenced|Shared
                                      (out) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 4, ret: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                                    checkExpressionWorker
                                      node: "bar", [887,893]
                                      checkExpressionWorker return: "bar", [887,893] -> "bar"
                                    (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>, narrowedType: never
                                    (fc out) [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced, flowDepth: 4, ret: never
                                  popFlow()->TrueCondition|Condition|Referenced
                                  (out) [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced, flowDepth: 3, ret: never
                                briter:1, flowType: never, type: never
                                briter:2, ante:[obj.kind === "bar", (874,893)], FalseCondition|Condition|Referenced
                                getTypeAtFlowNode
                                  (in) [obj.kind === "bar", (874,893)], FalseCondition|Condition|Referenced, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                                  pushFlow(FalseCondition|Condition|Referenced)
                                  0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                  1: , LoopLabel|Label|Referenced|Shared
                                  2: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                  3: [obj.kind === "bar", (874,893)], FalseCondition|Condition|Referenced
                                  (dbgiter:0) [obj.kind === "bar", (874,893)], FalseCondition|Condition|Referenced, flowDepth: 4
                                  getTypeAtFlowCondition
                                    (fc  in) [obj.kind === "bar", (874,893)], FalseCondition|Condition|Referenced, flowDepth: 4
                                    getTypeAtFlowNode
                                      (in) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                                      pushFlow(TrueCondition|Condition|Referenced|Shared)
                                      0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                      1: , LoopLabel|Label|Referenced|Shared
                                      2: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                      3: [obj.kind === "bar", (874,893)], FalseCondition|Condition|Referenced
                                      4: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                                      (dbgiter:0) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 5
                                      popFlow()->TrueCondition|Condition|Referenced|Shared
                                      (out) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 4, ret: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                                    checkExpressionWorker
                                      node: "bar", [887,893]
                                      checkExpressionWorker return: "bar", [887,893] -> "bar"
                                    (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>, narrowedType: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                                    (fc out) [obj.kind === "bar", (874,893)], FalseCondition|Condition|Referenced, flowDepth: 4, ret: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                                  popFlow()->FalseCondition|Condition|Referenced
                                  (out) [obj.kind === "bar", (874,893)], FalseCondition|Condition|Referenced, flowDepth: 3, ret: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                                briter:2, flowType: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>, type: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                                br/antecedentTypes[0]: never
                                br/antecedentTypes[1]: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                                brTmpType: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                                (out) , BranchLabel|Label|Referenced, flowDepth: 3, ret: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                              popFlow()->Assignment|Referenced
                              (out) [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced, flowDepth: 2, ret: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                            getTypeAtFlowLoopLabel, All but the first antecedent
                            getTypeAtFlowNode
                              (in) , BranchLabel|Label|Referenced, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                              pushFlow(BranchLabel|Label|Referenced)
                              0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                              1: , LoopLabel|Label|Referenced|Shared
                              2: , BranchLabel|Label|Referenced
                              (dbgiter:0) , BranchLabel|Label|Referenced, flowDepth: 3
                              getTypeAtFlowBranchLabel
                                (in) , BranchLabel|Label|Referenced, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                                flowStack
                                  0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                  1: , LoopLabel|Label|Referenced|Shared
                                  2: , BranchLabel|Label|Referenced
                                briter:0, ante:[s = obj.xfoo, (2359,2372)], Assignment|Referenced
                                getTypeAtFlowNode
                                  (in) [s = obj.xfoo, (2359,2372)], Assignment|Referenced, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                                  pushFlow(Assignment|Referenced)
                                  0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                  1: , LoopLabel|Label|Referenced|Shared
                                  2: , BranchLabel|Label|Referenced
                                  3: [s = obj.xfoo, (2359,2372)], Assignment|Referenced
                                  (dbgiter:0) [s = obj.xfoo, (2359,2372)], Assignment|Referenced, flowDepth: 4
                                  (dbgiter:1) [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared, flowDepth: 4
                                  getTypeAtFlowCondition
                                    (fc  in) [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared, flowDepth: 4
                                    getTypeAtFlowNode
                                      (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                                      pushFlow(LoopLabel|Label|Referenced|Shared)
                                      0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                      1: , LoopLabel|Label|Referenced|Shared
                                      2: , BranchLabel|Label|Referenced
                                      3: [s = obj.xfoo, (2359,2372)], Assignment|Referenced
                                      4: , LoopLabel|Label|Referenced|Shared
                                      (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 5
                                      getTypeAtFlowLoopLabel
                                        , LoopLabel|Label|Referenced|Shared
                                        getTypeAtFlowLoopLabel, (flowNode)id: 3, key:11|104|104|52: obj,[2363,2367]
                                        getTypeAtFlowLoopLabel, this flow loop junction and reference are already being processed, incomplete
                                        getTypeAtFlowLoopLabel, flow: , LoopLabel|Label|Referenced|Shared, return: IncompleteType
                                      popFlow()->LoopLabel|Label|Referenced|Shared
                                      (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 4, ret: IncompleteType
                                    checkExpressionWorker
                                      node: "foo", [842,848]
                                      checkExpressionWorker return: "foo", [842,848] -> "foo"
                                    (fc ) flow.id: 4, asumeTrue:true, nonEvolvingType: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>, narrowedType: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                                    (fc out) [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared, flowDepth: 4, ret: IncompleteType
                                  popFlow()->Assignment|Referenced
                                  (out) [s = obj.xfoo, (2359,2372)], Assignment|Referenced, flowDepth: 3, ret: IncompleteType
                                briter:0, flowType: IncompleteType, type: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                                briter:1, ante:, BranchLabel|Label|Referenced
                                getTypeAtFlowNode
                                  (in) , BranchLabel|Label|Referenced, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                                  pushFlow(BranchLabel|Label|Referenced)
                                  0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                  1: , LoopLabel|Label|Referenced|Shared
                                  2: , BranchLabel|Label|Referenced
                                  3: , BranchLabel|Label|Referenced
                                  (dbgiter:0) , BranchLabel|Label|Referenced, flowDepth: 4
                                  getTypeAtFlowBranchLabel
                                    (in) , BranchLabel|Label|Referenced, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                                    flowStack
                                      0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                      1: , LoopLabel|Label|Referenced|Shared
                                      2: , BranchLabel|Label|Referenced
                                      3: , BranchLabel|Label|Referenced
                                    briter:0, ante:[t = obj.xbar, (2419,2432)], Assignment|Referenced
                                    getTypeAtFlowNode
                                      (in) [t = obj.xbar, (2419,2432)], Assignment|Referenced, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                                      pushFlow(Assignment|Referenced)
                                      0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                      1: , LoopLabel|Label|Referenced|Shared
                                      2: , BranchLabel|Label|Referenced
                                      3: , BranchLabel|Label|Referenced
                                      4: [t = obj.xbar, (2419,2432)], Assignment|Referenced
                                      (dbgiter:0) [t = obj.xbar, (2419,2432)], Assignment|Referenced, flowDepth: 5
                                      (dbgiter:1) [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared, flowDepth: 5
                                      getTypeAtFlowCondition
                                        (fc  in) [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared, flowDepth: 5
                                        getTypeAtFlowNode
                                          (in) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 5, flowTypeQueryState.getFlowStackIndex(): 4
                                          pushFlow(FalseCondition|Condition|Referenced|Shared)
                                          0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                          1: , LoopLabel|Label|Referenced|Shared
                                          2: , BranchLabel|Label|Referenced
                                          3: , BranchLabel|Label|Referenced
                                          4: [t = obj.xbar, (2419,2432)], Assignment|Referenced
                                          5: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                          (dbgiter:0) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 6
                                          getTypeAtFlowCondition
                                            (fc  in) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 6
                                            getTypeAtFlowNode
                                              (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 6, flowTypeQueryState.getFlowStackIndex(): 5
                                              pushFlow(LoopLabel|Label|Referenced|Shared)
                                              0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                              1: , LoopLabel|Label|Referenced|Shared
                                              2: , BranchLabel|Label|Referenced
                                              3: , BranchLabel|Label|Referenced
                                              4: [t = obj.xbar, (2419,2432)], Assignment|Referenced
                                              5: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                              6: , LoopLabel|Label|Referenced|Shared
                                              (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 7
                                              popFlow()->LoopLabel|Label|Referenced|Shared
                                              (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 6, ret: IncompleteType
                                            checkExpressionWorker
                                              node: "foo", [842,848]
                                              checkExpressionWorker return: "foo", [842,848] -> "foo"
                                            (fc ) flow.id: 5, asumeTrue:false, nonEvolvingType: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>, narrowedType: never
                                            (fc out) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 6, ret: IncompleteType
                                          popFlow()->FalseCondition|Condition|Referenced|Shared
                                          (out) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 5, ret: IncompleteType
                                        (fc out) [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared, flowDepth: 5, ret: IncompleteType
                                      popFlow()->Assignment|Referenced
                                      (out) [t = obj.xbar, (2419,2432)], Assignment|Referenced, flowDepth: 4, ret: IncompleteType
                                    briter:0, flowType: IncompleteType, type: never
                                    briter:1, ante:[isBar, (2393,2398)], FalseCondition|Condition|Referenced|Shared
                                    getTypeAtFlowNode
                                      (in) [isBar, (2393,2398)], FalseCondition|Condition|Referenced|Shared, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                                      pushFlow(FalseCondition|Condition|Referenced|Shared)
                                      0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                      1: , LoopLabel|Label|Referenced|Shared
                                      2: , BranchLabel|Label|Referenced
                                      3: , BranchLabel|Label|Referenced
                                      4: [isBar, (2393,2398)], FalseCondition|Condition|Referenced|Shared
                                      (dbgiter:0) [isBar, (2393,2398)], FalseCondition|Condition|Referenced|Shared, flowDepth: 5
                                      getTypeAtFlowCondition
                                        (fc  in) [isBar, (2393,2398)], FalseCondition|Condition|Referenced|Shared, flowDepth: 5
                                        getTypeAtFlowNode
                                          (in) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 5, flowTypeQueryState.getFlowStackIndex(): 4
                                          pushFlow(FalseCondition|Condition|Referenced|Shared)
                                          0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                          1: , LoopLabel|Label|Referenced|Shared
                                          2: , BranchLabel|Label|Referenced
                                          3: , BranchLabel|Label|Referenced
                                          4: [isBar, (2393,2398)], FalseCondition|Condition|Referenced|Shared
                                          5: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                          (dbgiter:0) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 6
                                          popFlow()->FalseCondition|Condition|Referenced|Shared
                                          (out) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 5, ret: IncompleteType
                                        (fc out) [isBar, (2393,2398)], FalseCondition|Condition|Referenced|Shared, flowDepth: 5, ret: IncompleteType
                                      popFlow()->FalseCondition|Condition|Referenced|Shared
                                      (out) [isBar, (2393,2398)], FalseCondition|Condition|Referenced|Shared, flowDepth: 4, ret: IncompleteType
                                    briter:1, flowType: IncompleteType, type: never
                                    br/antecedentTypes[0]: never
                                    brTmpType: never
                                    (out) , BranchLabel|Label|Referenced, flowDepth: 4, ret: IncompleteType
                                  popFlow()->BranchLabel|Label|Referenced
                                  (out) , BranchLabel|Label|Referenced, flowDepth: 3, ret: IncompleteType
                                briter:1, flowType: IncompleteType, type: never
                                br/antecedentTypes[0]: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                                br/antecedentTypes[1]: never
                                brTmpType: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                                (out) , BranchLabel|Label|Referenced, flowDepth: 3, ret: IncompleteType
                              popFlow()->BranchLabel|Label|Referenced
                              (out) , BranchLabel|Label|Referenced, flowDepth: 2, ret: IncompleteType
                            getTypeAtFlowLoopLabel, cache.set(11|104|104|52: obj,[2363,2367], Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                            getTypeAtFlowLoopLabel, flow: , LoopLabel|Label|Referenced|Shared, return: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                          popFlow()->LoopLabel|Label|Referenced|Shared
                          (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 1, ret: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                        checkExpressionWorker
                          node: "foo", [842,848]
                          checkExpressionWorker return: "foo", [842,848] -> "foo"
                        (fc ) flow.id: 4, asumeTrue:true, nonEvolvingType: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>, narrowedType: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                        (fc out) [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1, ret: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                      popFlow()->TrueCondition|Condition|Referenced|Shared
                      (out) [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared, flowDepth: 0, ret: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                    sharedFlowCount: 11, typeAtFlowNode: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                    sharedFlowCount: 11, evolvedType: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                    return resultType: Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                  In getIdentifier(), getFlowTypeOfReference returned Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                  checkExpressionWorker return: obj, [2363,2367] -> Readonly<{ kind: "foo"; xfoo: string; bug: () => number[]; }>
                getFlowTypeOfReference
                  reference: obj.xfoo
                  declaredType: string
                  TrueCondition|Condition|Referenced|Shared
                  sharedFlowStart(cache): 0
                  getTypeAtFlowNode
                    (in) [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
                    pushFlow(TrueCondition|Condition|Referenced|Shared)
                    0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                    (dbgiter:0) [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1
                    getTypeAtFlowCondition
                      (fc  in) [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1
                      getTypeAtFlowNode
                        (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                        pushFlow(LoopLabel|Label|Referenced|Shared)
                        0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                        1: , LoopLabel|Label|Referenced|Shared
                        (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 2
                        getTypeAtFlowLoopLabel
                          , LoopLabel|Label|Referenced|Shared
                          getTypeAtFlowLoopLabel, (flowNode)id: 3, key:-1|13|13|52: obj,[2363,2367].xfoo
                          getTypeAtFlowLoopLabel, The first antecedent of a loop junction is always the non-looping control
                          getTypeAtFlowNode
                            (in) [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                            pushFlow(Assignment|Referenced)
                            0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                            1: , LoopLabel|Label|Referenced|Shared
                            2: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                            (dbgiter:0) [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced, flowDepth: 3
                            (dbgiter:1) , BranchLabel|Label|Referenced, flowDepth: 3
                            getTypeAtFlowBranchLabel
                              (in) , BranchLabel|Label|Referenced, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                              flowStack
                                0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                1: , LoopLabel|Label|Referenced|Shared
                                2: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                              briter:0, ante:[obj, (867,871)], FalseCondition|Condition|Referenced
                              getTypeAtFlowNode
                                (in) [obj, (867,871)], FalseCondition|Condition|Referenced, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                                pushFlow(FalseCondition|Condition|Referenced)
                                0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                1: , LoopLabel|Label|Referenced|Shared
                                2: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                3: [obj, (867,871)], FalseCondition|Condition|Referenced
                                (dbgiter:0) [obj, (867,871)], FalseCondition|Condition|Referenced, flowDepth: 4
                                getTypeAtFlowCondition
                                  (fc  in) [obj, (867,871)], FalseCondition|Condition|Referenced, flowDepth: 4
                                  getTypeAtFlowNode
                                    (in) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                                    pushFlow(Assignment|Referenced|Shared)
                                    0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                    1: , LoopLabel|Label|Referenced|Shared
                                    2: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                    3: [obj, (867,871)], FalseCondition|Condition|Referenced
                                    4: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                                    (dbgiter:0) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 5
                                    (dbgiter:1) , BranchLabel|Label|Referenced, flowDepth: 5
                                    getTypeAtFlowBranchLabel
                                      (in) , BranchLabel|Label|Referenced, flowDepth: 5, flowTypeQueryState.getFlowStackIndex(): 4
                                      flowStack
                                        0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                        1: , LoopLabel|Label|Referenced|Shared
                                        2: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                        3: [obj, (867,871)], FalseCondition|Condition|Referenced
                                        4: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                                      adding alias: isFoo = obj && obj.kind === "foo", condition: TrueCondition|Condition|Referenced|Shared
                                      briter:0, ante:[obj, (822,826)], FalseCondition|Condition|Referenced
                                      skipping because aliasFlowTF is true but anteTF is false
                                      briter:1, ante:[obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced
                                      getTypeAtFlowNode
                                        (in) [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced, flowDepth: 5, flowTypeQueryState.getFlowStackIndex(): 4
                                        pushFlow(TrueCondition|Condition|Referenced)
                                        0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                        1: , LoopLabel|Label|Referenced|Shared
                                        2: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                        3: [obj, (867,871)], FalseCondition|Condition|Referenced
                                        4: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                                        5: [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced
                                        (dbgiter:0) [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced, flowDepth: 6
                                        getTypeAtFlowCondition
                                          (fc  in) [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced, flowDepth: 6
                                          getTypeAtFlowNode
                                            (in) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 6, flowTypeQueryState.getFlowStackIndex(): 5
                                            pushFlow(TrueCondition|Condition|Referenced|Shared)
                                            0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                            1: , LoopLabel|Label|Referenced|Shared
                                            2: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                            3: [obj, (867,871)], FalseCondition|Condition|Referenced
                                            4: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                                            5: [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced
                                            6: [obj, (822,826)], TrueCondition|Condition|Referenced|Shared
                                            (dbgiter:0) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 7
                                            getTypeAtFlowCondition
                                              (fc  in) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 7
                                              getTypeAtFlowNode
                                                (in) , Start|Referenced|Shared, flowDepth: 7, flowTypeQueryState.getFlowStackIndex(): 6
                                                pushFlow(Start|Referenced|Shared)
                                                0: [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared
                                                1: , LoopLabel|Label|Referenced|Shared
                                                2: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                                3: [obj, (867,871)], FalseCondition|Condition|Referenced
                                                4: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                                                5: [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced
                                                6: [obj, (822,826)], TrueCondition|Condition|Referenced|Shared
                                                7: , Start|Referenced|Shared
                                                (dbgiter:0) , Start|Referenced|Shared, flowDepth: 8
                                                popFlow()->Start|Referenced|Shared
                                                (out) , Start|Referenced|Shared, flowDepth: 7, ret: string
                                              (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: string, narrowedType: string
                                              (fc out) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 7, ret: string
                                            popFlow()->TrueCondition|Condition|Referenced|Shared
                                            (out) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 6, ret: string
                                          (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: string, narrowedType: string
                                          (fc out) [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced, flowDepth: 6, ret: string
                                        popFlow()->TrueCondition|Condition|Referenced
                                        (out) [obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced, flowDepth: 5, ret: string
                                      briter:1, flowType: string, type: string
                                      (out) , BranchLabel|Label|Referenced, flowDepth: 5, ret: string
                                    popFlow()->Assignment|Referenced|Shared
                                    (out) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 4, ret: string
                                  (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: string, narrowedType: string
                                  (fc out) [obj, (867,871)], FalseCondition|Condition|Referenced, flowDepth: 4, ret: string
                                popFlow()->FalseCondition|Condition|Referenced
                                (out) [obj, (867,871)], FalseCondition|Condition|Referenced, flowDepth: 3, ret: string
                              briter:0, flowType: string, type: string
                              (out) , BranchLabel|Label|Referenced, flowDepth: 3, ret: string
                            popFlow()->Assignment|Referenced
                            (out) [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced, flowDepth: 2, ret: string
                          getTypeAtFlowLoopLabel, cache.set(-1|13|13|52: obj,[2363,2367].xfoo, string
                          getTypeAtFlowLoopLabel, flow: , LoopLabel|Label|Referenced|Shared, return: string
                        popFlow()->LoopLabel|Label|Referenced|Shared
                        (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 1, ret: string
                      (fc ) flow.id: 4, asumeTrue:true, nonEvolvingType: string, narrowedType: string
                      (fc out) [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1, ret: string
                    popFlow()->TrueCondition|Condition|Referenced|Shared
                    (out) [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared, flowDepth: 0, ret: string
                  sharedFlowCount: 5, typeAtFlowNode: string
                  sharedFlowCount: 5, evolvedType: string
                  return resultType: string
                checkExpressionWorker return: obj.xfoo, [2363,2372] -> string
        checkSourceElement
          if (isBar) {
                      const t = obj.xbar;
                  }
          checkExpressionWorker
            node: isBar, [2393,2398]
            getFlowTypeOfReference
              reference: isBar
              declaredType: boolean | undefined
              FalseCondition|Condition|Referenced|Shared
              sharedFlowStart(cache): 0
              getTypeAtFlowNode
                (in) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
                pushFlow(FalseCondition|Condition|Referenced|Shared)
                0: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                (dbgiter:0) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 1
                getTypeAtFlowCondition
                  (fc  in) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 1
                  getTypeAtFlowNode
                    (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                    pushFlow(LoopLabel|Label|Referenced|Shared)
                    0: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                    1: , LoopLabel|Label|Referenced|Shared
                    (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 2
                    getTypeAtFlowLoopLabel
                      , LoopLabel|Label|Referenced|Shared
                      getTypeAtFlowLoopLabel, (flowNode)id: 3, key:11|116|116|53: isBar,[2393,2398]
                      getTypeAtFlowLoopLabel, The first antecedent of a loop junction is always the non-looping control
                      getTypeAtFlowNode
                        (in) [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                        pushFlow(Assignment|Referenced)
                        0: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                        1: , LoopLabel|Label|Referenced|Shared
                        2: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                        (dbgiter:0) [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced, flowDepth: 3
                        popFlow()->Assignment|Referenced
                        (out) [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced, flowDepth: 2, ret: boolean | undefined
                      getTypeAtFlowLoopLabel, cache.set(11|116|116|53: isBar,[2393,2398], boolean | undefined
                      getTypeAtFlowLoopLabel, flow: , LoopLabel|Label|Referenced|Shared, return: boolean | undefined
                    popFlow()->LoopLabel|Label|Referenced|Shared
                    (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 1, ret: boolean | undefined
                  (fc ) flow.id: 5, asumeTrue:false, nonEvolvingType: boolean | undefined, narrowedType: boolean | undefined
                  (fc out) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 1, ret: boolean | undefined
                popFlow()->FalseCondition|Condition|Referenced|Shared
                (out) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 0, ret: boolean | undefined
              sharedFlowCount: 2, typeAtFlowNode: boolean | undefined
              sharedFlowCount: 2, evolvedType: boolean | undefined
              return resultType: boolean | undefined
            In getIdentifier(), getFlowTypeOfReference returned boolean | undefined
            checkExpressionWorker return: isBar, [2393,2398] -> boolean | undefined
          checkExpressionWorker
            node: isBar, [2393,2398]
            getFlowTypeOfReference
              reference: isBar
              declaredType: boolean | undefined
              FalseCondition|Condition|Referenced|Shared
              sharedFlowStart(cache): 0
              getTypeAtFlowNode
                (in) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
                pushFlow(FalseCondition|Condition|Referenced|Shared)
                0: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                (dbgiter:0) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 1
                getTypeAtFlowCondition
                  (fc  in) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 1
                  getTypeAtFlowNode
                    (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                    pushFlow(LoopLabel|Label|Referenced|Shared)
                    0: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                    1: , LoopLabel|Label|Referenced|Shared
                    (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 2
                    getTypeAtFlowLoopLabel
                      , LoopLabel|Label|Referenced|Shared
                      getTypeAtFlowLoopLabel, (flowNode)id: 3, key:11|116|116|53: isBar,[2393,2398]
                      getTypeAtFlowLoopLabel, cached
                      getTypeAtFlowLoopLabel, flow: , LoopLabel|Label|Referenced|Shared, return: boolean | undefined
                    popFlow()->LoopLabel|Label|Referenced|Shared
                    (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 1, ret: boolean | undefined
                  (fc ) flow.id: 5, asumeTrue:false, nonEvolvingType: boolean | undefined, narrowedType: boolean | undefined
                  (fc out) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 1, ret: boolean | undefined
                popFlow()->FalseCondition|Condition|Referenced|Shared
                (out) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 0, ret: boolean | undefined
              sharedFlowCount: 2, typeAtFlowNode: boolean | undefined
              sharedFlowCount: 2, evolvedType: boolean | undefined
              return resultType: boolean | undefined
            In getIdentifier(), getFlowTypeOfReference returned boolean | undefined
            checkExpressionWorker return: isBar, [2393,2398] -> boolean | undefined
          checkSourceElement
            {
                        const t = obj.xbar;
                    }
            checkSourceElement
              const t = obj.xbar;
              checkSourceElement
                t = obj.xbar
                checkExpressionWorker
                  node: obj.xbar, [2423,2432]
                  checkExpressionWorker
                    node: obj, [2423,2427]
                    getFlowTypeOfReference
                      reference: obj
                      declaredType: X1 | undefined
                      TrueCondition|Condition|Referenced|Shared
                      sharedFlowStart(cache): 0
                      getTypeAtFlowNode
                        (in) [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
                        pushFlow(TrueCondition|Condition|Referenced|Shared)
                        0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                        (dbgiter:0) [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1
                        getTypeAtFlowCondition
                          (fc  in) [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1
                          getTypeAtFlowNode
                            (in) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                            pushFlow(FalseCondition|Condition|Referenced|Shared)
                            0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                            1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                            (dbgiter:0) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 2
                            getTypeAtFlowCondition
                              (fc  in) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 2
                              getTypeAtFlowNode
                                (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                                pushFlow(LoopLabel|Label|Referenced|Shared)
                                0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                2: , LoopLabel|Label|Referenced|Shared
                                (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 3
                                getTypeAtFlowLoopLabel
                                  , LoopLabel|Label|Referenced|Shared
                                  getTypeAtFlowLoopLabel, (flowNode)id: 3, key:11|104|104|55: obj,[2423,2427]
                                  getTypeAtFlowLoopLabel, The first antecedent of a loop junction is always the non-looping control
                                  getTypeAtFlowNode
                                    (in) [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                                    pushFlow(Assignment|Referenced)
                                    0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                    1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                    2: , LoopLabel|Label|Referenced|Shared
                                    3: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                    (dbgiter:0) [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced, flowDepth: 4
                                    (dbgiter:1) , BranchLabel|Label|Referenced, flowDepth: 4
                                    getTypeAtFlowBranchLabel
                                      (in) , BranchLabel|Label|Referenced, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                                      flowStack
                                        0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                        1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                        2: , LoopLabel|Label|Referenced|Shared
                                        3: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                      adding alias: isBar = obj && obj.kind === "bar", condition: TrueCondition|Condition|Referenced|Shared
                                      briter:0, ante:[obj, (867,871)], FalseCondition|Condition|Referenced
                                      skipping because aliasFlowTF is true but anteTF is false
                                      briter:1, ante:[obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced
                                      getTypeAtFlowNode
                                        (in) [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                                        pushFlow(TrueCondition|Condition|Referenced)
                                        0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                        1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                        2: , LoopLabel|Label|Referenced|Shared
                                        3: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                        4: [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced
                                        (dbgiter:0) [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced, flowDepth: 5
                                        getTypeAtFlowCondition
                                          (fc  in) [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced, flowDepth: 5
                                          getTypeAtFlowNode
                                            (in) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 5, flowTypeQueryState.getFlowStackIndex(): 4
                                            pushFlow(TrueCondition|Condition|Referenced|Shared)
                                            0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                            1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                            2: , LoopLabel|Label|Referenced|Shared
                                            3: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                            4: [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced
                                            5: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                                            (dbgiter:0) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 6
                                            getTypeAtFlowCondition
                                              (fc  in) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 6
                                              getTypeAtFlowNode
                                                (in) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 6, flowTypeQueryState.getFlowStackIndex(): 5
                                                pushFlow(Assignment|Referenced|Shared)
                                                0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                                1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                                2: , LoopLabel|Label|Referenced|Shared
                                                3: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                                4: [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced
                                                5: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                                                6: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                                                (dbgiter:0) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 7
                                                (dbgiter:1) , BranchLabel|Label|Referenced, flowDepth: 7
                                                getTypeAtFlowBranchLabel
                                                  (in) , BranchLabel|Label|Referenced, flowDepth: 7, flowTypeQueryState.getFlowStackIndex(): 6
                                                  flowStack
                                                    0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                                    1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                                    2: , LoopLabel|Label|Referenced|Shared
                                                    3: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                                    4: [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced
                                                    5: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                                                    6: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                                                  adding alias: isFoo = obj && obj.kind === "foo", condition: FalseCondition|Condition|Referenced|Shared
                                                  briter:0, ante:[obj, (822,826)], FalseCondition|Condition|Referenced
                                                  getTypeAtFlowNode
                                                    (in) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 7, flowTypeQueryState.getFlowStackIndex(): 6
                                                    pushFlow(FalseCondition|Condition|Referenced)
                                                    0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                                    1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                                    2: , LoopLabel|Label|Referenced|Shared
                                                    3: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                                    4: [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced
                                                    5: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                                                    6: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                                                    7: [obj, (822,826)], FalseCondition|Condition|Referenced
                                                    (dbgiter:0) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 8
                                                    getTypeAtFlowCondition
                                                      (fc  in) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 8
                                                      getTypeAtFlowNode
                                                        (in) , Start|Referenced|Shared, flowDepth: 8, flowTypeQueryState.getFlowStackIndex(): 7
                                                        pushFlow(Start|Referenced|Shared)
                                                        0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                                        1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                                        2: , LoopLabel|Label|Referenced|Shared
                                                        3: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                                        4: [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced
                                                        5: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                                                        6: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                                                        7: [obj, (822,826)], FalseCondition|Condition|Referenced
                                                        8: , Start|Referenced|Shared
                                                        (dbgiter:0) , Start|Referenced|Shared, flowDepth: 9
                                                        popFlow()->Start|Referenced|Shared
                                                        (out) , Start|Referenced|Shared, flowDepth: 8, ret: X1 | undefined
                                                      (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: X1 | undefined, narrowedType: undefined
                                                      (fc out) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 8, ret: undefined
                                                    popFlow()->FalseCondition|Condition|Referenced
                                                    (out) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 7, ret: undefined
                                                  briter:0, flowType: undefined, type: undefined
                                                  briter:1, ante:[obj.kind === "foo", (829,848)], TrueCondition|Condition|Referenced
                                                  skipping because aliasFlowTF is false but anteTF is true
                                                  briter:2, ante:[obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced
                                                  getTypeAtFlowNode
                                                    (in) [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced, flowDepth: 7, flowTypeQueryState.getFlowStackIndex(): 6
                                                    pushFlow(FalseCondition|Condition|Referenced)
                                                    0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                                    1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                                    2: , LoopLabel|Label|Referenced|Shared
                                                    3: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                                    4: [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced
                                                    5: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                                                    6: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                                                    7: [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced
                                                    (dbgiter:0) [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced, flowDepth: 8
                                                    getTypeAtFlowCondition
                                                      (fc  in) [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced, flowDepth: 8
                                                      getTypeAtFlowNode
                                                        (in) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 8, flowTypeQueryState.getFlowStackIndex(): 7
                                                        pushFlow(TrueCondition|Condition|Referenced|Shared)
                                                        0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                                        1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                                        2: , LoopLabel|Label|Referenced|Shared
                                                        3: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                                        4: [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced
                                                        5: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                                                        6: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                                                        7: [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced
                                                        8: [obj, (822,826)], TrueCondition|Condition|Referenced|Shared
                                                        (dbgiter:0) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 9
                                                        getTypeAtFlowCondition
                                                          (fc  in) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 9
                                                          getTypeAtFlowNode
                                                            (in) , Start|Referenced|Shared, flowDepth: 9, flowTypeQueryState.getFlowStackIndex(): 8
                                                            pushFlow(Start|Referenced|Shared)
                                                            0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                                            1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                                            2: , LoopLabel|Label|Referenced|Shared
                                                            3: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                                            4: [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced
                                                            5: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                                                            6: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                                                            7: [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced
                                                            8: [obj, (822,826)], TrueCondition|Condition|Referenced|Shared
                                                            9: , Start|Referenced|Shared
                                                            (dbgiter:0) , Start|Referenced|Shared, flowDepth: 10
                                                            popFlow()->Start|Referenced|Shared
                                                            (out) , Start|Referenced|Shared, flowDepth: 9, ret: X1 | undefined
                                                          (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: X1 | undefined, narrowedType: X1
                                                          (fc out) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 9, ret: X1
                                                        popFlow()->TrueCondition|Condition|Referenced|Shared
                                                        (out) [obj, (822,826)], TrueCondition|Condition|Referenced|Shared, flowDepth: 8, ret: X1
                                                      checkExpressionWorker
                                                        node: "foo", [842,848]
                                                        checkExpressionWorker return: "foo", [842,848] -> "foo"
                                                      (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: X1, narrowedType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>
                                                      (fc out) [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced, flowDepth: 8, ret: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>
                                                    popFlow()->FalseCondition|Condition|Referenced
                                                    (out) [obj.kind === "foo", (829,848)], FalseCondition|Condition|Referenced, flowDepth: 7, ret: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>
                                                  briter:2, flowType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>, type: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>
                                                  br/antecedentTypes[0]: undefined
                                                  br/antecedentTypes[1]: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>
                                                  brTmpType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }> | undefined
                                                  (out) , BranchLabel|Label|Referenced, flowDepth: 7, ret: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }> | undefined
                                                popFlow()->Assignment|Referenced|Shared
                                                (out) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 6, ret: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }> | undefined
                                              (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }> | undefined, narrowedType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>
                                              (fc out) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 6, ret: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>
                                            popFlow()->TrueCondition|Condition|Referenced|Shared
                                            (out) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 5, ret: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>
                                          checkExpressionWorker
                                            node: "bar", [887,893]
                                            checkExpressionWorker return: "bar", [887,893] -> "bar"
                                          (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }> | Readonly<{ kind: "baz"; xbaz: boolean; bug: () => number[]; }>, narrowedType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                                          (fc out) [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced, flowDepth: 5, ret: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                                        popFlow()->TrueCondition|Condition|Referenced
                                        (out) [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced, flowDepth: 4, ret: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                                      briter:1, flowType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>, type: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                                      briter:2, ante:[obj.kind === "bar", (874,893)], FalseCondition|Condition|Referenced
                                      skipping because aliasFlowTF is true but anteTF is false
                                      br/antecedentTypes[0]: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                                      brTmpType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                                      (out) , BranchLabel|Label|Referenced, flowDepth: 4, ret: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                                    popFlow()->Assignment|Referenced
                                    (out) [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced, flowDepth: 3, ret: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                                  getTypeAtFlowLoopLabel, All but the first antecedent
                                  getTypeAtFlowNode
                                    (in) , BranchLabel|Label|Referenced, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                                    pushFlow(BranchLabel|Label|Referenced)
                                    0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                    1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                    2: , LoopLabel|Label|Referenced|Shared
                                    3: , BranchLabel|Label|Referenced
                                    (dbgiter:0) , BranchLabel|Label|Referenced, flowDepth: 4
                                    getTypeAtFlowBranchLabel
                                      (in) , BranchLabel|Label|Referenced, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                                      flowStack
                                        0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                        1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                        2: , LoopLabel|Label|Referenced|Shared
                                        3: , BranchLabel|Label|Referenced
                                      briter:0, ante:[s = obj.xfoo, (2359,2372)], Assignment|Referenced
                                      getTypeAtFlowNode
                                        (in) [s = obj.xfoo, (2359,2372)], Assignment|Referenced, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                                        pushFlow(Assignment|Referenced)
                                        0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                        1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                        2: , LoopLabel|Label|Referenced|Shared
                                        3: , BranchLabel|Label|Referenced
                                        4: [s = obj.xfoo, (2359,2372)], Assignment|Referenced
                                        (dbgiter:0) [s = obj.xfoo, (2359,2372)], Assignment|Referenced, flowDepth: 5
                                        (dbgiter:1) [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared, flowDepth: 5
                                        getTypeAtFlowCondition
                                          (fc  in) [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared, flowDepth: 5
                                          getTypeAtFlowNode
                                            (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 5, flowTypeQueryState.getFlowStackIndex(): 4
                                            pushFlow(LoopLabel|Label|Referenced|Shared)
                                            0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                            1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                            2: , LoopLabel|Label|Referenced|Shared
                                            3: , BranchLabel|Label|Referenced
                                            4: [s = obj.xfoo, (2359,2372)], Assignment|Referenced
                                            5: , LoopLabel|Label|Referenced|Shared
                                            (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 6
                                            getTypeAtFlowLoopLabel
                                              , LoopLabel|Label|Referenced|Shared
                                              getTypeAtFlowLoopLabel, (flowNode)id: 3, key:11|104|104|55: obj,[2423,2427]
                                              getTypeAtFlowLoopLabel, this flow loop junction and reference are already being processed, incomplete
                                              getTypeAtFlowLoopLabel, flow: , LoopLabel|Label|Referenced|Shared, return: IncompleteType
                                            popFlow()->LoopLabel|Label|Referenced|Shared
                                            (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 5, ret: IncompleteType
                                          checkExpressionWorker
                                            node: "foo", [842,848]
                                            checkExpressionWorker return: "foo", [842,848] -> "foo"
                                          (fc ) flow.id: 4, asumeTrue:true, nonEvolvingType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>, narrowedType: never
                                          (fc out) [isFoo, (2333,2338)], TrueCondition|Condition|Referenced|Shared, flowDepth: 5, ret: IncompleteType
                                        popFlow()->Assignment|Referenced
                                        (out) [s = obj.xfoo, (2359,2372)], Assignment|Referenced, flowDepth: 4, ret: IncompleteType
                                      briter:0, flowType: IncompleteType, type: never
                                      briter:1, ante:, BranchLabel|Label|Referenced
                                      getTypeAtFlowNode
                                        (in) , BranchLabel|Label|Referenced, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                                        pushFlow(BranchLabel|Label|Referenced)
                                        0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                        1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                        2: , LoopLabel|Label|Referenced|Shared
                                        3: , BranchLabel|Label|Referenced
                                        4: , BranchLabel|Label|Referenced
                                        (dbgiter:0) , BranchLabel|Label|Referenced, flowDepth: 5
                                        getTypeAtFlowBranchLabel
                                          (in) , BranchLabel|Label|Referenced, flowDepth: 5, flowTypeQueryState.getFlowStackIndex(): 4
                                          flowStack
                                            0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                            1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                            2: , LoopLabel|Label|Referenced|Shared
                                            3: , BranchLabel|Label|Referenced
                                            4: , BranchLabel|Label|Referenced
                                          briter:0, ante:[t = obj.xbar, (2419,2432)], Assignment|Referenced
                                          getTypeAtFlowNode
                                            (in) [t = obj.xbar, (2419,2432)], Assignment|Referenced, flowDepth: 5, flowTypeQueryState.getFlowStackIndex(): 4
                                            pushFlow(Assignment|Referenced)
                                            0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                            1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                            2: , LoopLabel|Label|Referenced|Shared
                                            3: , BranchLabel|Label|Referenced
                                            4: , BranchLabel|Label|Referenced
                                            5: [t = obj.xbar, (2419,2432)], Assignment|Referenced
                                            (dbgiter:0) [t = obj.xbar, (2419,2432)], Assignment|Referenced, flowDepth: 6
                                            (dbgiter:1) [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared, flowDepth: 6
                                            getTypeAtFlowCondition
                                              (fc  in) [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared, flowDepth: 6
                                              getTypeAtFlowNode
                                                (in) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 6, flowTypeQueryState.getFlowStackIndex(): 5
                                                pushFlow(FalseCondition|Condition|Referenced|Shared)
                                                0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                                1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                                2: , LoopLabel|Label|Referenced|Shared
                                                3: , BranchLabel|Label|Referenced
                                                4: , BranchLabel|Label|Referenced
                                                5: [t = obj.xbar, (2419,2432)], Assignment|Referenced
                                                6: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                                (dbgiter:0) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 7
                                                getTypeAtFlowCondition
                                                  (fc  in) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 7
                                                  getTypeAtFlowNode
                                                    (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 7, flowTypeQueryState.getFlowStackIndex(): 6
                                                    pushFlow(LoopLabel|Label|Referenced|Shared)
                                                    0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                                    1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                                    2: , LoopLabel|Label|Referenced|Shared
                                                    3: , BranchLabel|Label|Referenced
                                                    4: , BranchLabel|Label|Referenced
                                                    5: [t = obj.xbar, (2419,2432)], Assignment|Referenced
                                                    6: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                                    7: , LoopLabel|Label|Referenced|Shared
                                                    (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 8
                                                    popFlow()->LoopLabel|Label|Referenced|Shared
                                                    (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 7, ret: IncompleteType
                                                  checkExpressionWorker
                                                    node: "foo", [842,848]
                                                    checkExpressionWorker return: "foo", [842,848] -> "foo"
                                                  (fc ) flow.id: 5, asumeTrue:false, nonEvolvingType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>, narrowedType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                                                  (fc out) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 7, ret: IncompleteType
                                                popFlow()->FalseCondition|Condition|Referenced|Shared
                                                (out) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 6, ret: IncompleteType
                                              checkExpressionWorker
                                                node: "bar", [887,893]
                                                checkExpressionWorker return: "bar", [887,893] -> "bar"
                                              (fc ) flow.id: 6, asumeTrue:true, nonEvolvingType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>, narrowedType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                                              (fc out) [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared, flowDepth: 6, ret: IncompleteType
                                            popFlow()->Assignment|Referenced
                                            (out) [t = obj.xbar, (2419,2432)], Assignment|Referenced, flowDepth: 5, ret: IncompleteType
                                          briter:0, flowType: IncompleteType, type: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                                          briter:1, ante:[isBar, (2393,2398)], FalseCondition|Condition|Referenced|Shared
                                          getTypeAtFlowNode
                                            (in) [isBar, (2393,2398)], FalseCondition|Condition|Referenced|Shared, flowDepth: 5, flowTypeQueryState.getFlowStackIndex(): 4
                                            pushFlow(FalseCondition|Condition|Referenced|Shared)
                                            0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                            1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                            2: , LoopLabel|Label|Referenced|Shared
                                            3: , BranchLabel|Label|Referenced
                                            4: , BranchLabel|Label|Referenced
                                            5: [isBar, (2393,2398)], FalseCondition|Condition|Referenced|Shared
                                            (dbgiter:0) [isBar, (2393,2398)], FalseCondition|Condition|Referenced|Shared, flowDepth: 6
                                            getTypeAtFlowCondition
                                              (fc  in) [isBar, (2393,2398)], FalseCondition|Condition|Referenced|Shared, flowDepth: 6
                                              getTypeAtFlowNode
                                                (in) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 6, flowTypeQueryState.getFlowStackIndex(): 5
                                                pushFlow(FalseCondition|Condition|Referenced|Shared)
                                                0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                                1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                                2: , LoopLabel|Label|Referenced|Shared
                                                3: , BranchLabel|Label|Referenced
                                                4: , BranchLabel|Label|Referenced
                                                5: [isBar, (2393,2398)], FalseCondition|Condition|Referenced|Shared
                                                6: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                                (dbgiter:0) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 7
                                                popFlow()->FalseCondition|Condition|Referenced|Shared
                                                (out) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 6, ret: IncompleteType
                                              checkExpressionWorker
                                                node: "bar", [887,893]
                                                checkExpressionWorker return: "bar", [887,893] -> "bar"
                                              (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>, narrowedType: never
                                              (fc out) [isBar, (2393,2398)], FalseCondition|Condition|Referenced|Shared, flowDepth: 6, ret: IncompleteType
                                            popFlow()->FalseCondition|Condition|Referenced|Shared
                                            (out) [isBar, (2393,2398)], FalseCondition|Condition|Referenced|Shared, flowDepth: 5, ret: IncompleteType
                                          briter:1, flowType: IncompleteType, type: never
                                          br/antecedentTypes[0]: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                                          br/antecedentTypes[1]: never
                                          brTmpType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                                          (out) , BranchLabel|Label|Referenced, flowDepth: 5, ret: IncompleteType
                                        popFlow()->BranchLabel|Label|Referenced
                                        (out) , BranchLabel|Label|Referenced, flowDepth: 4, ret: IncompleteType
                                      briter:1, flowType: IncompleteType, type: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                                      br/antecedentTypes[0]: never
                                      br/antecedentTypes[1]: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                                      brTmpType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                                      (out) , BranchLabel|Label|Referenced, flowDepth: 4, ret: IncompleteType
                                    popFlow()->BranchLabel|Label|Referenced
                                    (out) , BranchLabel|Label|Referenced, flowDepth: 3, ret: IncompleteType
                                  getTypeAtFlowLoopLabel, cache.set(11|104|104|55: obj,[2423,2427], Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                                  getTypeAtFlowLoopLabel, flow: , LoopLabel|Label|Referenced|Shared, return: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                                popFlow()->LoopLabel|Label|Referenced|Shared
                                (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 2, ret: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                              checkExpressionWorker
                                node: "foo", [842,848]
                                checkExpressionWorker return: "foo", [842,848] -> "foo"
                              (fc ) flow.id: 5, asumeTrue:false, nonEvolvingType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>, narrowedType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                              (fc out) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 2, ret: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                            popFlow()->FalseCondition|Condition|Referenced|Shared
                            (out) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 1, ret: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                          checkExpressionWorker
                            node: "bar", [887,893]
                            checkExpressionWorker return: "bar", [887,893] -> "bar"
                          (fc ) flow.id: 6, asumeTrue:true, nonEvolvingType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>, narrowedType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                          (fc out) [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1, ret: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                        popFlow()->TrueCondition|Condition|Referenced|Shared
                        (out) [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared, flowDepth: 0, ret: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                      sharedFlowCount: 12, typeAtFlowNode: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                      sharedFlowCount: 12, evolvedType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                      return resultType: Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                    In getIdentifier(), getFlowTypeOfReference returned Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                    checkExpressionWorker return: obj, [2423,2427] -> Readonly<{ kind: "bar"; xbar: number; bug: () => number[]; }>
                  getFlowTypeOfReference
                    reference: obj.xbar
                    declaredType: number
                    TrueCondition|Condition|Referenced|Shared
                    sharedFlowStart(cache): 0
                    getTypeAtFlowNode
                      (in) [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared, flowDepth: 0, flowTypeQueryState.getFlowStackIndex(): -1
                      pushFlow(TrueCondition|Condition|Referenced|Shared)
                      0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                      (dbgiter:0) [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1
                      getTypeAtFlowCondition
                        (fc  in) [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1
                        getTypeAtFlowNode
                          (in) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 1, flowTypeQueryState.getFlowStackIndex(): 0
                          pushFlow(FalseCondition|Condition|Referenced|Shared)
                          0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                          1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                          (dbgiter:0) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 2
                          getTypeAtFlowCondition
                            (fc  in) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 2
                            getTypeAtFlowNode
                              (in) , LoopLabel|Label|Referenced|Shared, flowDepth: 2, flowTypeQueryState.getFlowStackIndex(): 1
                              pushFlow(LoopLabel|Label|Referenced|Shared)
                              0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                              1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                              2: , LoopLabel|Label|Referenced|Shared
                              (dbgiter:0) , LoopLabel|Label|Referenced|Shared, flowDepth: 3
                              getTypeAtFlowLoopLabel
                                , LoopLabel|Label|Referenced|Shared
                                getTypeAtFlowLoopLabel, (flowNode)id: 3, key:-1|14|14|55: obj,[2423,2427].xbar
                                getTypeAtFlowLoopLabel, The first antecedent of a loop junction is always the non-looping control
                                getTypeAtFlowNode
                                  (in) [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced, flowDepth: 3, flowTypeQueryState.getFlowStackIndex(): 2
                                  pushFlow(Assignment|Referenced)
                                  0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                  1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                  2: , LoopLabel|Label|Referenced|Shared
                                  3: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                  (dbgiter:0) [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced, flowDepth: 4
                                  (dbgiter:1) , BranchLabel|Label|Referenced, flowDepth: 4
                                  getTypeAtFlowBranchLabel
                                    (in) , BranchLabel|Label|Referenced, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                                    flowStack
                                      0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                      1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                      2: , LoopLabel|Label|Referenced|Shared
                                      3: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                    adding alias: isBar = obj && obj.kind === "bar", condition: TrueCondition|Condition|Referenced|Shared
                                    briter:0, ante:[obj, (867,871)], FalseCondition|Condition|Referenced
                                    skipping because aliasFlowTF is true but anteTF is false
                                    briter:1, ante:[obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced
                                    getTypeAtFlowNode
                                      (in) [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced, flowDepth: 4, flowTypeQueryState.getFlowStackIndex(): 3
                                      pushFlow(TrueCondition|Condition|Referenced)
                                      0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                      1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                      2: , LoopLabel|Label|Referenced|Shared
                                      3: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                      4: [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced
                                      (dbgiter:0) [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced, flowDepth: 5
                                      getTypeAtFlowCondition
                                        (fc  in) [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced, flowDepth: 5
                                        getTypeAtFlowNode
                                          (in) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 5, flowTypeQueryState.getFlowStackIndex(): 4
                                          pushFlow(TrueCondition|Condition|Referenced|Shared)
                                          0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                          1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                          2: , LoopLabel|Label|Referenced|Shared
                                          3: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                          4: [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced
                                          5: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                                          (dbgiter:0) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 6
                                          getTypeAtFlowCondition
                                            (fc  in) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 6
                                            getTypeAtFlowNode
                                              (in) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 6, flowTypeQueryState.getFlowStackIndex(): 5
                                              pushFlow(Assignment|Referenced|Shared)
                                              0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                              1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                              2: , LoopLabel|Label|Referenced|Shared
                                              3: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                              4: [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced
                                              5: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                                              6: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                                              (dbgiter:0) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 7
                                              (dbgiter:1) , BranchLabel|Label|Referenced, flowDepth: 7
                                              getTypeAtFlowBranchLabel
                                                (in) , BranchLabel|Label|Referenced, flowDepth: 7, flowTypeQueryState.getFlowStackIndex(): 6
                                                flowStack
                                                  0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                                  1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                                  2: , LoopLabel|Label|Referenced|Shared
                                                  3: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                                  4: [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced
                                                  5: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                                                  6: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                                                adding alias: isFoo = obj && obj.kind === "foo", condition: FalseCondition|Condition|Referenced|Shared
                                                briter:0, ante:[obj, (822,826)], FalseCondition|Condition|Referenced
                                                getTypeAtFlowNode
                                                  (in) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 7, flowTypeQueryState.getFlowStackIndex(): 6
                                                  pushFlow(FalseCondition|Condition|Referenced)
                                                  0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                                  1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                                  2: , LoopLabel|Label|Referenced|Shared
                                                  3: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                                  4: [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced
                                                  5: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                                                  6: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                                                  7: [obj, (822,826)], FalseCondition|Condition|Referenced
                                                  (dbgiter:0) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 8
                                                  getTypeAtFlowCondition
                                                    (fc  in) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 8
                                                    getTypeAtFlowNode
                                                      (in) , Start|Referenced|Shared, flowDepth: 8, flowTypeQueryState.getFlowStackIndex(): 7
                                                      pushFlow(Start|Referenced|Shared)
                                                      0: [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared
                                                      1: [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared
                                                      2: , LoopLabel|Label|Referenced|Shared
                                                      3: [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced
                                                      4: [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced
                                                      5: [obj, (867,871)], TrueCondition|Condition|Referenced|Shared
                                                      6: [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared
                                                      7: [obj, (822,826)], FalseCondition|Condition|Referenced
                                                      8: , Start|Referenced|Shared
                                                      (dbgiter:0) , Start|Referenced|Shared, flowDepth: 9
                                                      popFlow()->Start|Referenced|Shared
                                                      (out) , Start|Referenced|Shared, flowDepth: 8, ret: number
                                                    (fc ) flow.id: undefined, asumeTrue:false, nonEvolvingType: number, narrowedType: number
                                                    (fc out) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 8, ret: number
                                                  popFlow()->FalseCondition|Condition|Referenced
                                                  (out) [obj, (822,826)], FalseCondition|Condition|Referenced, flowDepth: 7, ret: number
                                                briter:0, flowType: number, type: number
                                                (out) , BranchLabel|Label|Referenced, flowDepth: 7, ret: number
                                              popFlow()->Assignment|Referenced|Shared
                                              (out) [isFoo = obj && obj.kind === "foo", (814,848)], Assignment|Referenced|Shared, flowDepth: 6, ret: number
                                            (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: number, narrowedType: number
                                            (fc out) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 6, ret: number
                                          popFlow()->TrueCondition|Condition|Referenced|Shared
                                          (out) [obj, (867,871)], TrueCondition|Condition|Referenced|Shared, flowDepth: 5, ret: number
                                        (fc ) flow.id: undefined, asumeTrue:true, nonEvolvingType: number, narrowedType: number
                                        (fc out) [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced, flowDepth: 5, ret: number
                                      popFlow()->TrueCondition|Condition|Referenced
                                      (out) [obj.kind === "bar", (874,893)], TrueCondition|Condition|Referenced, flowDepth: 4, ret: number
                                    briter:1, flowType: number, type: number
                                    (out) , BranchLabel|Label|Referenced, flowDepth: 4, ret: number
                                  popFlow()->Assignment|Referenced
                                  (out) [isBar = obj && obj.kind === "bar", (859,893)], Assignment|Referenced, flowDepth: 3, ret: number
                                getTypeAtFlowLoopLabel, cache.set(-1|14|14|55: obj,[2423,2427].xbar, number
                                getTypeAtFlowLoopLabel, flow: , LoopLabel|Label|Referenced|Shared, return: number
                              popFlow()->LoopLabel|Label|Referenced|Shared
                              (out) , LoopLabel|Label|Referenced|Shared, flowDepth: 2, ret: number
                            (fc ) flow.id: 5, asumeTrue:false, nonEvolvingType: number, narrowedType: number
                            (fc out) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 2, ret: number
                          popFlow()->FalseCondition|Condition|Referenced|Shared
                          (out) [isFoo, (2333,2338)], FalseCondition|Condition|Referenced|Shared, flowDepth: 1, ret: number
                        (fc ) flow.id: 6, asumeTrue:true, nonEvolvingType: number, narrowedType: number
                        (fc out) [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared, flowDepth: 1, ret: number
                      popFlow()->TrueCondition|Condition|Referenced|Shared
                      (out) [isBar, (2393,2398)], TrueCondition|Condition|Referenced|Shared, flowDepth: 0, ret: number
                    sharedFlowCount: 6, typeAtFlowNode: number
                    sharedFlowCount: 6, evolvedType: number
                    return resultType: number
                  checkExpressionWorker return: obj.xbar, [2423,2432] -> number
checkSourceElement
  
myDebug=true, myNoCache=false, myDisable=false
myDebug=true, myNoCache=false, myDisable=false
[J[90m  [[0m[36m[0m...................................[90m][0m[31m
Test failure:
Correct JS output for tests/cases/compiler/_cax-a2.ts
[0m[31m
Test failure:
Correct type/symbol baselines for tests/cases/compiler/_cax-a2.ts
[0m

[92m [0m[32m 4 passing[0m[90m (3s)[0m
[31m  2 failing[0m

[0m  1) compiler tests
       compiler tests for tests/cases/compiler/_cax-a2.ts
         Correct JS output for tests/cases/compiler/_cax-a2.ts:
[0m[31m     Error: New baseline created at tests/baselines/local/_cax-a2.js[0m[90m
      at writeComparison (src/harness/harnessIO.ts:1400:31)
      at Object.runBaseline (src/harness/harnessIO.ts:1419:13)
      at Object.doJsEmitBaseline (src/harness/harnessIO.ts:929:22)
      at CompilerTest.verifyJavaScriptOutput (src/testRunner/compilerRunner.ts:286:26)
      at Context.<anonymous> (src/testRunner/compilerRunner.ts:91:86)
      at processImmediate (node:internal/timers:466:21)
[0m
[0m  2) compiler tests
       compiler tests for tests/cases/compiler/_cax-a2.ts
         Correct type/symbol baselines for tests/cases/compiler/_cax-a2.ts:
[0m[31m     Error: New baseline created at tests/baselines/local/_cax-a2.types
    at writeComparison (/mnt/common/github/TypeScript-cph/src/harness/harnessIO.ts:1400:31)
    at Object.runBaseline (/mnt/common/github/TypeScript-cph/src/harness/harnessIO.ts:1419:13)
    at checkBaseLines (/mnt/common/github/TypeScript-cph/src/harness/harnessIO.ts:763:30)
    at Object.doTypeAndSymbolBaseline (/mnt/common/github/TypeScript-cph/src/harness/harnessIO.ts:726:17)
    at CompilerTest.verifyTypesAndSymbols (/mnt/common/github/TypeScript-cph/src/testRunner/compilerRunner.ts:318:22)
    at Context.<anonymous> (/mnt/common/github/TypeScript-cph/src/testRunner/compilerRunner.ts:93:84)
    at callFn (/mnt/common/github/TypeScript-cph/node_modules/mocha/lib/runnable.js:366:21)
    at Test.Runnable.run (/mnt/common/github/TypeScript-cph/node_modules/mocha/lib/runnable.js:354:5)
    at Runner.runTest (/mnt/common/github/TypeScript-cph/node_modules/mocha/lib/runner.js:666:10)
    at /mnt/common/github/TypeScript-cph/node_modules/mocha/lib/runner.js:789:12
    at next (/mnt/common/github/TypeScript-cph/node_modules/mocha/lib/runner.js:581:14)
    at /mnt/common/github/TypeScript-cph/node_modules/mocha/lib/runner.js:591:7
    at next (/mnt/common/github/TypeScript-cph/node_modules/mocha/lib/runner.js:474:14)
    at Immediate._onImmediate (/mnt/common/github/TypeScript-cph/node_modules/mocha/lib/runner.js:559:5)
    at processImmediate (node:internal/timers:466:21)
Error: New baseline created at tests/baselines/local/_cax-a2.symbols
    at writeComparison (/mnt/common/github/TypeScript-cph/src/harness/harnessIO.ts:1400:31)
    at Object.runBaseline (/mnt/common/github/TypeScript-cph/src/harness/harnessIO.ts:1419:13)
    at checkBaseLines (/mnt/common/github/TypeScript-cph/src/harness/harnessIO.ts:763:30)
    at Object.doTypeAndSymbolBaseline (/mnt/common/github/TypeScript-cph/src/harness/harnessIO.ts:733:17)
    at CompilerTest.verifyTypesAndSymbols (/mnt/common/github/TypeScript-cph/src/testRunner/compilerRunner.ts:318:22)
    at Context.<anonymous> (/mnt/common/github/TypeScript-cph/src/testRunner/compilerRunner.ts:93:84)
    at callFn (/mnt/common/github/TypeScript-cph/node_modules/mocha/lib/runnable.js:366:21)
    at Test.Runnable.run (/mnt/common/github/TypeScript-cph/node_modules/mocha/lib/runnable.js:354:5)
    at Runner.runTest (/mnt/common/github/TypeScript-cph/node_modules/mocha/lib/runner.js:666:10)
    at /mnt/common/github/TypeScript-cph/node_modules/mocha/lib/runner.js:789:12
    at next (/mnt/common/github/TypeScript-cph/node_modules/mocha/lib/runner.js:581:14)
    at /mnt/common/github/TypeScript-cph/node_modules/mocha/lib/runner.js:591:7
    at next (/mnt/common/github/TypeScript-cph/node_modules/mocha/lib/runner.js:474:14)
    at Immediate._onImmediate (/mnt/common/github/TypeScript-cph/node_modules/mocha/lib/runner.js:559:5)
    at processImmediate (node:internal/timers:466:21)[0m[90m
  Error: Error: New baseline created at tests/baselines/local/_cax-a2.types
      at writeComparison (src/harness/harnessIO.ts:1400:31)
      at Object.runBaseline (src/harness/harnessIO.ts:1419:13)
      at checkBaseLines (src/harness/harnessIO.ts:763:30)
      at Object.doTypeAndSymbolBaseline (src/harness/harnessIO.ts:726:17)
      at CompilerTest.verifyTypesAndSymbols (src/testRunner/compilerRunner.ts:318:22)
      at Context.<anonymous> (src/testRunner/compilerRunner.ts:93:84)
      at processImmediate (node:internal/timers:466:21)  
  Error: New baseline created at tests/baselines/local/_cax-a2.symbols
      at writeComparison (src/harness/harnessIO.ts:1400:31)
      at Object.runBaseline (src/harness/harnessIO.ts:1419:13)
      at checkBaseLines (src/harness/harnessIO.ts:763:30)
      at Object.doTypeAndSymbolBaseline (src/harness/harnessIO.ts:733:17)
      at CompilerTest.verifyTypesAndSymbols (src/testRunner/compilerRunner.ts:318:22)
      at Context.<anonymous> (src/testRunner/compilerRunner.ts:93:84)
      at processImmediate (node:internal/timers:466:21)
      at Object.doTypeAndSymbolBaseline (src/harness/harnessIO.ts:740:23)
      at CompilerTest.verifyTypesAndSymbols (src/testRunner/compilerRunner.ts:318:22)
      at Context.<anonymous> (src/testRunner/compilerRunner.ts:93:84)
      at processImmediate (node:internal/timers:466:21)
[0m


